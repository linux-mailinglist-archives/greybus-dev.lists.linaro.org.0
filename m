Return-Path: <greybus-dev-bounces+lists+greybus-dev=lfdr.de@lists.linaro.org>
X-Original-To: lists+greybus-dev@lfdr.de
Delivered-To: lists+greybus-dev@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [44.210.186.118])
	by mail.lfdr.de (Postfix) with ESMTPS id 7C988D258D6
	for <lists+greybus-dev@lfdr.de>; Thu, 15 Jan 2026 16:59:33 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 7F3C2401C7
	for <lists+greybus-dev@lfdr.de>; Thu, 15 Jan 2026 15:59:32 +0000 (UTC)
Received: from mx0b-0024c301.pphosted.com (mx0b-0024c301.pphosted.com [148.163.153.153])
	by lists.linaro.org (Postfix) with ESMTPS id AEC43401EA
	for <greybus-dev@lists.linaro.org>; Thu, 15 Jan 2026 15:58:49 +0000 (UTC)
Authentication-Results: lists.linaro.org;
	dkim=pass header.d=silabs.com header.s=pps12202023 header.b=AQ+TjHrd;
	dkim=pass header.d=silabs.com header.s=selector1 header.b=Ybs0oCcn;
	spf=pass (lists.linaro.org: domain of Damien.Riegel@silabs.com designates 148.163.153.153 as permitted sender) smtp.mailfrom=Damien.Riegel@silabs.com;
	arc=pass ("microsoft.com:s=arcselector10001:i=1");
	dmarc=pass (policy=reject) header.from=silabs.com
Received: from pps.filterd (m0101742.ppops.net [127.0.0.1])
	by mx0a-0024c301.pphosted.com (8.18.1.11/8.18.1.11) with ESMTP id 60FFlYo9459381;
	Thu, 15 Jan 2026 09:58:46 -0600
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=silabs.com; h=cc
	:content-transfer-encoding:content-type:date:from:in-reply-to
	:message-id:mime-version:references:subject:to; s=pps12202023;
	 bh=wX4mgiKiMh5m9eVFFQe5fDFOFjkeKELAsuU9KpghTWc=; b=AQ+TjHrdiRjn
	TcIV3Klr53/ZVLJQhuPM7P2ohqc4rsSturCRqbQpAd2BaMfepHvmQcH3QGIYX3Ge
	24XlLqG8IoGPSqdVH3E8euzfMLFzPdryzTPSJLnRleipzdWpfPo9PxWzbjr4rkt3
	c3Uaj+vBU5tjAu0owS8paCV1HnczFnngPVmJrv6Z9mNx9y1eoSVBgOie2hMVQF3N
	xf1z8ltpaHF4cZ7VEuhW3/dGCikSqzFgIFHvRCrWG38Jr1Q3W78KWDTM+EE4rNyD
	vaRSr14m9w9bFiu+25brIOeplRIMusHSNb86e6wwzS6dzMadIHCDEpk9F1ZsylnR
	SQg29woEvg==
Received: from cy7pr03cu001.outbound.protection.outlook.com (mail-westcentralusazon11020081.outbound.protection.outlook.com [40.93.198.81])
	by mx0a-0024c301.pphosted.com (PPS) with ESMTPS id 4bq36kr0v2-3
	(version=TLSv1.3 cipher=TLS_AES_256_GCM_SHA384 bits=256 verify=NOT);
	Thu, 15 Jan 2026 09:58:45 -0600 (CST)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=AW7gepucfUqWuYtFjIDcLlkaQqIea0J8/WgCt4FiOnZDw6jp3PhH3THDzjT6xrRy0fDG5eFXoJMPGxQmldGydYQXWfJv+7Z9Q99D3xtdt7hQcrbcAV4ljsNdC8GCBkmGWoUHUfPlakbG4d5CLi5iRCp8QkNet2GwxVZr+GePqwoYl/A3hPmwSnT+Fkni3RxltwogeHZclBNrULzUhatqZ88Ov3RHMtXnBKG/B3Fq6orfmqb7xUZNqOkcDR2QuvEUwRnmMLuNDq0RKs9a1lhE0/PdEoT+fNsuFRL110KJGjHBxC4JLJ6AJBHy/7X9QithZh8RvUcVS7JCX3gSF/ITCg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=wX4mgiKiMh5m9eVFFQe5fDFOFjkeKELAsuU9KpghTWc=;
 b=kl/MPPxj+5XdepbgpuhrSWtzlwFKul/mAbAfTy2OKm7aOenO4S+K4yaOjpbxHGd8CbFvxgGs7mXyDPySjQecWcGaHEGXdTnj1ET5DYDqkX7MwgJqsS1lGZPX4smt16XPfUVyjfQHpzdt7Zj7QixFWsOZuVDKUjCHyfbu482sGe6hW2YjmDTmCW5u7/bKvV8Z4EvJOxdS3f+fgI1Zp1jPNvJXRUAfNXL05RqQE0mkoh4iCvy8IMUkj49Gcvvo0mycUJoiwHoacQJQs/XEZJHJFsIpQp4EoUKtpEc5UkSwDc6XkSwpIOf/mCRfGw5N1ohn1b/3wIyKPnMjnrL5Lqq7sA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=silabs.com; dmarc=pass action=none header.from=silabs.com;
 dkim=pass header.d=silabs.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=silabs.com;
 s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=wX4mgiKiMh5m9eVFFQe5fDFOFjkeKELAsuU9KpghTWc=;
 b=Ybs0oCcnykdvN7bfQoB6YVGfGupIxCJkSTRw6SMGPnNfl3WhqW/6s/MaHRQs3z7CiZAwTDSI3BM2qofw2jvBa5bfu2crDnjdyYSloTyuSy2S3jRu3UJNiM5DVe7YEZzd4q9jL+X4/W4JLFBnl3Fsnmy0UvIG+xdkIOLjRF2+st8=
Received: from DS0PR11MB8205.namprd11.prod.outlook.com (2603:10b6:8:162::17)
 by SA2PR11MB5097.namprd11.prod.outlook.com (2603:10b6:806:11a::24) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9499.7; Thu, 15 Jan
 2026 15:58:44 +0000
Received: from DS0PR11MB8205.namprd11.prod.outlook.com
 ([fe80::2de6:bc88:2af7:3583]) by DS0PR11MB8205.namprd11.prod.outlook.com
 ([fe80::2de6:bc88:2af7:3583%3]) with mapi id 15.20.9520.005; Thu, 15 Jan 2026
 15:58:42 +0000
From: =?UTF-8?q?Damien=20Ri=C3=A9gel?= <damien.riegel@silabs.com>
To: greybus-dev@lists.linaro.org, Johan Hovold <johan@kernel.org>,
        Alex Elder <elder@kernel.org>,
        Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        linux-kernel@vger.kernel.org
Date: Thu, 15 Jan 2026 10:58:07 -0500
Message-ID: <20260115155808.36102-15-damien.riegel@silabs.com>
X-Mailer: git-send-email 2.52.0
In-Reply-To: <20260115155808.36102-1-damien.riegel@silabs.com>
References: <20260115155808.36102-1-damien.riegel@silabs.com>
X-ClientProxiedBy: YQZPR01CA0025.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:c01:86::22) To DS0PR11MB8205.namprd11.prod.outlook.com
 (2603:10b6:8:162::17)
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic: DS0PR11MB8205:EE_|SA2PR11MB5097:EE_
X-MS-Office365-Filtering-Correlation-Id: 628c3b90-ef4f-4244-591e-08de544ef4a2
X-MS-Exchange-SenderADCheck: 1
X-MS-Exchange-AntiSpam-Relay: 0
X-Microsoft-Antispam: 
	BCL:0;ARA:13230040|1800799024|52116014|376014|366016|38350700014;
X-Microsoft-Antispam-Message-Info: 
	=?utf-8?B?UkZHWFlENDVobXBNbHptOFRoSWtNNlNzc2ZlTTZUdGJMTDF4NWpUd2h4ZWJt?=
 =?utf-8?B?c2ZodS9NZkk4NUFGSERMTFUzZ3YrdzMzbUdDc2hjaGtlRVNQZzJMNUlnOC9G?=
 =?utf-8?B?bmh2cmxDbU1KbUlTWG5zNFhGL0dpL0NlTEtZMUk3MG4zUzF1WlNiWWNKQnI5?=
 =?utf-8?B?anVLeUdhRmRCb2k0eFdGOG9FME5BelFVOWllUlpLSUxZSzkxcmxTaHBPRmtF?=
 =?utf-8?B?eHNzN1djcU5tR2p2NDVrTkxCanBPR0ZoZGxNK3A2aThlUmhjbnNyQ1lGanRK?=
 =?utf-8?B?cXNkMk00c3JLc25UaFBxQ210K00vSFU1WGZYSlVROWYrMHJnVVBHSjY2R1Fa?=
 =?utf-8?B?Y1VUaU82T3I1Ry9hMEVyeWl6Y2k2L0xIdVZDdHVkcmVlbmFoY1FDNFpVYUFz?=
 =?utf-8?B?NTh3Qlh0eE11TWc4QlBsTFpGcUR6WFREN3hldVhxRTQ4YW44RlpGd3dqa0c5?=
 =?utf-8?B?S1Jjak9EdEJmWnN5b1BrQUhmdjBvc08wc0hYRXRUUU44RzA2bUlieHI3NjZP?=
 =?utf-8?B?WnlMcm1SOTdYRVAwZElHVStBdXpnek1TSExSWHB2TVYrNHlnUVJJM1NBanNG?=
 =?utf-8?B?UG5VNi9pakh2Mk83R2tkeE0wOThpMWU1N3Y3VEVLQm5XUGt2RW05ZjJOT0FQ?=
 =?utf-8?B?UlFjbGtibmlWZEhnM2VlUU5KQWVySEJGeDFLZmxNQWVraStMRmlIVjBzYkJv?=
 =?utf-8?B?YWdZS1dBTVdBMS9tVUM2YUU3TjZvRjFSZEtwVmtvVGNadnFxbXZEVWs3bGNW?=
 =?utf-8?B?VWZ4YmpZK25yWkdrZjNBYndlN3g4aE5xMWlSWVVvejZWaEFZcWtTZXBQY1hp?=
 =?utf-8?B?alA4TXR5U3pwMmRyS1I2K2RrbVErWHhmNTJVaWxpQ2xGVENhQjNSQmovKzYv?=
 =?utf-8?B?OWdGMTJYb2pWVDBQWHJXSWMxM1FqcWxobkhTR0dsbkxaWmZoLzNqQVZvK2xL?=
 =?utf-8?B?MXlQcDBSUzNRL0IyWUJUT2M1cnhkVzlHTnFYcFlXUWEyZXJTS1RwbFUyWUtM?=
 =?utf-8?B?L0Y4WU5pa2FQdXBiMTNkTmNyZ1IrM1FGUUdQSDhDbW1FeWJremRzc1JraXE4?=
 =?utf-8?B?S29uNXlyeXVGdEhXSFlXM0NFUHE0VGs1c2hVRGIvWERCSDNGZmQ1VkpDV2Y0?=
 =?utf-8?B?c280b0NxSEx5UEZSVndPVTRsL2I3MWYzZTN2WlNZYUV6aFN3RUowY0FoVmhS?=
 =?utf-8?B?TTY5S0oxYlNsdWlsVEQrQTdpbUprQzZqTk80YWlGTktXakhTQW9McXo2czRj?=
 =?utf-8?B?cVlIYUlJcVFqeUljaEZ6aUtPRmRNYzNDcUVDMGpIbldmNGV2MXJacUVJSFpK?=
 =?utf-8?B?SFZSaWFqWmdodVlwakxySU1RMU9PNjhQaGUyTkRMNCsvMW1GL0MwVnAxQ09F?=
 =?utf-8?B?eENWOEtmWmkvK3dJSXNnMHo3Zkt5c0ZsVmk1SEhoYUMxQWphK1dvUkhCZ3d5?=
 =?utf-8?B?QlY4UDRhVklod0N4a2FFZzA5VmRqc0U1OFl0STF0RENPTC8zdjdBM2QzeWxn?=
 =?utf-8?B?TStBUjVzSVVUbU4vRkIrSEZZK1NMVXNJemFKaTB1SjkxVHFUa1dlOFN3V0w2?=
 =?utf-8?B?RTg3SU1RTVpkTG9hd3Q5WjZ6WmpOR01IOW11QjFnZjNIc1ZFcS9wWlNUZFlv?=
 =?utf-8?B?S3FUY0hjRTg1cnYya1ZrQUZ6QjNJaFFlblVhL1FzK0tCSi90MWE3eGRSdmFL?=
 =?utf-8?B?cnE0bWorckVGek5aM1FScVR6NENJZVZPcFoxaXBZelFaYVZrV0p5MnJyUHVu?=
 =?utf-8?B?REpXQTNKSnhwTXlKQ0hqV0p6Z0dGNGN2dkRLNkF0b2N1SjFpelBkc3ZaWllz?=
 =?utf-8?B?bXB6N2o5azF6Wjg5R0xBZUgramxnOWdtTFloQzdFd3JrYUlwazJzNi9OQnBr?=
 =?utf-8?B?WHh1UUtDUjRvM1l3UTArVmwvRk8vcHQ4MkpRYkE0T1I0SmV1eEdzMUoxSmxn?=
 =?utf-8?B?VDVwSEd3b2N2VFlLbjlNYjJxNmN4SGI0VlFQa0pNYzhYeHBHQ3NwNndJTVhM?=
 =?utf-8?B?Ykp5bWlDOUpFTDIxa2NFUTV4YmpUcDJHd2ZhRndSaTRXYWhEN05XMnR2K0VP?=
 =?utf-8?B?REoyK1lSVGpXNTdUTVdNY29tSWU0U2UvdHpEYk5BT1l6MkdNRlI1V2hBMmZU?=
 =?utf-8?B?VHBPOGxFY0tpQTYyUGFSNFdFemEwVWJHRlNpOGVscE0vTzhBMGVCK3lkOGNK?=
 =?utf-8?Q?JUjx2KmmEqLuOVGZhNuSK+4=3D?=
X-Forefront-Antispam-Report: 
	CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:DS0PR11MB8205.namprd11.prod.outlook.com;PTR:;CAT:NONE;SFS:(13230040)(1800799024)(52116014)(376014)(366016)(38350700014);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0: 
	=?utf-8?B?OENuTWpBWUhhcWZaLzRMWi8wRitFZlJPR2xOSFRJT0JXVSsvaXo5eG16ci9m?=
 =?utf-8?B?b3E2SEplU0hvbndQRldRL0JUSExtUzk5U0V1OWlDZnd4bEY2QmVsdWcxc3lw?=
 =?utf-8?B?OUZiaGpTdzZ0TFRYenBxeEhhWmlHTC95RXdId2hiMFU2TVVld043Z3BJMlBQ?=
 =?utf-8?B?N1Nqb0VPSVYxRXR2ZmN6cTVocW5rZzk4WFY3QW12UC90akY0NzZiZk1qZFRQ?=
 =?utf-8?B?ZW1vR0o4VWlzRzZTOFhaeldTQjM0cjRJTkpRQStCVDA3MTRGSXp2UWhNSWdV?=
 =?utf-8?B?cm9VZU5VT252MU1XQ3ZxZGxuZTh1Qjc0Vng0Zk5MaUtteThBdmd5aklOWFNW?=
 =?utf-8?B?dTYzalprWXZoNldrNWIvbUFEYU4wRXpzWDZYcVQ3d252WnpWeVVEOXNuTks5?=
 =?utf-8?B?N0d3NnRlc3F2alBpalMxUTlKY053SHJ6SlljcTZQN3A1UnI1ZlVmNXlMMXZj?=
 =?utf-8?B?UzQ4YVRWZGZJZzRsankvc0pLbDd5NXBObTlNMHkwdzNsc2JNT21nb2xUc2NE?=
 =?utf-8?B?NFppd3lEdkNibDhhZ0wwazFQZWM1b21WRFU3MURIMXRpaUJxZUZIaUxRc0Vt?=
 =?utf-8?B?eUdNaDQ2aUxQYnN1amVqYnUyVWpYVnMzM1lMZmI5amxGcGY4cW4vQmc1bWMr?=
 =?utf-8?B?VEhQUFA4UTNDcmFCbDRUc3FMbEIwM2lmRFVVcnBhbTc5eEdGVnAwZzNuU2p3?=
 =?utf-8?B?a25FLzRHVEpZb0hqUEMzMDFwa2ZYRDJYWmFsV21KWHlITUlObWRwVHJXb3Yx?=
 =?utf-8?B?RlRJckRLcDZxZ2pWblVhc2ZJSzd0bFZ1QmVIeWlTMGhYRk54NWR6Z2hNQ0tU?=
 =?utf-8?B?bjZ4dHF0RVp6enZiSVl4ZmNPVzNVcTV6ekdQRXZqV25XenRFMU1KZ3JIYitZ?=
 =?utf-8?B?cGVuZ01OeXRnQ2lGT0JQZmRPQ0xMYWFydGRRY3Q3RmRVbmU2OWdEdzVEMlA2?=
 =?utf-8?B?Q3lKQ1NIbEM5T0VkZ2ZaUXY3a1dMWi9URW1qV3JrK3NjRjJORitUVm9remhr?=
 =?utf-8?B?V29CTC9DVHZhb3ZxTU5SNUR5WVlRVkF3VDFIcTFiQXFmbUg5bmVRWDY4d0VX?=
 =?utf-8?B?dk1hVnQ0bFd2RkJTU01NWFVCZzREREJKcDh6OHNmT2IvOVV3NUZwSnA4VWhE?=
 =?utf-8?B?RzZDOWxrYlNDSzY5U0RDWnM3UXJyZWFCb3Q2RURxN3NUYnpXVlIzTlFhT3F5?=
 =?utf-8?B?Mjl6RkJwaUtEbHFaRDhYU3BZMXRBMTFucUZjSjhnd0t3bXhtWm1mL3NSc01k?=
 =?utf-8?B?NElRbVpURE1PZ1FlRHJKbFAxaXZlcWh0V0Z6S0ZtTTViWUdYUWQwVDMyWVdU?=
 =?utf-8?B?UTdmQ09lbFUzazh0KzQvaGhMOVFpdENUa3V6UTZqWUNZZDZpWi93ZkRSYUov?=
 =?utf-8?B?Wm5kSXRSK2M3VHB5VUNzZSs1a3Q2VDdWWGJOK3c5amFLZkpWVERSN25ZejNW?=
 =?utf-8?B?ODNvZFl4djJ6ckxaUVo1WEhqdU1wT0pXbXhwTDJlL2NBOXI0VjRSU3g5Q1BU?=
 =?utf-8?B?Ti91dCtGeDZmbzRJUkZSY0hCQ0FZdkZkcHR3d1hUSi9JN0RtaWFHd1BrRVkv?=
 =?utf-8?B?ZmFJa0lPZWdKVHpXbGp0TjUzM1FKNEVYamVOZkZDMGtZM0dWd1lNbks4blNp?=
 =?utf-8?B?UVdGMVNET3NMOW9KZXhLZUIxalVabDR3RkV0cXloWGRtZVV3YXYxWldZYUNl?=
 =?utf-8?B?Z01DaDRtMFl0czVhMERwZDJKaElDeDFqMjF3emZPZEhGMUdYdTRxNmZXTnpT?=
 =?utf-8?B?VVlCZkhOYVgzb2lmYTYzSHBycXE3YW9MVGlYNUJmMWNZaVN2T1AzelF0bUVD?=
 =?utf-8?B?cHVMZk9HMWxaeERsNkFoMDNWYVFBS0MyQ1R5cTM2cEM1N0RPSnhkcTQvcSt1?=
 =?utf-8?B?bFN3L29xYnZWTDFKYVV2MnRwd3pManVOWnVYSUJWT21qL1puZ2R1VUpuK2Ux?=
 =?utf-8?B?aWRsRGllUG02OUJLM0V5M3hPaHBSOXFzSEI3SmNva1lERUpBeDBqTEROdGhs?=
 =?utf-8?B?TUhKSU1NWm56THRyaWJ5eUhOSWs1S1lWQlVFQjlNMGJ1WHpjOVovMmpBUStt?=
 =?utf-8?B?U1AyNVB2MzRwd0c4cmV1VytaenJYVEtsS0gxNVdXUXp5K1FaMTh1YmVsYWYv?=
 =?utf-8?B?Z2NXU3hlcThPeUxrK0FLUytYc0hMVEpoNGkyYkhJTzFEVExCUXpyVnh3c0pp?=
 =?utf-8?B?T2VjRDhOdnpJTzVaYWUxcndHcklUQ2grcU9SVUhhaFUzRGR1Z0VONkFGUE5T?=
 =?utf-8?B?QURPZ0FZVmpOUHRZU2I2Zm80UUhKZGY0NjMrZlkxaEo0NXczaWpuVmltM2hM?=
 =?utf-8?B?a3ZiWE41SEg4U1lPc21JdVhESUVFaVpZTFEvZTkvQ0NJblVSSWI4dz09?=
X-OriginatorOrg: silabs.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 628c3b90-ef4f-4244-591e-08de544ef4a2
X-MS-Exchange-CrossTenant-AuthSource: DS0PR11MB8205.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 15 Jan 2026 15:58:42.3502
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 54dbd822-5231-4b20-944d-6f4abcd541fb
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: 9WGADgeyrpKhPw1rcnTk3YKw7Bh7u3LtB4N1USmoA0l6PaKegHFH387sYf4c9oBYI3x64tPzjeouSL4jVc9sdw==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SA2PR11MB5097
X-Proofpoint-GUID: HyLPZ0z9jvgJGZQEhwqievnbFdzXh1v_
X-Authority-Analysis: v=2.4 cv=M6BA6iws c=1 sm=1 tr=0 ts=69690eb6 cx=c_pps
 a=vcV0SyA3r3yo/t37AMr7eA==:117 a=6eWqkTHjU83fiwn7nKZWdM+Sl24=:19
 a=z/mQ4Ysz8XfWz/Q5cLBRGdckG28=:19 a=lCpzRmAYbLLaTzLvsPZ7Mbvzbb8=:19
 a=xqWC_Br6kY4A:10 a=IkcTkHD0fZMA:10 a=vUbySO9Y5rIA:10 a=M51BFTxLslgA:10
 a=i1IsUcr2s-wA:10 a=VkNPw1HP01LnGYTKEx00:22 a=2AEO0YjSAAAA:8
 a=ijG-J2Scc44MUVjsrbIA:9 a=3ZKOabzyN94A:10 a=QEXdDO2ut3YA:10
X-Proofpoint-Spam-Details-Enc: AW1haW4tMjYwMTE1MDEyMSBTYWx0ZWRfX+GyTZb/q2Xkn
 ektiUbFxKt5Xya8cS2CUwlXFK4s3KdeHyriVDABaIQZA413FAQm9Rzra+TE6wQNpVZ1T8hnklVC
 pmIfg7E6gwBdj7XGHOgXr8sOAIJYDBaNDkHc6GnuU0O9EpQwBGR5qhK0zMkQlevkE0DSpqZkOsN
 eeMEr7wt7Cc5nn35muYvhpGgvSsScnJsSnkt1KF89IqUnuItizS6TlNWUycvKrCc6sI8cCtq4XO
 NY+zTBUCqJtlCG42mU/3LJLxn5ZGl+1rU2LuKi8raGYy+W77xyh0MJdoSqQ61vmW0CJCZsC6IaN
 ww0LnyHjjTeZrFHWw/3PyNR5+nLL+DOqdepZbTQ5kF2hiVOfrbYBMMROIH5XWyjvVxB7Jf/XdrD
 VrurKYPM+J7MM3s76nS7ngi9AKnCwRytkqK1fPnpHqiISZyRNtaaqG4j2Pd5u1iNeKPG80EHctn
 RrtzuTLIoLVMWZw/REw==
X-Proofpoint-ORIG-GUID: HyLPZ0z9jvgJGZQEhwqievnbFdzXh1v_
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.293,Aquarius:18.0.1121,Hydra:6.1.9,FMLib:17.12.100.49
 definitions=2026-01-15_05,2026-01-15_01,2025-10-01_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 impostorscore=0 suspectscore=0 bulkscore=0 spamscore=0 adultscore=0
 priorityscore=1501 clxscore=1015 lowpriorityscore=0 phishscore=0
 malwarescore=0 classifier=typeunknown authscore=0 authtc= authcc=
 route=outbound adjust=0 reason=mlx scancount=1 engine=8.22.0-2512120000
 definitions=main-2601150121
X-Rspamd-Queue-Id: AEC43401EA
X-Spamd-Bar: ----
X-Spamd-Result: default: False [-4.00 / 15.00];
	BAYES_HAM(-3.00)[100.00%];
	ARC_ALLOW(-1.00)[microsoft.com:s=arcselector10001:i=1];
	MID_CONTAINS_FROM(1.00)[];
	DMARC_POLICY_ALLOW(-0.50)[silabs.com,reject];
	R_DKIM_ALLOW(-0.20)[silabs.com:s=pps12202023,silabs.com:s=selector1];
	R_SPF_ALLOW(-0.20)[+ip4:148.163.153.153];
	MIME_GOOD(-0.10)[text/plain];
	MIME_TRACE(0.00)[0:+];
	ASN(0.00)[asn:22843, ipnet:148.163.152.0/22, country:US];
	RCPT_COUNT_SEVEN(0.00)[8];
	RCVD_COUNT_THREE(0.00)[4];
	TO_DN_SOME(0.00)[];
	FROM_HAS_DN(0.00)[];
	NEURAL_HAM(-0.00)[-1.000];
	FROM_EQ_ENVFROM(0.00)[];
	RCVD_TLS_LAST(0.00)[];
	TO_MATCH_ENVRCPT_SOME(0.00)[];
	DKIM_TRACE(0.00)[silabs.com:+]
X-Rspamd-Action: no action
X-Rspamd-Server: lists.linaro.org
Message-ID-Hash: Z2IH7MH6VR26BXF67FRKBWJFB3BYUC3D
X-Message-ID-Hash: Z2IH7MH6VR26BXF67FRKBWJFB3BYUC3D
X-MailFrom: Damien.Riegel@silabs.com
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: Silicon Labs Kernel Team <linux-devel@silabs.com>, Gabriel Beaulieu <gabriel.beaulieu@silabs.com>, =?UTF-8?q?Damien=20Ri=C3=A9gel?= <damien.riegel@silabs.com>
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [greybus-dev] [PATCH v2 14/14] greybus: cpc: add CPC SDIO host driver
List-Id: Greybus Development Mail List <greybus-dev.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/greybus-dev@lists.linaro.org/message/Z2IH7MH6VR26BXF67FRKBWJFB3BYUC3D/>
List-Archive: <https://lists.linaro.org/archives/list/greybus-dev@lists.linaro.org/>
List-Help: <mailto:greybus-dev-request@lists.linaro.org?subject=help>
List-Owner: <mailto:greybus-dev-owner@lists.linaro.org>
List-Post: <mailto:greybus-dev@lists.linaro.org>
List-Subscribe: <mailto:greybus-dev-join@lists.linaro.org>
List-Unsubscribe: <mailto:greybus-dev-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

RnJvbTogR2FicmllbCBCZWF1bGlldSA8Z2FicmllbC5iZWF1bGlldUBzaWxhYnMuY29tPg0KDQpU
aGlzIGludHJvZHVjZXMgYSBuZXcgbW9kdWxlIGdiLWNwYy1zZGlvLCBpbiBvcmRlciB0byBjb21t
dW5pY2F0ZSB3aXRoIGENCkdyZXlidXMgQ1BDIGRldmljZSBvdmVyIFNESU8uDQoNCk1vc3Qgb2Yg
dGhlIGNvbXBsZXhpdHkgc3RlbXMgZnJvbSBhZ2dyZWdhdGlvbjogcGFja2V0cyBhcmUgYWdncmVn
YXRlZCB0bw0KbWluaW1pemUgdGhlIG51bWJlciBvZiBDTUQ1M3MuIEluIHRoZSBmaXJzdCBibG9j
aywgdGhlIGZpcnN0IGxlMzIgaXMgdGhlDQpudW1iZXIgb2YgcGFja2V0cyBpbiB0aGlzIHRyYW5z
ZmVyLiBJbW1lZGlhdGVseSBhZnRlciB0aGF0IGFyZSBhbGwgdGhlDQpwYWNrZXQgaGVhZGVycyAo
Q1BDICsgR3JleWJ1cykuIFRoaXMgbGV0cyB0aGUgZGV2aWNlIHByb2Nlc3MgYWxsIHRoZQ0KaGVh
ZGVycyBpbiBhIHNpbmdsZSBpbnRlcnJ1cHQsIGFuZCBwcmVwYXJlIHRoZSBBRE1BIGRlc2NyaXB0
b3JzIGZvciBhbGwNCnRoZSBwYXlsb2FkcyBpbiBvbmUgZ28uDQoNClBheWxvYWRzIHN0YXJ0IGF0
IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNlY29uZCBibG9jayBhbmQgYXJlIGNvbmNhdGFpbmVkLg0K
VGhlaXIgbGVuZ3RocyBtdXN0IGJlIDMyLWJpdCBhbGlnbmVkLCBzbyB0aGUgZHJpdmVyIHRha2Vz
IGNhcmUgb2YgYWRkaW5nDQphbmQgcmVtb3ZpbmcgcGFkZGluZyBpZiBuZWNlc3NhcnkuDQoNClNp
Z25lZC1vZmYtYnk6IEdhYnJpZWwgQmVhdWxpZXUgPGdhYnJpZWwuYmVhdWxpZXVAc2lsYWJzLmNv
bT4NClNpZ25lZC1vZmYtYnk6IERhbWllbiBSacOpZ2VsIDxkYW1pZW4ucmllZ2VsQHNpbGFicy5j
b20+DQotLS0NCkNoYW5nZXMgaW4gdjI6DQogIC0gY2hhbmdlIGZvcm1hdHRpbmcgZnJvbSAlbHUg
dG8gJXp1IHdoZW4gcHJpbnRpbmcgc2l6ZV90J3MNCiAgLSByZW1vdmUgIi8qKiIga2VybmVsLWRv
YyBtYXJrZXIgZm9yIHN0YXRpYyBmdW5jdGlvbnMgbm90IGFjdHVhbGx5DQogICAgdXNpbmcgdGhl
IGtlcm5lbC1kb2MgZm9ybWF0DQogIC0gcmVkdWNlIGhlYWRlciBpbmNsdXNpb24gbGlzdA0KICAt
IHVzZSByZXZlcnNlIGNocmlzdG1hcyB0cmVlIHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBjb25zaXN0
ZW50bHkNCiAgLSB1cGRhdGUgYWdncmVnYXRpb24gZnVuY3Rpb25zIHRvIHRyeSB0byBiZSBtb3Jl
IGxlZ2libGUNCiAgLSB1c2UgZGVmaW5lIGluc3RlYWQgb2YgY29uc3RhbnQgdmFsdWUgMHgwQyBm
b3IgdGhlIGFkZHJlc3Mgd2hlcmUgdG8NCiAgICByZWFkIHRoZSBudW1iZXIgb2YgYnl0ZXMgdGhl
IGRldmljZSB3YW50cyB0byBzZW5kDQogIC0gcmVtb3ZlIHBhZGRpbmcgYmV0d2VlbiBoZWFkZXJz
IGFuZCBwYXlsb2FkcyB3aGVuIGFnZ3JlZ2F0aW5nIHBhY2tldHMNCg0KIGRyaXZlcnMvZ3JleWJ1
cy9jcGMvS2NvbmZpZyAgfCAgMTIgKw0KIGRyaXZlcnMvZ3JleWJ1cy9jcGMvTWFrZWZpbGUgfCAg
IDMgKw0KIGRyaXZlcnMvZ3JleWJ1cy9jcGMvc2Rpby5jICAgfCA1MzMgKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysNCiAzIGZpbGVzIGNoYW5nZWQsIDU0OCBpbnNlcnRpb25zKCsp
DQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3JleWJ1cy9jcGMvc2Rpby5jDQoNCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dyZXlidXMvY3BjL0tjb25maWcgYi9kcml2ZXJzL2dyZXlidXMvY3Bj
L0tjb25maWcNCmluZGV4IGFiOTZmZWRkMGRlLi44MjIzZjU2Nzk1ZiAxMDA2NDQNCi0tLSBhL2Ry
aXZlcnMvZ3JleWJ1cy9jcGMvS2NvbmZpZw0KKysrIGIvZHJpdmVycy9ncmV5YnVzL2NwYy9LY29u
ZmlnDQpAQCAtOCwzICs4LDE1IEBAIGNvbmZpZyBHUkVZQlVTX0NQQw0KIA0KIAkgIFRvIGNvbXBp
bGUgdGhpcyBjb2RlIGFzIGEgbW9kdWxlLCBjaG9zZSBNIGhlcmU6IHRoZSBtb2R1bGUgd2lsbCBi
ZQ0KIAkgIGNhbGxlZCBnYi1jcGMua28NCisNCitjb25maWcgR1JFWUJVU19DUENfU0RJTw0KKwl0
cmlzdGF0ZSAiR3JleWJ1cyBDUEMgb3ZlciBTRElPIg0KKwlkZXBlbmRzIG9uIEdSRVlCVVNfQ1BD
ICYmIE1NQw0KKwloZWxwDQorCSAgVGhpcyBkcml2ZXIgcHJvdmlkZXMgR3JleWJ1cyBDUEMgaG9z
dCBzdXBwb3J0IGZvciBkZXZpY2VzDQorCSAgY29ubmVjdGVkIHZpYSBTRElPIGludGVyZmFjZS4N
CisNCisJICBUbyBjb21waWxlIHRoaXMgZHJpdmVyIGFzIGEgbW9kdWxlLCBjaG9vc2UgTSBoZXJl
OiB0aGUgbW9kdWxlDQorCSAgd2lsbCBiZSBjYWxsZWQgZ2ItY3BjLXNkaW8uDQorDQorCSAgSWYg
dW5zdXJlLCBzYXkgTi4NCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dyZXlidXMvY3BjL01ha2VmaWxl
IGIvZHJpdmVycy9ncmV5YnVzL2NwYy9NYWtlZmlsZQ0KaW5kZXggYzRiNTMwZDI3YTMuLjMyOTY1
MzZlODZkIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncmV5YnVzL2NwYy9NYWtlZmlsZQ0KKysrIGIv
ZHJpdmVycy9ncmV5YnVzL2NwYy9NYWtlZmlsZQ0KQEAgLTQsMyArNCw2IEBAIGdiLWNwYy15IDo9
IGNwb3J0Lm8gaGVhZGVyLm8gaG9zdC5vIHByb3RvY29sLm8NCiANCiAjIENQQyBjb3JlDQogb2Jq
LSQoQ09ORklHX0dSRVlCVVNfQ1BDKQkrPSBnYi1jcGMubw0KKw0KK2diLWNwYy1zZGlvLXkgOj0g
c2Rpby5vDQorb2JqLSQoQ09ORklHX0dSRVlCVVNfQ1BDX1NESU8pCSs9IGdiLWNwYy1zZGlvLm8N
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dyZXlidXMvY3BjL3NkaW8uYyBiL2RyaXZlcnMvZ3JleWJ1
cy9jcGMvc2Rpby5jDQpuZXcgZmlsZSBtb2RlIDEwMDY0NA0KaW5kZXggMDAwMDAwMDAwMDAuLmFl
ZWI4Mzc4ZGVhDQotLS0gL2Rldi9udWxsDQorKysgYi9kcml2ZXJzL2dyZXlidXMvY3BjL3NkaW8u
Yw0KQEAgLTAsMCArMSw1MzMgQEANCisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIu
MA0KKy8qDQorICogQ29weXJpZ2h0IChjKSAyMDI1LCBTaWxpY29uIExhYm9yYXRvcmllcywgSW5j
Lg0KKyAqLw0KKw0KKyNpbmNsdWRlIDxsaW51eC9rdGhyZWFkLmg+DQorI2luY2x1ZGUgPGxpbnV4
L21tYy9zZGlvX2Z1bmMuaD4NCisjaW5jbHVkZSA8bGludXgvbW1jL3NkaW9faWRzLmg+DQorI2lu
Y2x1ZGUgPGxpbnV4L3NrYnVmZi5oPg0KKyNpbmNsdWRlIDxsaW51eC93b3JrcXVldWUuaD4NCisN
CisjaW5jbHVkZSAiY3BjLmgiDQorI2luY2x1ZGUgImhlYWRlci5oIg0KKyNpbmNsdWRlICJob3N0
LmgiDQorDQorI2RlZmluZSBHQl9DUENfU0RJT19NU0dfU0laRV9NQVggNDA5Ng0KKyNkZWZpbmUg
R0JfQ1BDX1NESU9fQkxPQ0tfU0laRSAyNTZVDQorI2RlZmluZSBHQl9DUENfU0RJT19GSUZPX0FE
RFIgMA0KKyNkZWZpbmUgR0JfQ1BDX1NESU9fUlhfQllURVNfQ05UX0FERFIgMHgwQw0KKyNkZWZp
bmUgR0JfQ1BDX1NESU9fQUxJR05NRU5UIDQNCisjZGVmaW5lIEdCX0NQQ19TRElPX0RFRkFVTFRf
QUdHUkVHQVRJT04gMQ0KKyNkZWZpbmUgQ1BDX0ZSQU1FX0hFQURFUl9TSVpFIChDUENfSEVBREVS
X1NJWkUgKyBHUkVZQlVTX0hFQURFUl9TSVpFKQ0KKyNkZWZpbmUgR0JfQ1BDX1NESU9fTUFYX0FH
R1JFR0FUSU9OICgoR0JfQ1BDX1NESU9fQkxPQ0tfU0laRSAtIHNpemVvZih1MzIpKSAvIENQQ19G
UkFNRV9IRUFERVJfU0laRSkNCisNCitlbnVtIGNwY19zZGlvX2ZsYWdzIHsNCisJQ1BDX1NESU9f
RkxBR19JUlFfUlVOTklORywNCisJQ1BDX1NESU9fRkxBR19UWF9XT1JLX0RFTEFZRUQsDQorCUNQ
Q19TRElPX0ZMQUdfU0hVVERPV04sDQorfTsNCisNCitzdHJ1Y3QgY3BjX3NkaW8gew0KKwlzdHJ1
Y3QgY3BjX2hvc3RfZGV2aWNlICpjcGNfaGQ7DQorCXN0cnVjdCBkZXZpY2UgKmRldjsNCisJc3Ry
dWN0IHNkaW9fZnVuYyAqZnVuYzsNCisNCisJc3RydWN0IHdvcmtfc3RydWN0IHR4X3dvcms7DQor
CXVuc2lnbmVkIGxvbmcgZmxhZ3M7DQorDQorCXdhaXRfcXVldWVfaGVhZF90IGV2ZW50X3F1ZXVl
Ow0KKwl1OCBtYXhfYWdncmVnYXRpb247DQorfTsNCisNCitzdHJ1Y3QgZnJhbWVfaGVhZGVyIHsN
CisJc3RydWN0IGNwY19oZWFkZXIgY3BjOw0KKwlzdHJ1Y3QgZ2Jfb3BlcmF0aW9uX21zZ19oZHIg
Z2I7DQorfSBfX3BhY2tlZDsNCisNCitzdGF0aWMgaW5saW5lIHN0cnVjdCBjcGNfc2RpbyAqY3Bj
X2hkX3RvX2NwY19zZGlvKHN0cnVjdCBjcGNfaG9zdF9kZXZpY2UgKmNwY19oZCkNCit7DQorCXJl
dHVybiAoc3RydWN0IGNwY19zZGlvICopY3BjX2hkLT5wcml2Ow0KK30NCisNCitzdGF0aWMgaW50
IGdiX2NwY19zZGlvX3dha2VfdHgoc3RydWN0IGNwY19ob3N0X2RldmljZSAqY3BjX2hkKQ0KK3sN
CisJc3RydWN0IGNwY19zZGlvICpjdHggPSBjcGNfaGRfdG9fY3BjX3NkaW8oY3BjX2hkKTsNCisN
CisJaWYgKHRlc3RfYml0KENQQ19TRElPX0ZMQUdfU0hVVERPV04sICZjdHgtPmZsYWdzKSkNCisJ
CXJldHVybiAwOw0KKw0KKwkvKiBVc2Ugc3lzdGVtIHdvcmtxdWV1ZSBmb3IgVFggcHJvY2Vzc2lu
ZyAqLw0KKwlzY2hlZHVsZV93b3JrKCZjdHgtPnR4X3dvcmspOw0KKw0KKwlyZXR1cm4gMDsNCit9
DQorDQorLyoNCisgKiBSZXR1cm4gdGhlIG1lbW9yeSByZXF1aXJlbWVudCBpbiBieXRlcyBmb3Ig
dGhlIGFnZ3JlZ2F0ZWQgZnJhbWUgYWxpZ25lZCB0byB0aGUgYmxvY2sgc2l6ZQ0KKyAqLw0KK3N0
YXRpYyBzaXplX3QgY3BjX3NkaW9fZ2V0X2FsaWduZWRfc2l6ZShzdHJ1Y3QgY3BjX3NkaW8gKmN0
eCwgc3RydWN0IHNrX2J1ZmZfaGVhZCAqZnJhbWVfbGlzdCkNCit7DQorCXN0cnVjdCBza19idWZm
ICpmcmFtZTsNCisJc2l6ZV90IHNpemUgPSAwOw0KKw0KKwkvKiBDYWxjdWxhdGUgdG90YWwgcGF5
bG9hZCBzaXplICovDQorCXNrYl9xdWV1ZV93YWxrKGZyYW1lX2xpc3QsIGZyYW1lKSB7DQorCQkv
KiBwYXlsb2FkIGlzIGFsaWduZWQgYW5kIHBhZGRlZCB0byA0IGJ5dGVzICovDQorCQlzaXplICs9
IEFMSUdOKGZyYW1lLT5sZW4sIEdCX0NQQ19TRElPX0FMSUdOTUVOVCk7DQorCX0NCisNCisJLyog
TWFrZSBzdXJlIHRoZSB0b3RhbCBwYXlsb2FkIHNpemUgaXMgYSByb3VuZCBudW1iZXIgb2YgYmxv
Y2tzICovDQorCXNpemUgPSBBTElHTihzaXplLCBHQl9DUENfU0RJT19CTE9DS19TSVpFKTsNCisN
CisJcmV0dXJuIHNpemU7DQorfQ0KKw0KK3N0YXRpYyBzaXplX3QgY3BjX3NkaW9fYnVpbGRfYWdn
cmVnYXRlZF9mcmFtZShzdHJ1Y3QgY3BjX3NkaW8gKmN0eCwNCisJCQkJCSAgICAgIHN0cnVjdCBz
a19idWZmX2hlYWQgKmZyYW1lX2xpc3QsDQorCQkJCQkgICAgICB1bnNpZ25lZCBjaGFyICoqYnVm
ZmVyKQ0KK3sNCisJdW5zaWduZWQgY2hhciAqdHhfYnVmZjsNCisJc3RydWN0IHNrX2J1ZmYgKmZy
YW1lOw0KKwlfX2xlMzIgKmZyYW1lX2NvdW50Ow0KKwlzaXplX3QgeGZlcl9zaXplOw0KKwl1bnNp
Z25lZCBpbnQgaSA9IDA7DQorDQorCXhmZXJfc2l6ZSA9IGNwY19zZGlvX2dldF9hbGlnbmVkX3Np
emUoY3R4LCBmcmFtZV9saXN0KTsNCisNCisJLyogQWxsb2NhdGUgYWdncmVnYXRlZCBmcmFtZSAq
Lw0KKwl0eF9idWZmID0ga21hbGxvYyh4ZmVyX3NpemUsIEdGUF9LRVJORUwpOw0KKwlpZiAoIXR4
X2J1ZmYpDQorCQlyZXR1cm4gMDsNCisNCisJZnJhbWVfY291bnQgPSAoX19sZTMyICopdHhfYnVm
ZjsNCisJKmZyYW1lX2NvdW50ID0gY3B1X3RvX2xlMzIoc2tiX3F1ZXVlX2xlbihmcmFtZV9saXN0
KSk7DQorCWkgKz0gc2l6ZW9mKCpmcmFtZV9jb3VudCk7DQorDQorCS8qIENvcHkgZnJhbWUgaGVh
ZGVycyB0byBhZ2dyZWdhdGUgYnVmZmVyICovDQorCXNrYl9xdWV1ZV93YWxrKGZyYW1lX2xpc3Qs
IGZyYW1lKSB7DQorCQlzdHJ1Y3QgZnJhbWVfaGVhZGVyICpmaCA9IChzdHJ1Y3QgZnJhbWVfaGVh
ZGVyICopJnR4X2J1ZmZbaV07DQorDQorCQltZW1jcHkoZmgsIGZyYW1lLT5kYXRhLCBzaXplb2Yo
KmZoKSk7DQorCQlpICs9IHNpemVvZigqZmgpOw0KKwl9DQorDQorCS8qIEJ1aWxkIHBheWxvYWQg
YmxvY2tzIGlmIHJlcXVpcmVkICovDQorCWlmICh4ZmVyX3NpemUgPiBpKSB7DQorCQlza2JfcXVl
dWVfd2FsayhmcmFtZV9saXN0LCBmcmFtZSkgew0KKwkJCXNpemVfdCBwYXlsb2FkX2xlbiwgcGFk
ZGluZ19sZW47DQorDQorCQkJaWYgKGZyYW1lLT5sZW4gPD0gQ1BDX0ZSQU1FX0hFQURFUl9TSVpF
KQ0KKwkJCQljb250aW51ZTsNCisNCisJCQlwYXlsb2FkX2xlbiA9IGZyYW1lLT5sZW4gLSBDUENf
RlJBTUVfSEVBREVSX1NJWkU7DQorCQkJbWVtY3B5KCZ0eF9idWZmW2ldLCAmZnJhbWUtPmRhdGFb
Q1BDX0ZSQU1FX0hFQURFUl9TSVpFXSwgcGF5bG9hZF9sZW4pOw0KKwkJCWkgKz0gcGF5bG9hZF9s
ZW47DQorDQorCQkJcGFkZGluZ19sZW4gPSBBTElHTihwYXlsb2FkX2xlbiwgR0JfQ1BDX1NESU9f
QUxJR05NRU5UKSAtIHBheWxvYWRfbGVuOw0KKwkJCWlmIChwYWRkaW5nX2xlbikgew0KKwkJCQlt
ZW1zZXQoJnR4X2J1ZmZbaV0sIDAsIHBhZGRpbmdfbGVuKTsNCisJCQkJaSArPSBwYWRkaW5nX2xl
bjsNCisJCQl9DQorCQl9DQorCX0NCisNCisJKmJ1ZmZlciA9IHR4X2J1ZmY7DQorDQorCXJldHVy
biB4ZmVyX3NpemU7DQorfQ0KKw0KK3N0YXRpYyBib29sIGNwY19zZGlvX2dldF9wYXlsb2FkX3Np
emUoc3RydWN0IGNwY19zZGlvICpjdHgsIGNvbnN0IHN0cnVjdCBmcmFtZV9oZWFkZXIgKmhlYWRl
ciwNCisJCQkJICAgICAgc2l6ZV90ICpwYXlsb2FkX3NpemUpDQorew0KKwlzaXplX3QgZ2Jfc2l6
ZTsNCisNCisJZ2Jfc2l6ZSA9IGxlMTZfdG9fY3B1KGhlYWRlci0+Z2Iuc2l6ZSk7DQorDQorCS8q
IFZhbGlkYXRlIHRoYXQgdGhlIHNpemUgaXMgYXQgbGVhc3QgYXMgbGFyZ2UgYXMgdGhlIEdyZXli
dXMgaGVhZGVyICovDQorCWlmIChnYl9zaXplIDwgR1JFWUJVU19IRUFERVJfU0laRSkgew0KKwkJ
ZGV2X2RiZyhjdHgtPmRldiwgIkludmFsaWQgR3JleWJ1cyBoZWFkZXIgc2l6ZTogJXp1XG4iLCBn
Yl9zaXplKTsNCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKiBWYWxpZGF0ZSBtYXhpbXVt
IHNpemUgKi8NCisJaWYgKGdiX3NpemUgPiAoR0JfQ1BDX1NESU9fTVNHX1NJWkVfTUFYICsgR1JF
WUJVU19IRUFERVJfU0laRSkpIHsNCisJCWRldl9kYmcoY3R4LT5kZXYsICJQYXlsb2FkIHNpemUg
ZXhjZWVkcyBtYXhpbXVtOiAlenVcbiIsIGdiX3NpemUpOw0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9
DQorDQorCS8qIFNpemUgaW5jbHVkZXMgdGhlIEdyZXlidXMgaGVhZGVyLCBzbyBzdWJ0cmFjdCBp
dCB0byBnZXQgcGF5bG9hZCBzaXplICovDQorCSpwYXlsb2FkX3NpemUgPSBnYl9zaXplIC0gR1JF
WUJVU19IRUFERVJfU0laRTsNCisNCisJcmV0dXJuIHRydWU7DQorfQ0KKw0KKy8qDQorICogUHJv
Y2VzcyBhZ2dyZWdhdGVkIGZyYW1lDQorICogUmVjb25zdHJ1Y3RlZCBmcmFtZSBsYXlvdXQ6DQor
ICogKy0tLS0tKy0tLS0tKy0tLS0tKy0tLS0tLSstLS0tLS0rLS0tLS0tKy0tLS0tLSstLS0tLS0t
Ky0tLS0tLS0tLSsNCisgKiB8IENQQyBIZWFkZXIgKDRCKSB8IFNpemUgfCBPcElEIHwgVHlwZSB8
IFN0YXQgfCBDUG9ydCB8IFBheWxvYWQgfA0KKyAqICstLS0tLSstLS0tLSstLS0tLSstLS0tLS0r
LS0tLS0tKy0tLS0tLSstLS0tLS0rLS0tLS0tLSstLS0tLS0tLS0rDQorICovDQorc3RhdGljIHZv
aWQgY3BjX3NkaW9fcHJvY2Vzc19hZ2dyZWdhdGVkX2ZyYW1lKHN0cnVjdCBjcGNfc2RpbyAqY3R4
LCB1bnNpZ25lZCBjaGFyICphZ2dyZWdhdGVkX2ZyYW1lLA0KKwkJCQkJICAgICAgdW5zaWduZWQg
aW50IGZyYW1lX2xlbikNCit7DQorCWNvbnN0IHVuc2lnbmVkIGNoYXIgKnBheWxvYWRfc3RhcnQ7
DQorCWNvbnN0IHN0cnVjdCBmcmFtZV9oZWFkZXIgKmhlYWRlcjsNCisJdW5zaWduZWQgaW50IHBh
eWxvYWRfb2Zmc2V0Ow0KKwlzaXplX3QgYWxpZ25lZF9wYXlsb2FkX3NpemU7DQorCXN0cnVjdCBz
a19idWZmICpyeF9za2I7DQorCV9fbGUzMiBmcmFtZV9jb3VudF9sZTsNCisJc2l6ZV90IHBheWxv
YWRfc2l6ZTsNCisJc2l6ZV90IGZyYW1lX3NpemU7DQorCXUzMiBmcmFtZV9jb3VudDsNCisNCisJ
LyogR2V0IGZyYW1lIGNvdW50IGZyb20gYWdncmVnYXRlZCBmcmFtZSAoNC1ieXRlIHUzMikgKi8N
CisJZnJhbWVfY291bnRfbGUgPSAqKChfX2xlMzIgKilhZ2dyZWdhdGVkX2ZyYW1lKTsNCisJZnJh
bWVfY291bnQgPSBsZTMyX3RvX2NwdShmcmFtZV9jb3VudF9sZSk7DQorDQorCS8qIEVuc3VyZSBm
cmFtZSBjb3VudCBkb2Vzbid0IGV4Y2VlZCBvdXIgbmVnb3RpYXRlZCBtYXhpbXVtICovDQorCWlm
IChmcmFtZV9jb3VudCA+IGN0eC0+bWF4X2FnZ3JlZ2F0aW9uKSB7DQorCQlkZXZfd2FybihjdHgt
PmRldiwNCisJCQkgIlByb2Nlc3MgYWdncmVnYXRlZCBmcmFtZTogZnJhbWUgY291bnQgJXUgZXhj
ZWVkcyBuZWdvdGlhdGVkIG1heGltdW0gJXVcbiIsDQorCQkJIGZyYW1lX2NvdW50LCBjdHgtPm1h
eF9hZ2dyZWdhdGlvbik7DQorCQlyZXR1cm47DQorCX0NCisNCisJLyogSGVhZGVyIHN0YXJ0cyBh
dCBibG9jayAwIGFmdGVyIGZyYW1lIGNvdW50ICovDQorCWhlYWRlciA9IChzdHJ1Y3QgZnJhbWVf
aGVhZGVyICopJmFnZ3JlZ2F0ZWRfZnJhbWVbc2l6ZW9mKGZyYW1lX2NvdW50X2xlKV07DQorDQor
CS8qIFBheWxvYWRzIHN0YXJ0IGF0IGJsb2NrIDEgKGFmdGVyIGNvbXBsZXRlIGJsb2NrIDApICov
DQorCXBheWxvYWRfb2Zmc2V0ID0gKGZyYW1lX2NvdW50ICogQ1BDX0ZSQU1FX0hFQURFUl9TSVpF
KSArIHNpemVvZihmcmFtZV9jb3VudF9sZSk7DQorDQorCWZvciAodW5zaWduZWQgaW50IGkgPSAw
OyBpIDwgZnJhbWVfY291bnQ7IGkrKykgew0KKwkJcGF5bG9hZF9zdGFydCA9ICZhZ2dyZWdhdGVk
X2ZyYW1lW3BheWxvYWRfb2Zmc2V0XTsNCisNCisJCS8qIEdldCBwYXlsb2FkIHNpemUgZm9yIHRo
aXMgZnJhbWUgKi8NCisJCWlmICghY3BjX3NkaW9fZ2V0X3BheWxvYWRfc2l6ZShjdHgsIGhlYWRl
ciwgJnBheWxvYWRfc2l6ZSkpIHsNCisJCQlkZXZfZXJyKGN0eC0+ZGV2LA0KKwkJCQkiUHJvY2Vz
cyBhZ2dyZWdhdGVkIGZyYW1lOiBmYWlsZWQgdG8gZ2V0IHBheWxvYWQgc2l6ZSwgYWJvcnRpbmcu
XG4iKTsNCisJCQlyZXR1cm47DQorCQl9DQorDQorCQlhbGlnbmVkX3BheWxvYWRfc2l6ZSA9IEFM
SUdOKHBheWxvYWRfc2l6ZSwgR0JfQ1BDX1NESU9fQUxJR05NRU5UKTsNCisNCisJCS8qIFZhbGlk
YXRlIHRoZSBwYXlsb2FkIGlzIHdpdGhpbiB0aGUgYnVmZmVyIGJvdW5kYXJ5ICovDQorCQlpZiAo
cGF5bG9hZF9vZmZzZXQgKyBhbGlnbmVkX3BheWxvYWRfc2l6ZSA+IGZyYW1lX2xlbikgew0KKwkJ
CWRldl9lcnIoY3R4LT5kZXYsDQorCQkJCSJQcm9jZXNzIGFnZ3JlZ2F0ZWQgZnJhbWU6IHBheWxv
YWQgaXMgb3V0IG9mIGJ1ZmZlciBib3VuZGFyeSwgYWJvcnRpbmcgYXQgZnJhbWUgJXVcbiIsDQor
CQkJCWkpOw0KKwkJCXJldHVybjsNCisJCX0NCisNCisJCS8qIENhbGN1bGF0ZSB0b3RhbCBmcmFt
ZSBzaXplOiBDUEMgaGVhZGVyICsgR3JleWJ1cyBoZWFkZXIgKyBwYXlsb2FkICovDQorCQlmcmFt
ZV9zaXplID0gQ1BDX0ZSQU1FX0hFQURFUl9TSVpFICsgcGF5bG9hZF9zaXplOw0KKw0KKwkJLyog
QWxsb2NhdGUgc2tfYnVmZiBmb3IgcmVjb25zdHJ1Y3RlZCBmcmFtZSAqLw0KKwkJcnhfc2tiID0g
YWxsb2Nfc2tiKGZyYW1lX3NpemUsIEdGUF9LRVJORUwpOw0KKwkJaWYgKCFyeF9za2IpDQorCQkJ
cmV0dXJuOw0KKw0KKwkJLyogQ29weSBoZWFkZXIgKi8NCisJCW1lbWNweShza2JfcHV0KHJ4X3Nr
YiwgQ1BDX0ZSQU1FX0hFQURFUl9TSVpFKSwgaGVhZGVyLCBDUENfRlJBTUVfSEVBREVSX1NJWkUp
Ow0KKw0KKwkJLyogQ29weSBwYXlsb2FkICovDQorCQlpZiAocGF5bG9hZF9zaXplID4gMCkNCisJ
CQltZW1jcHkoc2tiX3B1dChyeF9za2IsIHBheWxvYWRfc2l6ZSksIHBheWxvYWRfc3RhcnQsIHBh
eWxvYWRfc2l6ZSk7DQorDQorCQkvKiBTZW5kIHJlY29uc3RydWN0ZWQgZnJhbWUgdG8gQ1BDIGNv
cmUgKi8NCisJCWNwY19oZF9yY3ZkKGN0eC0+Y3BjX2hkLCByeF9za2IpOw0KKw0KKwkJLyogTW92
ZSB0byBuZXh0IGhlYWRlciBhbmQgcGF5bG9hZCBzdGFydCBhZGRyZXNzICovDQorCQloZWFkZXIr
KzsNCisJCXBheWxvYWRfb2Zmc2V0ICs9IGFsaWduZWRfcGF5bG9hZF9zaXplOw0KKwl9DQorfQ0K
Kw0KK3N0YXRpYyB1MzIgY3BjX3NkaW9fZ2V0X3J4X251bV9ieXRlcyhzdHJ1Y3Qgc2Rpb19mdW5j
ICpmdW5jLCBpbnQgKmVycikNCit7DQorCXVuc2lnbmVkIGludCByeF9udW1fYmxvY2tfYWRkciA9
IEdCX0NQQ19TRElPX1JYX0JZVEVTX0NOVF9BRERSOw0KKw0KKwlyZXR1cm4gc2Rpb19yZWFkbChm
dW5jLCByeF9udW1fYmxvY2tfYWRkciwgZXJyKTsNCit9DQorDQorc3RhdGljIHZvaWQgZ2JfY3Bj
X3NkaW9fcngoc3RydWN0IGNwY19zZGlvICpjdHgpDQorew0KKwl1bnNpZ25lZCBjaGFyICpyeF9i
dWZmOw0KKwlzaXplX3QgZGF0YV9sZW47DQorCWludCBlcnI7DQorDQorCXNkaW9fY2xhaW1faG9z
dChjdHgtPmZ1bmMpOw0KKwlkYXRhX2xlbiA9IGNwY19zZGlvX2dldF9yeF9udW1fYnl0ZXMoY3R4
LT5mdW5jLCAmZXJyKTsNCisNCisJaWYgKGVycikgew0KKwkJZGV2X2VycihjdHgtPmRldiwgImZh
aWxlZCB0byBvYnRhaW4gYnl0ZSBjb3VudCAoJWQpXG4iLCBlcnIpOw0KKwkJZ290byByZWxlYXNl
X2hvc3Q7DQorCX0NCisNCisJLyogVmFsaWRhdGUgbWluaW11bSBSWCBkYXRhIGxlbmd0aCAqLw0K
KwlpZiAoZGF0YV9sZW4gPCBzaXplb2YodTMyKSArIENQQ19GUkFNRV9IRUFERVJfU0laRSkgew0K
KwkJZGV2X2VycihjdHgtPmRldiwgImZhaWxlZCB0byBvYnRhaW4gZW5vdWdoIGJ5dGVzIGZvciBh
IGhlYWRlciAoJXp1KVxuIiwgZGF0YV9sZW4pOw0KKwkJZ290byByZWxlYXNlX2hvc3Q7DQorCX0N
CisNCisJLyogQWxsb2NhdGUgc2tfYnVmZiBmb3IgUlggZGF0YSAqLw0KKwlyeF9idWZmID0ga21h
bGxvYyhkYXRhX2xlbiwgR0ZQX0tFUk5FTCk7DQorCWlmICghcnhfYnVmZikNCisJCWdvdG8gcmVs
ZWFzZV9ob3N0Ow0KKw0KKwllcnIgPSBzZGlvX3JlYWRzYihjdHgtPmZ1bmMsIHJ4X2J1ZmYsIEdC
X0NQQ19TRElPX0ZJRk9fQUREUiwgZGF0YV9sZW4pOw0KKwlzZGlvX3JlbGVhc2VfaG9zdChjdHgt
PmZ1bmMpOw0KKw0KKwlpZiAoZXJyKSB7DQorCQlkZXZfZXJyKGN0eC0+ZGV2LCAiZmFpbGVkIHRv
IHNkaW9fcmVhZHNiICglZClcbiIsIGVycik7DQorCQlnb3RvIGZyZWVfcnhfc2tiOw0KKwl9DQor
DQorCWlmIChkYXRhX2xlbiA8IEdCX0NQQ19TRElPX0JMT0NLX1NJWkUpIHsNCisJCWRldl9lcnIo
Y3R4LT5kZXYsICJyZWNlaXZlZCAlemQgYnl0ZXMsIGV4cGVjdGVkIGF0IGxlYXN0ICV1IGJ5dGVz
XG4iLCBkYXRhX2xlbiwNCisJCQlHQl9DUENfU0RJT19CTE9DS19TSVpFKTsNCisJCWdvdG8gZnJl
ZV9yeF9za2I7DQorCX0NCisNCisJLyogZGUtYWdncmVnYXRlIGluY29taW5nIHNrYiBpbnRvIGlu
ZGl2aWR1YWwgZnJhbWVzIGFuZCBzZW5kIHRvIENQQyBjb3JlICovDQorCWNwY19zZGlvX3Byb2Nl
c3NfYWdncmVnYXRlZF9mcmFtZShjdHgsIHJ4X2J1ZmYsIGRhdGFfbGVuKTsNCisNCitmcmVlX3J4
X3NrYjoNCisJa2ZyZWUocnhfYnVmZik7DQorDQorCXJldHVybjsNCisNCityZWxlYXNlX2hvc3Q6
DQorCXNkaW9fcmVsZWFzZV9ob3N0KGN0eC0+ZnVuYyk7DQorfQ0KKw0KK3N0YXRpYyB2b2lkIGdi
X2NwY19zZGlvX3R4KHN0cnVjdCBjcGNfc2RpbyAqY3R4KQ0KK3sNCisJc3RydWN0IHNrX2J1ZmZf
aGVhZCBmcmFtZV9saXN0Ow0KKwl1bnNpZ25lZCBjaGFyICp0eF9idWZmOw0KKwlzaXplX3QgdHhf
bGVuOw0KKwlpbnQgZXJyOw0KKw0KKwlza2JfcXVldWVfaGVhZF9pbml0KCZmcmFtZV9saXN0KTsN
CisNCisJLyogRGVxdWV1ZSB0aGUgbmVnb3RpYXRlZCBtYXhpbXVtIGFnZ3JlZ2F0ZWQgZnJhbWVz
IGZyb20gdGhlIGhvc3QgZGV2aWNlICovDQorCWNwY19oZF9kZXF1ZXVlX21hbnkoY3R4LT5jcGNf
aGQsICZmcmFtZV9saXN0LCBjdHgtPm1heF9hZ2dyZWdhdGlvbik7DQorDQorCS8qIENoZWNrIGlm
IGFueSBmcmFtZXMgd2VyZSBkZXF1ZXVlZCAqLw0KKwlpZiAoc2tiX3F1ZXVlX2VtcHR5KCZmcmFt
ZV9saXN0KSkNCisJCXJldHVybjsNCisNCisJdHhfbGVuID0gY3BjX3NkaW9fYnVpbGRfYWdncmVn
YXRlZF9mcmFtZShjdHgsICZmcmFtZV9saXN0LCAmdHhfYnVmZik7DQorCWlmICghdHhfbGVuKSB7
DQorCQlkZXZfZXJyKGN0eC0+ZGV2LCAiZmFpbGVkIHRvIGJ1aWxkIGFnZ3JlZ2F0ZWQgZnJhbWVc
biIpOw0KKwkJZ290byBjbGVhbnVwX2ZyYW1lczsNCisJfQ0KKw0KKwlzZGlvX2NsYWltX2hvc3Qo
Y3R4LT5mdW5jKTsNCisJZXJyID0gc2Rpb193cml0ZXNiKGN0eC0+ZnVuYywgR0JfQ1BDX1NESU9f
RklGT19BRERSLCB0eF9idWZmLCB0eF9sZW4pOw0KKwlzZGlvX3JlbGVhc2VfaG9zdChjdHgtPmZ1
bmMpOw0KKw0KKwlpZiAoZXJyKQ0KKwkJZGV2X2VycihjdHgtPmRldiwgImZhaWxlZCB0byBzZGlv
X3dyaXRlc2IgKCVkKVxuIiwgZXJyKTsNCisNCisJa2ZyZWUodHhfYnVmZik7DQorDQorY2xlYW51
cF9mcmFtZXM6DQorCXNrYl9xdWV1ZV9wdXJnZSgmZnJhbWVfbGlzdCk7DQorfQ0KKw0KK3N0YXRp
YyB2b2lkIGdiX2NwY19zZGlvX3J4X3R4KHN0cnVjdCBjcGNfc2RpbyAqY3R4KQ0KK3sNCisJZ2Jf
Y3BjX3NkaW9fcngoY3R4KTsNCisNCisJc2V0X2JpdChDUENfU0RJT19GTEFHX0lSUV9SVU5OSU5H
LCAmY3R4LT5mbGFncyk7DQorCWdiX2NwY19zZGlvX3R4KGN0eCk7DQorCWNsZWFyX2JpdChDUENf
U0RJT19GTEFHX0lSUV9SVU5OSU5HLCAmY3R4LT5mbGFncyk7DQorfQ0KKw0KK3N0YXRpYyB2b2lk
IGdiX2NwY19zZGlvX3R4X3dvcmsoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQ0KK3sNCisJc3Ry
dWN0IGNwY19zZGlvICpjdHggPSBjb250YWluZXJfb2Yod29yaywgc3RydWN0IGNwY19zZGlvLCB0
eF93b3JrKTsNCisNCisJLyogRG8gbm90IGV4ZWN1dGUgY29uY3VycmVudGx5IHRvIHRoZSBpbnRl
cnJ1cHQgKi8NCisJaWYgKHRlc3RfYml0KENQQ19TRElPX0ZMQUdfSVJRX1JVTk5JTkcsICZjdHgt
PmZsYWdzKSkgew0KKwkJc2V0X2JpdChDUENfU0RJT19GTEFHX1RYX1dPUktfREVMQVlFRCwgJmN0
eC0+ZmxhZ3MpOw0KKwkJcmV0dXJuOw0KKwl9DQorDQorCWdiX2NwY19zZGlvX3R4KGN0eCk7DQor
fQ0KKw0KK3N0YXRpYyBzdHJ1Y3QgY3BjX2hkX2RyaXZlciBjcGNfc2Rpb19kcml2ZXIgPSB7DQor
CS53YWtlX3R4ID0gZ2JfY3BjX3NkaW9fd2FrZV90eCwNCit9Ow0KKw0KK3N0YXRpYyBpbnQgY3Bj
X3NkaW9faW5pdChzdHJ1Y3Qgc2Rpb19mdW5jICpmdW5jKQ0KK3sNCisJdW5zaWduZWQgY2hhciBy
eF9kYXRhX3JlYWR5X2lycV9lbl9iaXQgPSBCSVQoMCk7DQorCXVuc2lnbmVkIGludCBpcnFfZW5h
YmxlX2FkZHIgPSAweDA5Ow0KKwlpbnQgZXJyOw0KKw0KKwkvKiBFbmFibGUgdGhlIHJlYWQgZGF0
YSByZWFkeSBpbnRlcnJ1cHQuICovDQorCXNkaW9fd3JpdGViKGZ1bmMsIHJ4X2RhdGFfcmVhZHlf
aXJxX2VuX2JpdCwgaXJxX2VuYWJsZV9hZGRyLCAmZXJyKTsNCisJaWYgKGVycikNCisJCWRldl9l
cnIoJmZ1bmMtPmRldiwgImZhaWxlZCB0byBzZXQgZGF0YSByZWFkeSBpbnRlcnJ1cHQgKCVkKVxu
IiwgZXJyKTsNCisNCisJcmV0dXJuIGVycjsNCit9DQorDQorc3RhdGljIHZvaWQgY3BjX3NkaW9f
aXJxX2hhbmRsZXIoc3RydWN0IHNkaW9fZnVuYyAqZnVuYykNCit7DQorCXVuc2lnbmVkIGludCBy
eF9kYXRhX3BlbmRpbmdfaXJxX2JpdCA9IDA7DQorCXVuc2lnbmVkIGludCBpcnFfc3RhdHVzX2Fk
ZHIgPSAweDA4Ow0KKwl1bnNpZ25lZCBsb25nIGludF9zdGF0dXM7DQorCXN0cnVjdCBjcGNfc2Rp
byAqY3R4Ow0KKwlzdHJ1Y3QgZGV2aWNlICpkZXY7DQorCWludCBlcnI7DQorDQorCWN0eCA9IHNk
aW9fZ2V0X2RydmRhdGEoZnVuYyk7DQorCWRldiA9ICZmdW5jLT5kZXY7DQorDQorCWludF9zdGF0
dXMgPSBzZGlvX3JlYWRiKGZ1bmMsIGlycV9zdGF0dXNfYWRkciwgJmVycik7DQorCWlmIChlcnIp
IHsNCisJCWRldl9lcnIoZGV2LCAiZmFpbGVkIHRvIHJlYWQgaW50ZXJydXB0IHN0YXR1cyByZWdp
c3RlcnMgKCVkKVxuIiwgZXJyKTsNCisJCXJldHVybjsNCisJfQ0KKw0KKwlpZiAoX190ZXN0X2Fu
ZF9jbGVhcl9iaXQocnhfZGF0YV9wZW5kaW5nX2lycV9iaXQsICZpbnRfc3RhdHVzKSkgew0KKwkJ
LyogQ2xlYXIgdGhlIElSUSBvbiB0aGUgZGV2aWNlIHNpZGUuICovDQorCQlzZGlvX3dyaXRlYihm
dW5jLCBCSVQocnhfZGF0YV9wZW5kaW5nX2lycV9iaXQpLCBpcnFfc3RhdHVzX2FkZHIsICZlcnIp
Ow0KKwkJaWYgKGVycikgew0KKwkJCWRldl9lcnIoZGV2LCAiZmFpbGVkIHRvIGNsZWFyIHJlYWQg
aW50ZXJydXB0ICglZCksIGludGVycnVwdCB3aWxsIHJlcGVhdFxuIiwNCisJCQkJZXJyKTsNCisJ
CQlyZXR1cm47DQorCQl9DQorDQorCQljYW5jZWxfd29ya19zeW5jKCZjdHgtPnR4X3dvcmspOw0K
KwkJZ2JfY3BjX3NkaW9fcnhfdHgoY3R4KTsNCisNCisJCWlmICh0ZXN0X2FuZF9jbGVhcl9iaXQo
Q1BDX1NESU9fRkxBR19UWF9XT1JLX0RFTEFZRUQsICZjdHgtPmZsYWdzKSkNCisJCQlzY2hlZHVs
ZV93b3JrKCZjdHgtPnR4X3dvcmspOw0KKwl9DQorDQorCWlmIChpbnRfc3RhdHVzKQ0KKwkJZGV2
X2Vycl9vbmNlKGRldiwgInVuaGFuZGxlZCBpbnRlcnJ1cHQgZnJvbSB0aGUgZGV2aWNlICglbGQp
XG4iLCBpbnRfc3RhdHVzKTsNCit9DQorDQorc3RhdGljIGludCBjcGNfc2Rpb19wcm9iZShzdHJ1
Y3Qgc2Rpb19mdW5jICpmdW5jLCBjb25zdCBzdHJ1Y3Qgc2Rpb19kZXZpY2VfaWQgKmlkKQ0KK3sN
CisJc3RydWN0IGNwY19ob3N0X2RldmljZSAqY3BjX2hkOw0KKwlzdHJ1Y3QgY3BjX3NkaW8gKmN0
eDsNCisJaW50IGVycjsNCisNCisJLyogQWxsb2NhdGUgb3VyIHByaXZhdGUgY29udGV4dCAqLw0K
KwljdHggPSBremFsbG9jKHNpemVvZigqY3R4KSwgR0ZQX0tFUk5FTCk7DQorCWlmICghY3R4KQ0K
KwkJcmV0dXJuIC1FTk9NRU07DQorDQorCS8qIENyZWF0ZSBDUEMgaG9zdCBkZXZpY2Ugd2l0aCBv
dXIgY29udGV4dCBhcyBwcml2YXRlIGRhdGEgKi8NCisJY3BjX2hkID0gY3BjX2hkX2NyZWF0ZSgm
Y3BjX3NkaW9fZHJpdmVyLCAmZnVuYy0+ZGV2LCBjdHgpOw0KKwlpZiAoSVNfRVJSKGNwY19oZCkp
IHsNCisJCWtmcmVlKGN0eCk7DQorCQlyZXR1cm4gUFRSX0VSUihjcGNfaGQpOw0KKwl9DQorDQor
CS8qIEluaXRpYWxpemUgY29udGV4dCAqLw0KKwljdHgtPmNwY19oZCA9IGNwY19oZDsNCisJY3R4
LT5kZXYgPSBjcGNfaGRfZGV2KGNwY19oZCk7DQorCWN0eC0+ZnVuYyA9IGZ1bmM7DQorCWN0eC0+
bWF4X2FnZ3JlZ2F0aW9uID0gR0JfQ1BDX1NESU9fREVGQVVMVF9BR0dSRUdBVElPTjsNCisNCisJ
SU5JVF9XT1JLKCZjdHgtPnR4X3dvcmssIGdiX2NwY19zZGlvX3R4X3dvcmspOw0KKw0KKwkvKiBN
YWtlIGN0eCBhdmFpbGFibGUgdG8gSVJRIGhhbmRsZXIgYmVmb3JlIGVuYWJsaW5nL2NsYWltaW5n
IElSUSAqLw0KKwlzZGlvX3NldF9kcnZkYXRhKGZ1bmMsIGN0eCk7DQorDQorCXNkaW9fY2xhaW1f
aG9zdChmdW5jKTsNCisNCisJZXJyID0gc2Rpb19lbmFibGVfZnVuYyhmdW5jKTsNCisJaWYgKGVy
cikNCisJCWdvdG8gcmVsZWFzZV9ob3N0Ow0KKw0KKwllcnIgPSBzZGlvX3NldF9ibG9ja19zaXpl
KGZ1bmMsIEdCX0NQQ19TRElPX0JMT0NLX1NJWkUpOw0KKwlpZiAoZXJyKQ0KKwkJZ290byBkaXNh
YmxlX2Z1bmM7DQorDQorCWVyciA9IGNwY19zZGlvX2luaXQoZnVuYyk7DQorCWlmIChlcnIpDQor
CQlnb3RvIGRpc2FibGVfZnVuYzsNCisNCisJZXJyID0gc2Rpb19jbGFpbV9pcnEoZnVuYywgY3Bj
X3NkaW9faXJxX2hhbmRsZXIpOw0KKwlpZiAoZXJyKQ0KKwkJZ290byBkaXNhYmxlX2Z1bmM7DQor
DQorCWVyciA9IGNwY19oZF9hZGQoY3BjX2hkKTsNCisJaWYgKGVycikNCisJCWdvdG8gcmVsZWFz
ZV9pcnE7DQorDQorCXNkaW9fcmVsZWFzZV9ob3N0KGZ1bmMpOw0KKw0KKwlyZXR1cm4gMDsNCisN
CityZWxlYXNlX2lycToNCisJc2Rpb19yZWxlYXNlX2lycShmdW5jKTsNCisNCitkaXNhYmxlX2Z1
bmM6DQorCXNkaW9fZGlzYWJsZV9mdW5jKGZ1bmMpOw0KKw0KK3JlbGVhc2VfaG9zdDoNCisJc2Rp
b19yZWxlYXNlX2hvc3QoZnVuYyk7DQorCWNwY19oZF9wdXQoY3BjX2hkKTsNCisJa2ZyZWUoY3R4
KTsNCisNCisJcmV0dXJuIGVycjsNCit9DQorDQorc3RhdGljIHZvaWQgY3BjX3NkaW9fcmVtb3Zl
KHN0cnVjdCBzZGlvX2Z1bmMgKmZ1bmMpDQorew0KKwlzdHJ1Y3QgY3BjX3NkaW8gKmN0eCA9IHNk
aW9fZ2V0X2RydmRhdGEoZnVuYyk7DQorCXN0cnVjdCBjcGNfaG9zdF9kZXZpY2UgKmNwY19oZCA9
IGN0eC0+Y3BjX2hkOw0KKw0KKwkvKiBQcmV2ZW50IG5ldyBUWCB3YWtldXBzIGFuZCB3YWtlIHRo
ZSB0aHJlYWQgKi8NCisJc2V0X2JpdChDUENfU0RJT19GTEFHX1NIVVRET1dOLCAmY3R4LT5mbGFn
cyk7DQorDQorCS8qIENhbmNlbCBhbmQgZmx1c2ggYW55IHBlbmRpbmcgVFggd29yayAqLw0KKwlj
YW5jZWxfd29ya19zeW5jKCZjdHgtPnR4X3dvcmspOw0KKw0KKwlzZGlvX2NsYWltX2hvc3QoZnVu
Yyk7DQorCXNkaW9fcmVsZWFzZV9pcnEoZnVuYyk7DQorCXNkaW9fZGlzYWJsZV9mdW5jKGZ1bmMp
Ow0KKwlzZGlvX3JlbGVhc2VfaG9zdChmdW5jKTsNCisNCisJY3BjX2hkX2RlbChjcGNfaGQpOw0K
KwljcGNfaGRfcHV0KGNwY19oZCk7DQorDQorCWtmcmVlKGN0eCk7DQorfQ0KKw0KKy8qIE5PVEU6
IERldmVsb3BtZW50L1JGQyBwdXJwb3NlcyBvbmx5LiAqLw0KK3N0YXRpYyBjb25zdCBzdHJ1Y3Qg
c2Rpb19kZXZpY2VfaWQgc2Rpb19pZHNbXSA9IHsNCisJew0KKwkJU0RJT19ERVZJQ0UoMHgwMjk2
LCAweDUzNDcpLA0KKwl9LA0KKwl7fSwNCit9Ow0KK01PRFVMRV9ERVZJQ0VfVEFCTEUoc2Rpbywg
c2Rpb19pZHMpOw0KKw0KK3N0YXRpYyBzdHJ1Y3Qgc2Rpb19kcml2ZXIgZ2JfY3BjX3NkaW9fZHJp
dmVyID0gew0KKwkubmFtZSAgICAgPSBLQlVJTERfTU9ETkFNRSwNCisJLmlkX3RhYmxlID0gc2Rp
b19pZHMsDQorCS5wcm9iZSAgICA9IGNwY19zZGlvX3Byb2JlLA0KKwkucmVtb3ZlICAgPSBjcGNf
c2Rpb19yZW1vdmUsDQorCS5kcnYgPSB7DQorCQkub3duZXIgPSBUSElTX01PRFVMRSwNCisJCS5u
YW1lICA9IEtCVUlMRF9NT0ROQU1FLA0KKwl9LA0KK307DQorDQorbW9kdWxlX3NkaW9fZHJpdmVy
KGdiX2NwY19zZGlvX2RyaXZlcik7DQorDQorTU9EVUxFX0RFU0NSSVBUSU9OKCJHcmV5YnVzIEhv
c3QgRHJpdmVyIGZvciBTaWxpY29uIExhYnMgZGV2aWNlcyB1c2luZyBTRElPIik7DQorTU9EVUxF
X0xJQ0VOU0UoIkdQTCIpOw0KK01PRFVMRV9BVVRIT1IoIkRhbWllbiBSacOpZ2VsIDxkYW1pZW4u
cmllZ2VsQHNpbGFicy5jb20+Iik7DQotLSANCjIuNTIuMA0KDQpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpncmV5YnVzLWRldiBtYWlsaW5nIGxpc3QgLS0g
Z3JleWJ1cy1kZXZAbGlzdHMubGluYXJvLm9yZwpUbyB1bnN1YnNjcmliZSBzZW5kIGFuIGVtYWls
IHRvIGdyZXlidXMtZGV2LWxlYXZlQGxpc3RzLmxpbmFyby5vcmcK
