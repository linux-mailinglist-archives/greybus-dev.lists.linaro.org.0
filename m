Return-Path: <greybus-dev-bounces@lists.linaro.org>
X-Original-To: lists+greybus-dev@lfdr.de
Delivered-To: lists+greybus-dev@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id EB27B187AC2
	for <lists+greybus-dev@lfdr.de>; Tue, 17 Mar 2020 09:02:01 +0100 (CET)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 2D93A6180F
	for <lists+greybus-dev@lfdr.de>; Tue, 17 Mar 2020 08:02:01 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 2055E6195A; Tue, 17 Mar 2020 08:02:01 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,MAILING_LIST_MULTI,
	RCVD_IN_DNSWL_BLOCKED,RCVD_IN_MSPIKE_H3,RCVD_IN_MSPIKE_WL,
	SPF_HELO_NONE autolearn=disabled version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id B51606198B;
	Tue, 17 Mar 2020 08:01:42 +0000 (UTC)
X-Original-To: greybus-dev@lists.linaro.org
Delivered-To: greybus-dev@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 626BB6194F
 for <greybus-dev@lists.linaro.org>; Wed, 11 Mar 2020 09:19:11 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 5614761942; Wed, 11 Mar 2020 09:19:11 +0000 (UTC)
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 by lists.linaro.org (Postfix) with ESMTPS id DBD5061942
 for <greybus-dev@lists.linaro.org>; Wed, 11 Mar 2020 09:19:09 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 0AB0CAB3D;
 Wed, 11 Mar 2020 09:19:07 +0000 (UTC)
From: Takashi Iwai <tiwai@suse.de>
To: Johan Hovold <johan@kernel.org>, Alex Elder <elder@kernel.org>,
 Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date: Wed, 11 Mar 2020 10:19:06 +0100
Message-Id: <20200311091906.22980-1-tiwai@suse.de>
X-Mailer: git-send-email 2.16.4
X-Virus-Scanned: ClamAV using ClamSMTP
X-Mailman-Approved-At: Tue, 17 Mar 2020 08:01:40 +0000
Cc: devel@driverdev.osuosl.org, greybus-dev@lists.linaro.org
Subject: [greybus-dev] [PATCH] staging: greybus: Use scnprintf() for
	avoiding potential buffer overflow
X-BeenThere: greybus-dev@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: Greybus Development Mail List <greybus-dev.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/greybus-dev/>
List-Post: <mailto:greybus-dev@lists.linaro.org>
List-Help: <mailto:greybus-dev-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: greybus-dev-bounces@lists.linaro.org
Sender: "greybus-dev" <greybus-dev-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

U2luY2Ugc25wcmludGYoKSByZXR1cm5zIHRoZSB3b3VsZC1iZS1vdXRwdXQgc2l6ZSBpbnN0ZWFk
IG9mIHRoZQphY3R1YWwgb3V0cHV0IHNpemUsIHRoZSBzdWNjZWVkaW5nIGNhbGxzIG1heSBnbyBi
ZXlvbmQgdGhlIGdpdmVuCmJ1ZmZlciBsaW1pdC4gIEZpeCBpdCBieSByZXBsYWNpbmcgd2l0aCBz
Y25wcmludGYoKS4KClNpZ25lZC1vZmYtYnk6IFRha2FzaGkgSXdhaSA8dGl3YWlAc3VzZS5kZT4K
LS0tCiBkcml2ZXJzL3N0YWdpbmcvZ3JleWJ1cy90b29scy9sb29wYmFja190ZXN0LmMgfCAyNCAr
KysrKysrKysrKystLS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAxMiBpbnNlcnRpb25zKCsp
LCAxMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvZ3JleWJ1cy90
b29scy9sb29wYmFja190ZXN0LmMgYi9kcml2ZXJzL3N0YWdpbmcvZ3JleWJ1cy90b29scy9sb29w
YmFja190ZXN0LmMKaW5kZXggYmE2ZjkwNWYyNmZhLi4wYjk1YTFjMmIyZTkgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL3Rvb2xzL2xvb3BiYWNrX3Rlc3QuYworKysgYi9kcml2
ZXJzL3N0YWdpbmcvZ3JleWJ1cy90b29scy9sb29wYmFja190ZXN0LmMKQEAgLTQyNiw3ICs0MjYs
NyBAQCBpbnQgZm9ybWF0X291dHB1dChzdHJ1Y3QgbG9vcGJhY2tfdGVzdCAqdCwKIAkJICAgICAg
IHRtLT50bV9ob3VyLCB0bS0+dG1fbWluLCB0bS0+dG1fc2VjKTsKIAogCWlmICh0LT5wb3JjZWxh
aW4pIHsKLQkJbGVuICs9IHNucHJpbnRmKCZidWZbbGVuXSwgYnVmX2xlbiAtIGxlbiwKKwkJbGVu
ICs9IHNjbnByaW50ZigmYnVmW2xlbl0sIGJ1Zl9sZW4gLSBsZW4sCiAJCQkiXG4gdGVzdDpcdFx0
XHQlc1xuIHBhdGg6XHRcdFx0JXNcbiBzaXplOlx0XHRcdCV1XG4gaXRlcmF0aW9uczpcdFx0JXVc
biBlcnJvcnM6XHRcdCV1XG4gYXN5bmM6XHRcdFx0JXNcbiIsCiAJCQl0LT50ZXN0X25hbWUsCiAJ
CQlkZXZfbmFtZSwKQEAgLTQzNSwzMyArNDM1LDMzIEBAIGludCBmb3JtYXRfb3V0cHV0KHN0cnVj
dCBsb29wYmFja190ZXN0ICp0LAogCQkJci0+ZXJyb3IsCiAJCQl0LT51c2VfYXN5bmMgPyAiRW5h
YmxlZCIgOiAiRGlzYWJsZWQiKTsKIAotCQlsZW4gKz0gc25wcmludGYoJmJ1ZltsZW5dLCBidWZf
bGVuIC0gbGVuLAorCQlsZW4gKz0gc2NucHJpbnRmKCZidWZbbGVuXSwgYnVmX2xlbiAtIGxlbiwK
IAkJCSIgcmVxdWVzdHMgcGVyLXNlYzpcdG1pbj0ldSwgbWF4PSV1LCBhdmVyYWdlPSVmLCBqaXR0
ZXI9JXVcbiIsCiAJCQlyLT5yZXF1ZXN0X21pbiwKIAkJCXItPnJlcXVlc3RfbWF4LAogCQkJci0+
cmVxdWVzdF9hdmcsCiAJCQlyLT5yZXF1ZXN0X2ppdHRlcik7CiAKLQkJbGVuICs9IHNucHJpbnRm
KCZidWZbbGVuXSwgYnVmX2xlbiAtIGxlbiwKKwkJbGVuICs9IHNjbnByaW50ZigmYnVmW2xlbl0s
IGJ1Zl9sZW4gLSBsZW4sCiAJCQkiIGFwLXRocm91Z2hwdXQgQi9zOlx0bWluPSV1IG1heD0ldSBh
dmVyYWdlPSVmIGppdHRlcj0ldVxuIiwKIAkJCXItPnRocm91Z2hwdXRfbWluLAogCQkJci0+dGhy
b3VnaHB1dF9tYXgsCiAJCQlyLT50aHJvdWdocHV0X2F2ZywKIAkJCXItPnRocm91Z2hwdXRfaml0
dGVyKTsKLQkJbGVuICs9IHNucHJpbnRmKCZidWZbbGVuXSwgYnVmX2xlbiAtIGxlbiwKKwkJbGVu
ICs9IHNjbnByaW50ZigmYnVmW2xlbl0sIGJ1Zl9sZW4gLSBsZW4sCiAJCQkiIGFwLWxhdGVuY3kg
dXNlYzpcdG1pbj0ldSBtYXg9JXUgYXZlcmFnZT0lZiBqaXR0ZXI9JXVcbiIsCiAJCQlyLT5sYXRl
bmN5X21pbiwKIAkJCXItPmxhdGVuY3lfbWF4LAogCQkJci0+bGF0ZW5jeV9hdmcsCiAJCQlyLT5s
YXRlbmN5X2ppdHRlcik7Ci0JCWxlbiArPSBzbnByaW50ZigmYnVmW2xlbl0sIGJ1Zl9sZW4gLSBs
ZW4sCisJCWxlbiArPSBzY25wcmludGYoJmJ1ZltsZW5dLCBidWZfbGVuIC0gbGVuLAogCQkJIiBh
cGJyaWRnZS1sYXRlbmN5IHVzZWM6XHRtaW49JXUgbWF4PSV1IGF2ZXJhZ2U9JWYgaml0dGVyPSV1
XG4iLAogCQkJci0+YXBicmlkZ2VfdW5pcHJvX2xhdGVuY3lfbWluLAogCQkJci0+YXBicmlkZ2Vf
dW5pcHJvX2xhdGVuY3lfbWF4LAogCQkJci0+YXBicmlkZ2VfdW5pcHJvX2xhdGVuY3lfYXZnLAog
CQkJci0+YXBicmlkZ2VfdW5pcHJvX2xhdGVuY3lfaml0dGVyKTsKIAotCQlsZW4gKz0gc25wcmlu
dGYoJmJ1ZltsZW5dLCBidWZfbGVuIC0gbGVuLAorCQlsZW4gKz0gc2NucHJpbnRmKCZidWZbbGVu
XSwgYnVmX2xlbiAtIGxlbiwKIAkJCSIgZ2JwaHktbGF0ZW5jeSB1c2VjOlx0bWluPSV1IG1heD0l
dSBhdmVyYWdlPSVmIGppdHRlcj0ldVxuIiwKIAkJCXItPmdicGh5X2Zpcm13YXJlX2xhdGVuY3lf
bWluLAogCQkJci0+Z2JwaHlfZmlybXdhcmVfbGF0ZW5jeV9tYXgsCkBAIC00NjksMzUgKzQ2OSwz
NSBAQCBpbnQgZm9ybWF0X291dHB1dChzdHJ1Y3QgbG9vcGJhY2tfdGVzdCAqdCwKIAkJCXItPmdi
cGh5X2Zpcm13YXJlX2xhdGVuY3lfaml0dGVyKTsKIAogCX0gZWxzZSB7Ci0JCWxlbiArPSBzbnBy
aW50ZigmYnVmW2xlbl0sIGJ1Zl9sZW4gLSBsZW4sICIsJXMsJXMsJXUsJXUsJXUiLAorCQlsZW4g
Kz0gc2NucHJpbnRmKCZidWZbbGVuXSwgYnVmX2xlbiAtIGxlbiwgIiwlcywlcywldSwldSwldSIs
CiAJCQl0LT50ZXN0X25hbWUsIGRldl9uYW1lLCB0LT5zaXplLCB0LT5pdGVyYXRpb25fbWF4LAog
CQkJci0+ZXJyb3IpOwogCi0JCWxlbiArPSBzbnByaW50ZigmYnVmW2xlbl0sIGJ1Zl9sZW4gLSBs
ZW4sICIsJXUsJXUsJWYsJXUiLAorCQlsZW4gKz0gc2NucHJpbnRmKCZidWZbbGVuXSwgYnVmX2xl
biAtIGxlbiwgIiwldSwldSwlZiwldSIsCiAJCQlyLT5yZXF1ZXN0X21pbiwKIAkJCXItPnJlcXVl
c3RfbWF4LAogCQkJci0+cmVxdWVzdF9hdmcsCiAJCQlyLT5yZXF1ZXN0X2ppdHRlcik7CiAKLQkJ
bGVuICs9IHNucHJpbnRmKCZidWZbbGVuXSwgYnVmX2xlbiAtIGxlbiwgIiwldSwldSwlZiwldSIs
CisJCWxlbiArPSBzY25wcmludGYoJmJ1ZltsZW5dLCBidWZfbGVuIC0gbGVuLCAiLCV1LCV1LCVm
LCV1IiwKIAkJCXItPmxhdGVuY3lfbWluLAogCQkJci0+bGF0ZW5jeV9tYXgsCiAJCQlyLT5sYXRl
bmN5X2F2ZywKIAkJCXItPmxhdGVuY3lfaml0dGVyKTsKIAotCQlsZW4gKz0gc25wcmludGYoJmJ1
ZltsZW5dLCBidWZfbGVuIC0gbGVuLCAiLCV1LCV1LCVmLCV1IiwKKwkJbGVuICs9IHNjbnByaW50
ZigmYnVmW2xlbl0sIGJ1Zl9sZW4gLSBsZW4sICIsJXUsJXUsJWYsJXUiLAogCQkJci0+dGhyb3Vn
aHB1dF9taW4sCiAJCQlyLT50aHJvdWdocHV0X21heCwKIAkJCXItPnRocm91Z2hwdXRfYXZnLAog
CQkJci0+dGhyb3VnaHB1dF9qaXR0ZXIpOwogCi0JCWxlbiArPSBzbnByaW50ZigmYnVmW2xlbl0s
IGJ1Zl9sZW4gLSBsZW4sICIsJXUsJXUsJWYsJXUiLAorCQlsZW4gKz0gc2NucHJpbnRmKCZidWZb
bGVuXSwgYnVmX2xlbiAtIGxlbiwgIiwldSwldSwlZiwldSIsCiAJCQlyLT5hcGJyaWRnZV91bmlw
cm9fbGF0ZW5jeV9taW4sCiAJCQlyLT5hcGJyaWRnZV91bmlwcm9fbGF0ZW5jeV9tYXgsCiAJCQly
LT5hcGJyaWRnZV91bmlwcm9fbGF0ZW5jeV9hdmcsCiAJCQlyLT5hcGJyaWRnZV91bmlwcm9fbGF0
ZW5jeV9qaXR0ZXIpOwogCi0JCWxlbiArPSBzbnByaW50ZigmYnVmW2xlbl0sIGJ1Zl9sZW4gLSBs
ZW4sICIsJXUsJXUsJWYsJXUiLAorCQlsZW4gKz0gc2NucHJpbnRmKCZidWZbbGVuXSwgYnVmX2xl
biAtIGxlbiwgIiwldSwldSwlZiwldSIsCiAJCQlyLT5nYnBoeV9maXJtd2FyZV9sYXRlbmN5X21p
biwKIAkJCXItPmdicGh5X2Zpcm13YXJlX2xhdGVuY3lfbWF4LAogCQkJci0+Z2JwaHlfZmlybXdh
cmVfbGF0ZW5jeV9hdmcsCi0tIAoyLjE2LjQKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmdyZXlidXMtZGV2IG1haWxpbmcgbGlzdApncmV5YnVzLWRldkBs
aXN0cy5saW5hcm8ub3JnCmh0dHBzOi8vbGlzdHMubGluYXJvLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2dyZXlidXMtZGV2Cg==
