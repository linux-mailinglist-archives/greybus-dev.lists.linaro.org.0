Return-Path: <greybus-dev-bounces@lists.linaro.org>
X-Original-To: lists+greybus-dev@lfdr.de
Delivered-To: lists+greybus-dev@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id BACFB1EB514
	for <lists+greybus-dev@lfdr.de>; Tue,  2 Jun 2020 07:23:14 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id E9E0F619B2
	for <lists+greybus-dev@lfdr.de>; Tue,  2 Jun 2020 05:23:13 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id C9601619A8; Tue,  2 Jun 2020 05:23:13 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,DKIM_ADSP_CUSTOM_MED,
	FREEMAIL_FROM,MAILING_LIST_MULTI,RCVD_IN_DNSWL_NONE,RCVD_IN_MSPIKE_H3,
	RCVD_IN_MSPIKE_WL,SPF_HELO_NONE autolearn=disabled version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id E55F1618F6;
	Tue,  2 Jun 2020 05:22:54 +0000 (UTC)
X-Original-To: greybus-dev@lists.linaro.org
Delivered-To: greybus-dev@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 0FC9F618DF
 for <greybus-dev@lists.linaro.org>; Tue,  2 Jun 2020 05:22:46 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 010D1618F6; Tue,  2 Jun 2020 05:22:45 +0000 (UTC)
Received: from mail-pf1-f195.google.com (mail-pf1-f195.google.com
 [209.85.210.195])
 by lists.linaro.org (Postfix) with ESMTPS id 97DE361915
 for <greybus-dev@lists.linaro.org>; Tue,  2 Jun 2020 05:22:09 +0000 (UTC)
Received: by mail-pf1-f195.google.com with SMTP id x207so2634024pfc.5
 for <greybus-dev@lists.linaro.org>; Mon, 01 Jun 2020 22:22:09 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=vNsKmmB6p1tfdU7zTWPdb8wo/2MffnecSlCatI5vkbg=;
 b=IMT9CYtCOQqfBwX6Rvs1RXsfd0HUGtDrIZtGfNnq3/4vymPwpi2jb+wL43ClNRN+hp
 VcPY6HKNCpoqUac3hSv35W7IJNuwCQb6VVJU2klYtW0F1Wa4ZPvS2wzd1OuUyCGAxEKW
 BuoRjis2BjUOTp+2uPxwRYe3CKfwHDkPQKvTuFfLDBmfesj2rD9x84wDLD1DLS1MKTw1
 +fPiVjA338UEzB8o1Lp6QxabwdousKCPhVGIk5N+kyUnZ1yxK7x70vkL4863WtNpk0zp
 2Lq81P6dW0V4MAZpoxMpsToXuV4wTxN3N5xYG8tkm+3IFaVp80jXa/97CHKlOiIovnxO
 6asg==
X-Gm-Message-State: AOAM530ccw/MmXgw3aGwF/MfUtcgGrrQ3FaFGhrIyMS2Hs/iJR7zeiCY
 p6janjUqdAgC7pmGZfrUCXg=
X-Google-Smtp-Source: ABdhPJxNcD8zIlq1x9AQWYJLXmUl8Hnv+aGzA7IRx/CMZ//Yq1kr8o7lNvk17ElQvyhm3elFIVX7hA==
X-Received: by 2002:a62:79d2:: with SMTP id
 u201mr11903073pfc.324.1591075328731; 
 Mon, 01 Jun 2020 22:22:08 -0700 (PDT)
Received: from cvds-vagarw7.iind.intel.com ([192.55.55.41])
 by smtp.googlemail.com with ESMTPSA id f18sm1004764pga.75.2020.06.01.22.21.58
 (version=TLS1_2 cipher=ECDHE-ECDSA-AES128-GCM-SHA256 bits=128/128);
 Mon, 01 Jun 2020 22:22:07 -0700 (PDT)
From: Vaibhav Agarwal <vaibhav.sr@gmail.com>
To: Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 Alex Elder <elder@kernel.org>, Johan Hovold <johan@kernel.org>,
 Mark Greer <mgreer@animalcreek.com>, Takashi Iwai <tiwai@suse.com>,
 Jaroslav Kysela <perex@perex.cz>, Mark Brown <broonie@kernel.org>,
 Liam Girdwood <lgirdwood@gmail.com>
Date: Tue,  2 Jun 2020 10:51:12 +0530
Message-Id: <cce5aa43533d872d84be1abc514074a7705f9a54.1591040859.git.vaibhav.sr@gmail.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <cover.1591040859.git.vaibhav.sr@gmail.com>
References: <cover.1591040859.git.vaibhav.sr@gmail.com>
MIME-Version: 1.0
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: devel@driverdev.osuosl.org, alsa-devel@alsa-project.org,
 Alexandre Belloni <alexandre.belloni@bootlin.com>,
 linux-kernel@vger.kernel.org, greybus-dev@lists.linaro.org
Subject: [greybus-dev] [RESEND PATCH v1 3/6] staging: greybus: audio:
	Resolve compilation errors for GB codec module
X-BeenThere: greybus-dev@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: Greybus Development Mail List <greybus-dev.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/greybus-dev/>
List-Post: <mailto:greybus-dev@lists.linaro.org>
List-Help: <mailto:greybus-dev-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: greybus-dev-bounces@lists.linaro.org
Sender: "greybus-dev" <greybus-dev-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

RHVlIHRvIGRlcGVuZGVuY2llcyBvbiBBU29DIGZyYW1ld29yayBjaGFuZ2VzLCBHQiBkdW1teSBj
b2RlYyBtb2R1bGUKY29tcGlsYXRpb24gaXMgY3VycmVudGx5IGRpc2FibGVkLiBUaGlzIHBhdGNo
IHVwZGF0ZXMgY29kZWMgZHJpdmVyIGFzCnBlciB0aGUgbGF0ZXN0IEFTb0MgQVBJcy4KClNpZ25l
ZC1vZmYtYnk6IFZhaWJoYXYgQWdhcndhbCA8dmFpYmhhdi5zckBnbWFpbC5jb20+Ci0tLQogZHJp
dmVycy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuYyB8IDg3ICsrKysrKysrKysrKystLS0t
LS0tLS0tLS0tLQogZHJpdmVycy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuaCB8ICAyICst
CiAyIGZpbGVzIGNoYW5nZWQsIDQ0IGluc2VydGlvbnMoKyksIDQ1IGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlvX2NvZGVjLmMgYi9kcml2ZXJz
L3N0YWdpbmcvZ3JleWJ1cy9hdWRpb19jb2RlYy5jCmluZGV4IGEyZWU1ODdlNWE3OS4uYmJkMDcy
YWNkYTVjIDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvZ3JleWJ1cy9hdWRpb19jb2RlYy5j
CisrKyBiL2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlvX2NvZGVjLmMKQEAgLTgzMiw3ICs4
MzIsNyBAQCBzdGF0aWMgaW50IGdiYXVkaW9faW5pdF9qYWNrKHN0cnVjdCBnYmF1ZGlvX21vZHVs
ZV9pbmZvICptb2R1bGUsCiBpbnQgZ2JhdWRpb19yZWdpc3Rlcl9tb2R1bGUoc3RydWN0IGdiYXVk
aW9fbW9kdWxlX2luZm8gKm1vZHVsZSkKIHsKIAlpbnQgcmV0OwotCXN0cnVjdCBzbmRfc29jX2Nv
ZGVjICpjb2RlYzsKKwlzdHJ1Y3Qgc25kX3NvY19jb21wb25lbnQgKmNvbXBvbmVudDsKIAlzdHJ1
Y3Qgc25kX2NhcmQgKmNhcmQ7CiAJc3RydWN0IGdiYXVkaW9famFjayAqZ2JhX2phY2sgPSBOVUxM
OwogCXN0cnVjdCBzbmRfc29jX2phY2sgKmphY2sgPSBOVUxMOwpAQCAtODQyLDggKzg0Miw4IEBA
IGludCBnYmF1ZGlvX3JlZ2lzdGVyX21vZHVsZShzdHJ1Y3QgZ2JhdWRpb19tb2R1bGVfaW5mbyAq
bW9kdWxlKQogCQlyZXR1cm4gLUVBR0FJTjsKIAl9CiAKLQljb2RlYyA9IGdiY29kZWMtPmNvZGVj
OwotCWNhcmQgPSBjb2RlYy0+Y2FyZC0+c25kX2NhcmQ7CisJY29tcG9uZW50ID0gZ2Jjb2RlYy0+
Y29tcG9uZW50OworCWNhcmQgPSBjb21wb25lbnQtPmNhcmQtPnNuZF9jYXJkOwogCiAJZG93bl93
cml0ZSgmY2FyZC0+Y29udHJvbHNfcndzZW0pOwogCkBAIC04NjIsMTkgKzg2MiwyMCBAQCBpbnQg
Z2JhdWRpb19yZWdpc3Rlcl9tb2R1bGUoc3RydWN0IGdiYXVkaW9fbW9kdWxlX2luZm8gKm1vZHVs
ZSkKIAl9CiAKIAlpZiAobW9kdWxlLT5kYXBtX3dpZGdldHMpCi0JCXNuZF9zb2NfZGFwbV9uZXdf
Y29udHJvbHMoJmNvZGVjLT5kYXBtLCBtb2R1bGUtPmRhcG1fd2lkZ2V0cywKKwkJc25kX3NvY19k
YXBtX25ld19jb250cm9scygmY29tcG9uZW50LT5kYXBtLAorCQkJCQkgIG1vZHVsZS0+ZGFwbV93
aWRnZXRzLAogCQkJCQkgIG1vZHVsZS0+bnVtX2RhcG1fd2lkZ2V0cyk7CiAJaWYgKG1vZHVsZS0+
Y29udHJvbHMpCi0JCXNuZF9zb2NfYWRkX2NvZGVjX2NvbnRyb2xzKGNvZGVjLCBtb2R1bGUtPmNv
bnRyb2xzLAotCQkJCQkgICBtb2R1bGUtPm51bV9jb250cm9scyk7CisJCXNuZF9zb2NfYWRkX2Nv
bXBvbmVudF9jb250cm9scyhjb21wb25lbnQsIG1vZHVsZS0+Y29udHJvbHMsCisJCQkJCSAgICAg
ICBtb2R1bGUtPm51bV9jb250cm9scyk7CiAJaWYgKG1vZHVsZS0+ZGFwbV9yb3V0ZXMpCi0JCXNu
ZF9zb2NfZGFwbV9hZGRfcm91dGVzKCZjb2RlYy0+ZGFwbSwgbW9kdWxlLT5kYXBtX3JvdXRlcywK
KwkJc25kX3NvY19kYXBtX2FkZF9yb3V0ZXMoJmNvbXBvbmVudC0+ZGFwbSwgbW9kdWxlLT5kYXBt
X3JvdXRlcywKIAkJCQkJbW9kdWxlLT5udW1fZGFwbV9yb3V0ZXMpOwogCiAJLyogY2FyZCBhbHJl
YWR5IGluc3RhbnRpYXRlZCwgY3JlYXRlIHdpZGdldHMgaGVyZSBvbmx5ICovCi0JaWYgKGNvZGVj
LT5jYXJkLT5pbnN0YW50aWF0ZWQpIHsKLQkJc25kX3NvY19kYXBtX2xpbmtfY29tcG9uZW50X2Rh
aV93aWRnZXRzKGNvZGVjLT5jYXJkLAotCQkJCQkJCSZjb2RlYy0+ZGFwbSk7CisJaWYgKGNvbXBv
bmVudC0+Y2FyZC0+aW5zdGFudGlhdGVkKSB7CisJCXNuZF9zb2NfZGFwbV9saW5rX2NvbXBvbmVu
dF9kYWlfd2lkZ2V0cyhjb21wb25lbnQtPmNhcmQsCisJCQkJCQkJJmNvbXBvbmVudC0+ZGFwbSk7
CiAjaWZkZWYgQ09ORklHX1NORF9KQUNLCiAJCS8qCiAJCSAqIHJlZ2lzdGVyIGphY2sgZGV2aWNl
cyBmb3IgdGhpcyBtb2R1bGUKQEAgLTg4Miw3ICs4ODMsNyBAQCBpbnQgZ2JhdWRpb19yZWdpc3Rl
cl9tb2R1bGUoc3RydWN0IGdiYXVkaW9fbW9kdWxlX2luZm8gKm1vZHVsZSkKIAkJICovCiAJCWxp
c3RfZm9yX2VhY2hfZW50cnkoZ2JhX2phY2ssICZtb2R1bGUtPmphY2tfbGlzdCwgbGlzdCkgewog
CQkJamFjayA9ICZnYmFfamFjay0+amFjazsKLQkJCXNuZF9kZXZpY2VfcmVnaXN0ZXIoY29kZWMt
PmNhcmQtPnNuZF9jYXJkLAorCQkJc25kX2RldmljZV9yZWdpc3Rlcihjb21wb25lbnQtPmNhcmQt
PnNuZF9jYXJkLAogCQkJCQkgICAgamFjay0+amFjayk7CiAJCX0KICNlbmRpZgpAQCAtODkyLDkg
Kzg5Myw5IEBAIGludCBnYmF1ZGlvX3JlZ2lzdGVyX21vZHVsZShzdHJ1Y3QgZ2JhdWRpb19tb2R1
bGVfaW5mbyAqbW9kdWxlKQogCWxpc3RfYWRkKCZtb2R1bGUtPmxpc3QsICZnYmNvZGVjLT5tb2R1
bGVfbGlzdCk7CiAJbXV0ZXhfdW5sb2NrKCZnYmNvZGVjLT5sb2NrKTsKIAotCWlmIChjb2RlYy0+
Y2FyZC0+aW5zdGFudGlhdGVkKQotCQlyZXQgPSBzbmRfc29jX2RhcG1fbmV3X3dpZGdldHMoJmNv
ZGVjLT5kYXBtKTsKLQlkZXZfZGJnKGNvZGVjLT5kZXYsICJSZWdpc3RlcmVkICVzIG1vZHVsZVxu
IiwgbW9kdWxlLT5uYW1lKTsKKwlpZiAoY29tcG9uZW50LT5jYXJkLT5pbnN0YW50aWF0ZWQpCisJ
CXJldCA9IHNuZF9zb2NfZGFwbV9uZXdfd2lkZ2V0cyhjb21wb25lbnQtPmNhcmQpOworCWRldl9k
YmcoY29tcG9uZW50LT5kZXYsICJSZWdpc3RlcmVkICVzIG1vZHVsZVxuIiwgbW9kdWxlLT5uYW1l
KTsKIAogCXVwX3dyaXRlKCZjYXJkLT5jb250cm9sc19yd3NlbSk7CiAJcmV0dXJuIHJldDsKQEAg
LTk2NSwxOSArOTY2LDE5IEBAIHN0YXRpYyB2b2lkIGdiYXVkaW9fY29kZWNfY2xlYW51cChzdHJ1
Y3QgZ2JhdWRpb19tb2R1bGVfaW5mbyAqbW9kdWxlKQogCiB2b2lkIGdiYXVkaW9fdW5yZWdpc3Rl
cl9tb2R1bGUoc3RydWN0IGdiYXVkaW9fbW9kdWxlX2luZm8gKm1vZHVsZSkKIHsKLQlzdHJ1Y3Qg
c25kX3NvY19jb2RlYyAqY29kZWMgPSBnYmNvZGVjLT5jb2RlYzsKLQlzdHJ1Y3Qgc25kX2NhcmQg
KmNhcmQgPSBjb2RlYy0+Y2FyZC0+c25kX2NhcmQ7CisJc3RydWN0IHNuZF9zb2NfY29tcG9uZW50
ICpjb21wb25lbnQgPSBnYmNvZGVjLT5jb21wb25lbnQ7CisJc3RydWN0IHNuZF9jYXJkICpjYXJk
ID0gY29tcG9uZW50LT5jYXJkLT5zbmRfY2FyZDsKIAlzdHJ1Y3QgZ2JhdWRpb19qYWNrICpnYmFf
amFjaywgKm47CiAJc3RydWN0IHNuZF9zb2NfamFjayAqamFjazsKIAlpbnQgbWFzazsKIAotCWRl
dl9kYmcoY29kZWMtPmRldiwgIlVucmVnaXN0ZXIgJXMgbW9kdWxlXG4iLCBtb2R1bGUtPm5hbWUp
OworCWRldl9kYmcoY29tcG9uZW50LT5kZXYsICJVbnJlZ2lzdGVyICVzIG1vZHVsZVxuIiwgbW9k
dWxlLT5uYW1lKTsKIAogCWRvd25fd3JpdGUoJmNhcmQtPmNvbnRyb2xzX3J3c2VtKTsKIAltdXRl
eF9sb2NrKCZnYmNvZGVjLT5sb2NrKTsKIAlnYmF1ZGlvX2NvZGVjX2NsZWFudXAobW9kdWxlKTsK
IAlsaXN0X2RlbCgmbW9kdWxlLT5saXN0KTsKLQlkZXZfZGJnKGNvZGVjLT5kZXYsICJQcm9jZXNz
IFVucmVnaXN0ZXIgJXMgbW9kdWxlXG4iLCBtb2R1bGUtPm5hbWUpOworCWRldl9kYmcoY29tcG9u
ZW50LT5kZXYsICJQcm9jZXNzIFVucmVnaXN0ZXIgJXMgbW9kdWxlXG4iLCBtb2R1bGUtPm5hbWUp
OwogCW11dGV4X3VubG9jaygmZ2Jjb2RlYy0+bG9jayk7CiAKICNpZmRlZiBDT05GSUdfU05EX0pB
Q0sKQEAgLTk5NCw5OSArOTk1LDk3IEBAIHZvaWQgZ2JhdWRpb191bnJlZ2lzdGVyX21vZHVsZShz
dHJ1Y3QgZ2JhdWRpb19tb2R1bGVfaW5mbyAqbW9kdWxlKQogCQkJZGV2X2RiZyhtb2R1bGUtPmRl
diwgIlJlcG9ydCAlcyByZW1vdmFsXG4iLAogCQkJCWphY2stPmphY2stPmlkKTsKIAkJCXNuZF9z
b2NfamFja19yZXBvcnQoamFjaywgMCwgbWFzayk7Ci0JCQlzbmRfZGV2aWNlX2ZyZWUoY29kZWMt
PmNhcmQtPnNuZF9jYXJkLCBqYWNrLT5qYWNrKTsKKwkJCXNuZF9kZXZpY2VfZnJlZShjb21wb25l
bnQtPmNhcmQtPnNuZF9jYXJkLCBqYWNrLT5qYWNrKTsKIAkJCWxpc3RfZGVsKCZnYmFfamFjay0+
bGlzdCk7CiAJCX0KIAl9CiAjZW5kaWYKIAogCWlmIChtb2R1bGUtPmRhcG1fcm91dGVzKSB7Ci0J
CWRldl9kYmcoY29kZWMtPmRldiwgIlJlbW92aW5nICVkIHJvdXRlc1xuIiwKKwkJZGV2X2RiZyhj
b21wb25lbnQtPmRldiwgIlJlbW92aW5nICVkIHJvdXRlc1xuIiwKIAkJCW1vZHVsZS0+bnVtX2Rh
cG1fcm91dGVzKTsKLQkJc25kX3NvY19kYXBtX2RlbF9yb3V0ZXMoJmNvZGVjLT5kYXBtLCBtb2R1
bGUtPmRhcG1fcm91dGVzLAorCQlzbmRfc29jX2RhcG1fZGVsX3JvdXRlcygmY29tcG9uZW50LT5k
YXBtLCBtb2R1bGUtPmRhcG1fcm91dGVzLAogCQkJCQltb2R1bGUtPm51bV9kYXBtX3JvdXRlcyk7
CiAJfQogCWlmIChtb2R1bGUtPmNvbnRyb2xzKSB7Ci0JCWRldl9kYmcoY29kZWMtPmRldiwgIlJl
bW92aW5nICVkIGNvbnRyb2xzXG4iLAorCQlkZXZfZGJnKGNvbXBvbmVudC0+ZGV2LCAiUmVtb3Zp
bmcgJWQgY29udHJvbHNcbiIsCiAJCQltb2R1bGUtPm51bV9jb250cm9scyk7Ci0JCXNuZF9zb2Nf
cmVtb3ZlX2NvZGVjX2NvbnRyb2xzKGNvZGVjLCBtb2R1bGUtPmNvbnRyb2xzLAorCQlzbmRfc29j
X3JlbW92ZV9jb2RlY19jb250cm9scyhjb21wb25lbnQsIG1vZHVsZS0+Y29udHJvbHMsCiAJCQkJ
CSAgICAgIG1vZHVsZS0+bnVtX2NvbnRyb2xzKTsKIAl9CiAJaWYgKG1vZHVsZS0+ZGFwbV93aWRn
ZXRzKSB7Ci0JCWRldl9kYmcoY29kZWMtPmRldiwgIlJlbW92aW5nICVkIHdpZGdldHNcbiIsCisJ
CWRldl9kYmcoY29tcG9uZW50LT5kZXYsICJSZW1vdmluZyAlZCB3aWRnZXRzXG4iLAogCQkJbW9k
dWxlLT5udW1fZGFwbV93aWRnZXRzKTsKLQkJc25kX3NvY19kYXBtX2ZyZWVfY29udHJvbHMoJmNv
ZGVjLT5kYXBtLCBtb2R1bGUtPmRhcG1fd2lkZ2V0cywKKwkJc25kX3NvY19kYXBtX2ZyZWVfY29u
dHJvbHMoJmNvbXBvbmVudC0+ZGFwbSwKKwkJCQkJICAgbW9kdWxlLT5kYXBtX3dpZGdldHMsCiAJ
CQkJCSAgIG1vZHVsZS0+bnVtX2RhcG1fd2lkZ2V0cyk7CiAJfQogCi0JZGV2X2RiZyhjb2RlYy0+
ZGV2LCAiVW5yZWdpc3RlcmVkICVzIG1vZHVsZVxuIiwgbW9kdWxlLT5uYW1lKTsKKwlkZXZfZGJn
KGNvbXBvbmVudC0+ZGV2LCAiVW5yZWdpc3RlcmVkICVzIG1vZHVsZVxuIiwgbW9kdWxlLT5uYW1l
KTsKIAogCXVwX3dyaXRlKCZjYXJkLT5jb250cm9sc19yd3NlbSk7CiB9CiBFWFBPUlRfU1lNQk9M
KGdiYXVkaW9fdW5yZWdpc3Rlcl9tb2R1bGUpOwogCiAvKgotICogY29kZWMgZHJpdmVyIG9wcwor
ICogY29tcG9uZW50IGRyaXZlciBvcHMKICAqLwotc3RhdGljIGludCBnYmNvZGVjX3Byb2JlKHN0
cnVjdCBzbmRfc29jX2NvZGVjICpjb2RlYykKK3N0YXRpYyBpbnQgZ2Jjb2RlY19wcm9iZShzdHJ1
Y3Qgc25kX3NvY19jb21wb25lbnQgKmNvbXBvbmVudCkKIHsKIAlpbnQgaTsKIAlzdHJ1Y3QgZ2Jh
dWRpb19jb2RlY19pbmZvICppbmZvOwogCXN0cnVjdCBnYmF1ZGlvX2NvZGVjX2RhaSAqZGFpOwog
Ci0JaW5mbyA9IGRldm1fa3phbGxvYyhjb2RlYy0+ZGV2LCBzaXplb2YoKmluZm8pLCBHRlBfS0VS
TkVMKTsKKwlpbmZvID0gZGV2bV9remFsbG9jKGNvbXBvbmVudC0+ZGV2LCBzaXplb2YoKmluZm8p
LCBHRlBfS0VSTkVMKTsKIAlpZiAoIWluZm8pCiAJCXJldHVybiAtRU5PTUVNOwogCi0JaW5mby0+
ZGV2ID0gY29kZWMtPmRldjsKKwlpbmZvLT5kZXYgPSBjb21wb25lbnQtPmRldjsKIAlJTklUX0xJ
U1RfSEVBRCgmaW5mby0+bW9kdWxlX2xpc3QpOwogCW11dGV4X2luaXQoJmluZm8tPmxvY2spOwog
CUlOSVRfTElTVF9IRUFEKCZpbmZvLT5kYWlfbGlzdCk7CiAKIAkvKiBpbml0IGRhaV9saXN0IHVz
ZWQgdG8gbWFpbnRhaW4gcnVudGltZSBzdHJlYW0gaW5mbyAqLwogCWZvciAoaSA9IDA7IGkgPCBB
UlJBWV9TSVpFKGdiYXVkaW9fZGFpKTsgaSsrKSB7Ci0JCWRhaSA9IGRldm1fa3phbGxvYyhjb2Rl
Yy0+ZGV2LCBzaXplb2YoKmRhaSksIEdGUF9LRVJORUwpOworCQlkYWkgPSBkZXZtX2t6YWxsb2Mo
Y29tcG9uZW50LT5kZXYsIHNpemVvZigqZGFpKSwgR0ZQX0tFUk5FTCk7CiAJCWlmICghZGFpKQog
CQkJcmV0dXJuIC1FTk9NRU07CiAJCWRhaS0+aWQgPSBnYmF1ZGlvX2RhaVtpXS5pZDsKIAkJbGlz
dF9hZGQoJmRhaS0+bGlzdCwgJmluZm8tPmRhaV9saXN0KTsKIAl9CiAKLQlpbmZvLT5jb2RlYyA9
IGNvZGVjOwotCXNuZF9zb2NfY29kZWNfc2V0X2RydmRhdGEoY29kZWMsIGluZm8pOworCWluZm8t
PmNvbXBvbmVudCA9IGNvbXBvbmVudDsKKwlzbmRfc29jX2NvbXBvbmVudF9zZXRfZHJ2ZGF0YShj
b21wb25lbnQsIGluZm8pOwogCWdiY29kZWMgPSBpbmZvOwogCi0JZGV2aWNlX2luaXRfd2FrZXVw
KGNvZGVjLT5kZXYsIDEpOworCWRldmljZV9pbml0X3dha2V1cChjb21wb25lbnQtPmRldiwgMSk7
CiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgZ2Jjb2RlY19yZW1vdmUoc3RydWN0IHNuZF9z
b2NfY29kZWMgKmNvZGVjKQorc3RhdGljIHZvaWQgZ2Jjb2RlY19yZW1vdmUoc3RydWN0IHNuZF9z
b2NfY29tcG9uZW50ICpjb21wb25lbnQpCiB7CiAJLyogRW1wdHkgZnVuY3Rpb24gZm9yIG5vdyAq
LwotCXJldHVybiAwOworCXJldHVybjsKIH0KIAotc3RhdGljIGludCBnYmNvZGVjX3dyaXRlKHN0
cnVjdCBzbmRfc29jX2NvZGVjICpjb2RlYywgdW5zaWduZWQgaW50IHJlZywKK3N0YXRpYyBpbnQg
Z2Jjb2RlY193cml0ZShzdHJ1Y3Qgc25kX3NvY19jb21wb25lbnQgKmNvbXBvbmVudCwgdW5zaWdu
ZWQgaW50IHJlZywKIAkJCSB1bnNpZ25lZCBpbnQgdmFsdWUpCiB7CiAJcmV0dXJuIDA7CiB9CiAK
LXN0YXRpYyB1bnNpZ25lZCBpbnQgZ2Jjb2RlY19yZWFkKHN0cnVjdCBzbmRfc29jX2NvZGVjICpj
b2RlYywKK3N0YXRpYyB1bnNpZ25lZCBpbnQgZ2Jjb2RlY19yZWFkKHN0cnVjdCBzbmRfc29jX2Nv
bXBvbmVudCAqY29tcG9uZW50LAogCQkJCSB1bnNpZ25lZCBpbnQgcmVnKQogewogCXJldHVybiAw
OwogfQogCi1zdGF0aWMgc3RydWN0IHNuZF9zb2NfY29kZWNfZHJpdmVyIHNvY19jb2RlY19kZXZf
Z2JhdWRpbyA9IHsKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qgc25kX3NvY19jb21wb25lbnRfZHJpdmVy
IHNvY19jb2RlY19kZXZfZ2JhdWRpbyA9IHsKIAkucHJvYmUJPSBnYmNvZGVjX3Byb2JlLAogCS5y
ZW1vdmUJPSBnYmNvZGVjX3JlbW92ZSwKIAogCS5yZWFkID0gZ2Jjb2RlY19yZWFkLAogCS53cml0
ZSA9IGdiY29kZWNfd3JpdGUsCi0KLQkuaWRsZV9iaWFzX29mZiA9IHRydWUsCi0JLmlnbm9yZV9w
bWRvd25fdGltZSA9IDEsCiB9OwogCiAjaWZkZWYgQ09ORklHX1BNCkBAIC0xMTEwLDEzICsxMTA5
LDEzIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZGV2X3BtX29wcyBnYmF1ZGlvX2NvZGVjX3BtX29w
cyA9IHsKIAogc3RhdGljIGludCBnYmF1ZGlvX2NvZGVjX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBkZXYpCiB7Ci0JcmV0dXJuIHNuZF9zb2NfcmVnaXN0ZXJfY29kZWMoJnBkZXYtPmRl
diwgJnNvY19jb2RlY19kZXZfZ2JhdWRpbywKKwlyZXR1cm4gZGV2bV9zbmRfc29jX3JlZ2lzdGVy
X2NvbXBvbmVudCgmcGRldi0+ZGV2LAorCQkJJnNvY19jb2RlY19kZXZfZ2JhdWRpbywKIAkJCWdi
YXVkaW9fZGFpLCBBUlJBWV9TSVpFKGdiYXVkaW9fZGFpKSk7CiB9CiAKIHN0YXRpYyBpbnQgZ2Jh
dWRpb19jb2RlY19yZW1vdmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikKIHsKLQlzbmRf
c29jX3VucmVnaXN0ZXJfY29kZWMoJnBkZXYtPmRldik7CiAJcmV0dXJuIDA7CiB9CiAKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlvX2NvZGVjLmggYi9kcml2ZXJzL3N0
YWdpbmcvZ3JleWJ1cy9hdWRpb19jb2RlYy5oCmluZGV4IGFmOTE5NWVjZWIzYS4uY2UxNWU4MDBl
NjA3IDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvZ3JleWJ1cy9hdWRpb19jb2RlYy5oCisr
KyBiL2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlvX2NvZGVjLmgKQEAgLTY2LDcgKzY2LDcg
QEAgc3RydWN0IGdiYXVkaW9fY29kZWNfZGFpIHsKIAogc3RydWN0IGdiYXVkaW9fY29kZWNfaW5m
byB7CiAJc3RydWN0IGRldmljZSAqZGV2OwotCXN0cnVjdCBzbmRfc29jX2NvZGVjICpjb2RlYzsK
KwlzdHJ1Y3Qgc25kX3NvY19jb21wb25lbnQgKmNvbXBvbmVudDsKIAlzdHJ1Y3QgbGlzdF9oZWFk
IG1vZHVsZV9saXN0OwogCS8qIHRvIG1haW50YWluIHJ1bnRpbWUgc3RyZWFtIHBhcmFtcyBmb3Ig
ZWFjaCBEQUkgKi8KIAlzdHJ1Y3QgbGlzdF9oZWFkIGRhaV9saXN0OwotLSAKMi4yNi4yCgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpncmV5YnVzLWRldiBt
YWlsaW5nIGxpc3QKZ3JleWJ1cy1kZXZAbGlzdHMubGluYXJvLm9yZwpodHRwczovL2xpc3RzLmxp
bmFyby5vcmcvbWFpbG1hbi9saXN0aW5mby9ncmV5YnVzLWRldgo=
