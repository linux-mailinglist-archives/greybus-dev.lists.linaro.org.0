Return-Path: <greybus-dev-bounces@lists.linaro.org>
X-Original-To: lists+greybus-dev@lfdr.de
Delivered-To: lists+greybus-dev@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id DF1F81D6B5D
	for <lists+greybus-dev@lfdr.de>; Sun, 17 May 2020 19:19:11 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 0019361734
	for <lists+greybus-dev@lfdr.de>; Sun, 17 May 2020 17:19:11 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id DFBD361778; Sun, 17 May 2020 17:19:10 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,DKIM_ADSP_CUSTOM_MED,
	FREEMAIL_FROM,MAILING_LIST_MULTI,RCVD_IN_DNSWL_BLOCKED,
	RCVD_IN_MSPIKE_H3,RCVD_IN_MSPIKE_WL,SPF_HELO_NONE autolearn=disabled
	version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 02A596090B;
	Sun, 17 May 2020 17:18:32 +0000 (UTC)
X-Original-To: greybus-dev@lists.linaro.org
Delivered-To: greybus-dev@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id A61D560866
 for <greybus-dev@lists.linaro.org>; Sun, 17 May 2020 17:18:20 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 95716608C3; Sun, 17 May 2020 17:18:20 +0000 (UTC)
Received: from mail-pl1-f195.google.com (mail-pl1-f195.google.com
 [209.85.214.195])
 by lists.linaro.org (Postfix) with ESMTPS id BFE29608DF
 for <greybus-dev@lists.linaro.org>; Sun, 17 May 2020 17:18:00 +0000 (UTC)
Received: by mail-pl1-f195.google.com with SMTP id w19so1388968ply.11
 for <greybus-dev@lists.linaro.org>; Sun, 17 May 2020 10:18:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:in-reply-to:references;
 bh=l2W2xS62GYdegwds1m8qkgAq7FLG1DLl28++ecGwz+4=;
 b=rvKqgiS6fi70RdQFy31Tx+L+rUZBZT9uH8cqGI5qm4jryHXdn8/2OQb63hwJqtB6Xu
 QLJjFkqc0+73JrzwHI6hv9+76xXPA1PKOaUslVtYuLImdfCHOd4WX5tSdY53SeF6CfyL
 gNtldRYF/YqaV50zj4FHvsuwaZbmnU3Ig7C0mCDX4pqjYvXB/exeKMs1dRYme8A87lkB
 2hkXn3oz/6UjCfwq7M/qJZMtkmZzL5gEVqNUdn/B7x1Yd8T1dO5Dd9jaCwunyKOcrxLh
 PNcBUbFzQ9G0C77RaoisWBuZcdxS0KQ3wVeGk4WMK3v9h1jbs03dmFzVmqS324z1Ivvj
 UP/A==
X-Gm-Message-State: AOAM530egs+rupU+C+O+SMiim0f0sjO5ecxFgPppwAgjD4EoMWkkkZJT
 CJKjc/8Y5M+ikyiMAaOyHME=
X-Google-Smtp-Source: ABdhPJweAkJ6REvlPMDyLxDikSBWr+WBXMPDY2/thLzHgYUtwCrlh7EBtZWoi6Xz4AHtgYTsTmY8zg==
X-Received: by 2002:a17:90a:cc6:: with SMTP id 6mr14863282pjt.17.1589735879910; 
 Sun, 17 May 2020 10:17:59 -0700 (PDT)
Received: from cvds-vagarw7.iind.intel.com (fmdmzpr03-ext.fm.intel.com.
 [192.55.54.38])
 by smtp.googlemail.com with ESMTPSA id n69sm6513900pjc.8.2020.05.17.10.17.53
 (version=TLS1_2 cipher=ECDHE-ECDSA-AES128-GCM-SHA256 bits=128/128);
 Sun, 17 May 2020 10:17:59 -0700 (PDT)
From: Vaibhav Agarwal <vaibhav.sr@gmail.com>
To: Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 Alex Elder <elder@kernel.org>, Johan Hovold <johan@kernel.org>,
 Mark Greer <mgreer@animalcreek.com>
Date: Sun, 17 May 2020 22:47:18 +0530
Message-Id: <cce5aa43533d872d84be1abc514074a7705f9a54.1589734179.git.vaibhav.sr@gmail.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <cover.1589734179.git.vaibhav.sr@gmail.com>
References: <cover.1589734179.git.vaibhav.sr@gmail.com>
In-Reply-To: <cover.1589734179.git.vaibhav.sr@gmail.com>
References: <cover.1589734179.git.vaibhav.sr@gmail.com>
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: devel@driverdev.osuosl.org, greybus-dev@lists.linaro.org,
 Alexandre Belloni <alexandre.belloni@bootlin.com>,
 linux-kernel@vger.kernel.org
Subject: [greybus-dev] [PATCH V1 3/6] staging: greybus: audio: Resolve
	compilation errors for GB codec module
X-BeenThere: greybus-dev@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: Greybus Development Mail List <greybus-dev.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/greybus-dev/>
List-Post: <mailto:greybus-dev@lists.linaro.org>
List-Help: <mailto:greybus-dev-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: greybus-dev-bounces@lists.linaro.org
Sender: "greybus-dev" <greybus-dev-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

RHVlIHRvIGRlcGVuZGVuY2llcyBvbiBBU29DIGZyYW1ld29yayBjaGFuZ2VzLCBHQiBkdW1teSBj
b2RlYyBtb2R1bGUKY29tcGlsYXRpb24gaXMgY3VycmVudGx5IGRpc2FibGVkLiBUaGlzIHBhdGNo
IHVwZGF0ZXMgY29kZWMgZHJpdmVyIGFzCnBlciB0aGUgbGF0ZXN0IEFTb0MgQVBJcy4KClNpZ25l
ZC1vZmYtYnk6IFZhaWJoYXYgQWdhcndhbCA8dmFpYmhhdi5zckBnbWFpbC5jb20+Ci0tLQogZHJp
dmVycy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuYyB8IDg3ICsrKysrKysrKysrKysrKysr
LS0tLS0tLS0tLS0tLS0tLS0tCiBkcml2ZXJzL3N0YWdpbmcvZ3JleWJ1cy9hdWRpb19jb2RlYy5o
IHwgIDIgKy0KIDIgZmlsZXMgY2hhbmdlZCwgNDQgaW5zZXJ0aW9ucygrKSwgNDUgZGVsZXRpb25z
KC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuYyBi
L2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlvX2NvZGVjLmMKaW5kZXggYTJlZTU4N2U1YTc5
Li5iYmQwNzJhY2RhNWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlv
X2NvZGVjLmMKKysrIGIvZHJpdmVycy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuYwpAQCAt
ODMyLDcgKzgzMiw3IEBAIHN0YXRpYyBpbnQgZ2JhdWRpb19pbml0X2phY2soc3RydWN0IGdiYXVk
aW9fbW9kdWxlX2luZm8gKm1vZHVsZSwKIGludCBnYmF1ZGlvX3JlZ2lzdGVyX21vZHVsZShzdHJ1
Y3QgZ2JhdWRpb19tb2R1bGVfaW5mbyAqbW9kdWxlKQogewogCWludCByZXQ7Ci0Jc3RydWN0IHNu
ZF9zb2NfY29kZWMgKmNvZGVjOworCXN0cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcG9uZW50
OwogCXN0cnVjdCBzbmRfY2FyZCAqY2FyZDsKIAlzdHJ1Y3QgZ2JhdWRpb19qYWNrICpnYmFfamFj
ayA9IE5VTEw7CiAJc3RydWN0IHNuZF9zb2NfamFjayAqamFjayA9IE5VTEw7CkBAIC04NDIsOCAr
ODQyLDggQEAgaW50IGdiYXVkaW9fcmVnaXN0ZXJfbW9kdWxlKHN0cnVjdCBnYmF1ZGlvX21vZHVs
ZV9pbmZvICptb2R1bGUpCiAJCXJldHVybiAtRUFHQUlOOwogCX0KIAotCWNvZGVjID0gZ2Jjb2Rl
Yy0+Y29kZWM7Ci0JY2FyZCA9IGNvZGVjLT5jYXJkLT5zbmRfY2FyZDsKKwljb21wb25lbnQgPSBn
YmNvZGVjLT5jb21wb25lbnQ7CisJY2FyZCA9IGNvbXBvbmVudC0+Y2FyZC0+c25kX2NhcmQ7CiAK
IAlkb3duX3dyaXRlKCZjYXJkLT5jb250cm9sc19yd3NlbSk7CiAKQEAgLTg2MiwxOSArODYyLDIw
IEBAIGludCBnYmF1ZGlvX3JlZ2lzdGVyX21vZHVsZShzdHJ1Y3QgZ2JhdWRpb19tb2R1bGVfaW5m
byAqbW9kdWxlKQogCX0KIAogCWlmIChtb2R1bGUtPmRhcG1fd2lkZ2V0cykKLQkJc25kX3NvY19k
YXBtX25ld19jb250cm9scygmY29kZWMtPmRhcG0sIG1vZHVsZS0+ZGFwbV93aWRnZXRzLAorCQlz
bmRfc29jX2RhcG1fbmV3X2NvbnRyb2xzKCZjb21wb25lbnQtPmRhcG0sCisJCQkJCSAgbW9kdWxl
LT5kYXBtX3dpZGdldHMsCiAJCQkJCSAgbW9kdWxlLT5udW1fZGFwbV93aWRnZXRzKTsKIAlpZiAo
bW9kdWxlLT5jb250cm9scykKLQkJc25kX3NvY19hZGRfY29kZWNfY29udHJvbHMoY29kZWMsIG1v
ZHVsZS0+Y29udHJvbHMsCi0JCQkJCSAgIG1vZHVsZS0+bnVtX2NvbnRyb2xzKTsKKwkJc25kX3Nv
Y19hZGRfY29tcG9uZW50X2NvbnRyb2xzKGNvbXBvbmVudCwgbW9kdWxlLT5jb250cm9scywKKwkJ
CQkJICAgICAgIG1vZHVsZS0+bnVtX2NvbnRyb2xzKTsKIAlpZiAobW9kdWxlLT5kYXBtX3JvdXRl
cykKLQkJc25kX3NvY19kYXBtX2FkZF9yb3V0ZXMoJmNvZGVjLT5kYXBtLCBtb2R1bGUtPmRhcG1f
cm91dGVzLAorCQlzbmRfc29jX2RhcG1fYWRkX3JvdXRlcygmY29tcG9uZW50LT5kYXBtLCBtb2R1
bGUtPmRhcG1fcm91dGVzLAogCQkJCQltb2R1bGUtPm51bV9kYXBtX3JvdXRlcyk7CiAKIAkvKiBj
YXJkIGFscmVhZHkgaW5zdGFudGlhdGVkLCBjcmVhdGUgd2lkZ2V0cyBoZXJlIG9ubHkgKi8KLQlp
ZiAoY29kZWMtPmNhcmQtPmluc3RhbnRpYXRlZCkgewotCQlzbmRfc29jX2RhcG1fbGlua19jb21w
b25lbnRfZGFpX3dpZGdldHMoY29kZWMtPmNhcmQsCi0JCQkJCQkJJmNvZGVjLT5kYXBtKTsKKwlp
ZiAoY29tcG9uZW50LT5jYXJkLT5pbnN0YW50aWF0ZWQpIHsKKwkJc25kX3NvY19kYXBtX2xpbmtf
Y29tcG9uZW50X2RhaV93aWRnZXRzKGNvbXBvbmVudC0+Y2FyZCwKKwkJCQkJCQkmY29tcG9uZW50
LT5kYXBtKTsKICNpZmRlZiBDT05GSUdfU05EX0pBQ0sKIAkJLyoKIAkJICogcmVnaXN0ZXIgamFj
ayBkZXZpY2VzIGZvciB0aGlzIG1vZHVsZQpAQCAtODgyLDcgKzg4Myw3IEBAIGludCBnYmF1ZGlv
X3JlZ2lzdGVyX21vZHVsZShzdHJ1Y3QgZ2JhdWRpb19tb2R1bGVfaW5mbyAqbW9kdWxlKQogCQkg
Ki8KIAkJbGlzdF9mb3JfZWFjaF9lbnRyeShnYmFfamFjaywgJm1vZHVsZS0+amFja19saXN0LCBs
aXN0KSB7CiAJCQlqYWNrID0gJmdiYV9qYWNrLT5qYWNrOwotCQkJc25kX2RldmljZV9yZWdpc3Rl
cihjb2RlYy0+Y2FyZC0+c25kX2NhcmQsCisJCQlzbmRfZGV2aWNlX3JlZ2lzdGVyKGNvbXBvbmVu
dC0+Y2FyZC0+c25kX2NhcmQsCiAJCQkJCSAgICBqYWNrLT5qYWNrKTsKIAkJfQogI2VuZGlmCkBA
IC04OTIsOSArODkzLDkgQEAgaW50IGdiYXVkaW9fcmVnaXN0ZXJfbW9kdWxlKHN0cnVjdCBnYmF1
ZGlvX21vZHVsZV9pbmZvICptb2R1bGUpCiAJbGlzdF9hZGQoJm1vZHVsZS0+bGlzdCwgJmdiY29k
ZWMtPm1vZHVsZV9saXN0KTsKIAltdXRleF91bmxvY2soJmdiY29kZWMtPmxvY2spOwogCi0JaWYg
KGNvZGVjLT5jYXJkLT5pbnN0YW50aWF0ZWQpCi0JCXJldCA9IHNuZF9zb2NfZGFwbV9uZXdfd2lk
Z2V0cygmY29kZWMtPmRhcG0pOwotCWRldl9kYmcoY29kZWMtPmRldiwgIlJlZ2lzdGVyZWQgJXMg
bW9kdWxlXG4iLCBtb2R1bGUtPm5hbWUpOworCWlmIChjb21wb25lbnQtPmNhcmQtPmluc3RhbnRp
YXRlZCkKKwkJcmV0ID0gc25kX3NvY19kYXBtX25ld193aWRnZXRzKGNvbXBvbmVudC0+Y2FyZCk7
CisJZGV2X2RiZyhjb21wb25lbnQtPmRldiwgIlJlZ2lzdGVyZWQgJXMgbW9kdWxlXG4iLCBtb2R1
bGUtPm5hbWUpOwogCiAJdXBfd3JpdGUoJmNhcmQtPmNvbnRyb2xzX3J3c2VtKTsKIAlyZXR1cm4g
cmV0OwpAQCAtOTY1LDE5ICs5NjYsMTkgQEAgc3RhdGljIHZvaWQgZ2JhdWRpb19jb2RlY19jbGVh
bnVwKHN0cnVjdCBnYmF1ZGlvX21vZHVsZV9pbmZvICptb2R1bGUpCiAKIHZvaWQgZ2JhdWRpb191
bnJlZ2lzdGVyX21vZHVsZShzdHJ1Y3QgZ2JhdWRpb19tb2R1bGVfaW5mbyAqbW9kdWxlKQogewot
CXN0cnVjdCBzbmRfc29jX2NvZGVjICpjb2RlYyA9IGdiY29kZWMtPmNvZGVjOwotCXN0cnVjdCBz
bmRfY2FyZCAqY2FyZCA9IGNvZGVjLT5jYXJkLT5zbmRfY2FyZDsKKwlzdHJ1Y3Qgc25kX3NvY19j
b21wb25lbnQgKmNvbXBvbmVudCA9IGdiY29kZWMtPmNvbXBvbmVudDsKKwlzdHJ1Y3Qgc25kX2Nh
cmQgKmNhcmQgPSBjb21wb25lbnQtPmNhcmQtPnNuZF9jYXJkOwogCXN0cnVjdCBnYmF1ZGlvX2ph
Y2sgKmdiYV9qYWNrLCAqbjsKIAlzdHJ1Y3Qgc25kX3NvY19qYWNrICpqYWNrOwogCWludCBtYXNr
OwogCi0JZGV2X2RiZyhjb2RlYy0+ZGV2LCAiVW5yZWdpc3RlciAlcyBtb2R1bGVcbiIsIG1vZHVs
ZS0+bmFtZSk7CisJZGV2X2RiZyhjb21wb25lbnQtPmRldiwgIlVucmVnaXN0ZXIgJXMgbW9kdWxl
XG4iLCBtb2R1bGUtPm5hbWUpOwogCiAJZG93bl93cml0ZSgmY2FyZC0+Y29udHJvbHNfcndzZW0p
OwogCW11dGV4X2xvY2soJmdiY29kZWMtPmxvY2spOwogCWdiYXVkaW9fY29kZWNfY2xlYW51cCht
b2R1bGUpOwogCWxpc3RfZGVsKCZtb2R1bGUtPmxpc3QpOwotCWRldl9kYmcoY29kZWMtPmRldiwg
IlByb2Nlc3MgVW5yZWdpc3RlciAlcyBtb2R1bGVcbiIsIG1vZHVsZS0+bmFtZSk7CisJZGV2X2Ri
Zyhjb21wb25lbnQtPmRldiwgIlByb2Nlc3MgVW5yZWdpc3RlciAlcyBtb2R1bGVcbiIsIG1vZHVs
ZS0+bmFtZSk7CiAJbXV0ZXhfdW5sb2NrKCZnYmNvZGVjLT5sb2NrKTsKIAogI2lmZGVmIENPTkZJ
R19TTkRfSkFDSwpAQCAtOTk0LDk5ICs5OTUsOTcgQEAgdm9pZCBnYmF1ZGlvX3VucmVnaXN0ZXJf
bW9kdWxlKHN0cnVjdCBnYmF1ZGlvX21vZHVsZV9pbmZvICptb2R1bGUpCiAJCQlkZXZfZGJnKG1v
ZHVsZS0+ZGV2LCAiUmVwb3J0ICVzIHJlbW92YWxcbiIsCiAJCQkJamFjay0+amFjay0+aWQpOwog
CQkJc25kX3NvY19qYWNrX3JlcG9ydChqYWNrLCAwLCBtYXNrKTsKLQkJCXNuZF9kZXZpY2VfZnJl
ZShjb2RlYy0+Y2FyZC0+c25kX2NhcmQsIGphY2stPmphY2spOworCQkJc25kX2RldmljZV9mcmVl
KGNvbXBvbmVudC0+Y2FyZC0+c25kX2NhcmQsIGphY2stPmphY2spOwogCQkJbGlzdF9kZWwoJmdi
YV9qYWNrLT5saXN0KTsKIAkJfQogCX0KICNlbmRpZgogCiAJaWYgKG1vZHVsZS0+ZGFwbV9yb3V0
ZXMpIHsKLQkJZGV2X2RiZyhjb2RlYy0+ZGV2LCAiUmVtb3ZpbmcgJWQgcm91dGVzXG4iLAorCQlk
ZXZfZGJnKGNvbXBvbmVudC0+ZGV2LCAiUmVtb3ZpbmcgJWQgcm91dGVzXG4iLAogCQkJbW9kdWxl
LT5udW1fZGFwbV9yb3V0ZXMpOwotCQlzbmRfc29jX2RhcG1fZGVsX3JvdXRlcygmY29kZWMtPmRh
cG0sIG1vZHVsZS0+ZGFwbV9yb3V0ZXMsCisJCXNuZF9zb2NfZGFwbV9kZWxfcm91dGVzKCZjb21w
b25lbnQtPmRhcG0sIG1vZHVsZS0+ZGFwbV9yb3V0ZXMsCiAJCQkJCW1vZHVsZS0+bnVtX2RhcG1f
cm91dGVzKTsKIAl9CiAJaWYgKG1vZHVsZS0+Y29udHJvbHMpIHsKLQkJZGV2X2RiZyhjb2RlYy0+
ZGV2LCAiUmVtb3ZpbmcgJWQgY29udHJvbHNcbiIsCisJCWRldl9kYmcoY29tcG9uZW50LT5kZXYs
ICJSZW1vdmluZyAlZCBjb250cm9sc1xuIiwKIAkJCW1vZHVsZS0+bnVtX2NvbnRyb2xzKTsKLQkJ
c25kX3NvY19yZW1vdmVfY29kZWNfY29udHJvbHMoY29kZWMsIG1vZHVsZS0+Y29udHJvbHMsCisJ
CXNuZF9zb2NfcmVtb3ZlX2NvZGVjX2NvbnRyb2xzKGNvbXBvbmVudCwgbW9kdWxlLT5jb250cm9s
cywKIAkJCQkJICAgICAgbW9kdWxlLT5udW1fY29udHJvbHMpOwogCX0KIAlpZiAobW9kdWxlLT5k
YXBtX3dpZGdldHMpIHsKLQkJZGV2X2RiZyhjb2RlYy0+ZGV2LCAiUmVtb3ZpbmcgJWQgd2lkZ2V0
c1xuIiwKKwkJZGV2X2RiZyhjb21wb25lbnQtPmRldiwgIlJlbW92aW5nICVkIHdpZGdldHNcbiIs
CiAJCQltb2R1bGUtPm51bV9kYXBtX3dpZGdldHMpOwotCQlzbmRfc29jX2RhcG1fZnJlZV9jb250
cm9scygmY29kZWMtPmRhcG0sIG1vZHVsZS0+ZGFwbV93aWRnZXRzLAorCQlzbmRfc29jX2RhcG1f
ZnJlZV9jb250cm9scygmY29tcG9uZW50LT5kYXBtLAorCQkJCQkgICBtb2R1bGUtPmRhcG1fd2lk
Z2V0cywKIAkJCQkJICAgbW9kdWxlLT5udW1fZGFwbV93aWRnZXRzKTsKIAl9CiAKLQlkZXZfZGJn
KGNvZGVjLT5kZXYsICJVbnJlZ2lzdGVyZWQgJXMgbW9kdWxlXG4iLCBtb2R1bGUtPm5hbWUpOwor
CWRldl9kYmcoY29tcG9uZW50LT5kZXYsICJVbnJlZ2lzdGVyZWQgJXMgbW9kdWxlXG4iLCBtb2R1
bGUtPm5hbWUpOwogCiAJdXBfd3JpdGUoJmNhcmQtPmNvbnRyb2xzX3J3c2VtKTsKIH0KIEVYUE9S
VF9TWU1CT0woZ2JhdWRpb191bnJlZ2lzdGVyX21vZHVsZSk7CiAKIC8qCi0gKiBjb2RlYyBkcml2
ZXIgb3BzCisgKiBjb21wb25lbnQgZHJpdmVyIG9wcwogICovCi1zdGF0aWMgaW50IGdiY29kZWNf
cHJvYmUoc3RydWN0IHNuZF9zb2NfY29kZWMgKmNvZGVjKQorc3RhdGljIGludCBnYmNvZGVjX3By
b2JlKHN0cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcG9uZW50KQogewogCWludCBpOwogCXN0
cnVjdCBnYmF1ZGlvX2NvZGVjX2luZm8gKmluZm87CiAJc3RydWN0IGdiYXVkaW9fY29kZWNfZGFp
ICpkYWk7CiAKLQlpbmZvID0gZGV2bV9remFsbG9jKGNvZGVjLT5kZXYsIHNpemVvZigqaW5mbyks
IEdGUF9LRVJORUwpOworCWluZm8gPSBkZXZtX2t6YWxsb2MoY29tcG9uZW50LT5kZXYsIHNpemVv
ZigqaW5mbyksIEdGUF9LRVJORUwpOwogCWlmICghaW5mbykKIAkJcmV0dXJuIC1FTk9NRU07CiAK
LQlpbmZvLT5kZXYgPSBjb2RlYy0+ZGV2OworCWluZm8tPmRldiA9IGNvbXBvbmVudC0+ZGV2Owog
CUlOSVRfTElTVF9IRUFEKCZpbmZvLT5tb2R1bGVfbGlzdCk7CiAJbXV0ZXhfaW5pdCgmaW5mby0+
bG9jayk7CiAJSU5JVF9MSVNUX0hFQUQoJmluZm8tPmRhaV9saXN0KTsKIAogCS8qIGluaXQgZGFp
X2xpc3QgdXNlZCB0byBtYWludGFpbiBydW50aW1lIHN0cmVhbSBpbmZvICovCiAJZm9yIChpID0g
MDsgaSA8IEFSUkFZX1NJWkUoZ2JhdWRpb19kYWkpOyBpKyspIHsKLQkJZGFpID0gZGV2bV9remFs
bG9jKGNvZGVjLT5kZXYsIHNpemVvZigqZGFpKSwgR0ZQX0tFUk5FTCk7CisJCWRhaSA9IGRldm1f
a3phbGxvYyhjb21wb25lbnQtPmRldiwgc2l6ZW9mKCpkYWkpLCBHRlBfS0VSTkVMKTsKIAkJaWYg
KCFkYWkpCiAJCQlyZXR1cm4gLUVOT01FTTsKIAkJZGFpLT5pZCA9IGdiYXVkaW9fZGFpW2ldLmlk
OwogCQlsaXN0X2FkZCgmZGFpLT5saXN0LCAmaW5mby0+ZGFpX2xpc3QpOwogCX0KIAotCWluZm8t
PmNvZGVjID0gY29kZWM7Ci0Jc25kX3NvY19jb2RlY19zZXRfZHJ2ZGF0YShjb2RlYywgaW5mbyk7
CisJaW5mby0+Y29tcG9uZW50ID0gY29tcG9uZW50OworCXNuZF9zb2NfY29tcG9uZW50X3NldF9k
cnZkYXRhKGNvbXBvbmVudCwgaW5mbyk7CiAJZ2Jjb2RlYyA9IGluZm87CiAKLQlkZXZpY2VfaW5p
dF93YWtldXAoY29kZWMtPmRldiwgMSk7CisJZGV2aWNlX2luaXRfd2FrZXVwKGNvbXBvbmVudC0+
ZGV2LCAxKTsKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBnYmNvZGVjX3JlbW92ZShzdHJ1
Y3Qgc25kX3NvY19jb2RlYyAqY29kZWMpCitzdGF0aWMgdm9pZCBnYmNvZGVjX3JlbW92ZShzdHJ1
Y3Qgc25kX3NvY19jb21wb25lbnQgKmNvbXBvbmVudCkKIHsKIAkvKiBFbXB0eSBmdW5jdGlvbiBm
b3Igbm93ICovCi0JcmV0dXJuIDA7CisJcmV0dXJuOwogfQogCi1zdGF0aWMgaW50IGdiY29kZWNf
d3JpdGUoc3RydWN0IHNuZF9zb2NfY29kZWMgKmNvZGVjLCB1bnNpZ25lZCBpbnQgcmVnLAorc3Rh
dGljIGludCBnYmNvZGVjX3dyaXRlKHN0cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcG9uZW50
LCB1bnNpZ25lZCBpbnQgcmVnLAogCQkJIHVuc2lnbmVkIGludCB2YWx1ZSkKIHsKIAlyZXR1cm4g
MDsKIH0KIAotc3RhdGljIHVuc2lnbmVkIGludCBnYmNvZGVjX3JlYWQoc3RydWN0IHNuZF9zb2Nf
Y29kZWMgKmNvZGVjLAorc3RhdGljIHVuc2lnbmVkIGludCBnYmNvZGVjX3JlYWQoc3RydWN0IHNu
ZF9zb2NfY29tcG9uZW50ICpjb21wb25lbnQsCiAJCQkJIHVuc2lnbmVkIGludCByZWcpCiB7CiAJ
cmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBzdHJ1Y3Qgc25kX3NvY19jb2RlY19kcml2ZXIgc29jX2Nv
ZGVjX2Rldl9nYmF1ZGlvID0geworc3RhdGljIGNvbnN0IHN0cnVjdCBzbmRfc29jX2NvbXBvbmVu
dF9kcml2ZXIgc29jX2NvZGVjX2Rldl9nYmF1ZGlvID0gewogCS5wcm9iZQk9IGdiY29kZWNfcHJv
YmUsCiAJLnJlbW92ZQk9IGdiY29kZWNfcmVtb3ZlLAogCiAJLnJlYWQgPSBnYmNvZGVjX3JlYWQs
CiAJLndyaXRlID0gZ2Jjb2RlY193cml0ZSwKLQotCS5pZGxlX2JpYXNfb2ZmID0gdHJ1ZSwKLQku
aWdub3JlX3BtZG93bl90aW1lID0gMSwKIH07CiAKICNpZmRlZiBDT05GSUdfUE0KQEAgLTExMTAs
MTMgKzExMDksMTMgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkZXZfcG1fb3BzIGdiYXVkaW9fY29k
ZWNfcG1fb3BzID0gewogCiBzdGF0aWMgaW50IGdiYXVkaW9fY29kZWNfcHJvYmUoc3RydWN0IHBs
YXRmb3JtX2RldmljZSAqcGRldikKIHsKLQlyZXR1cm4gc25kX3NvY19yZWdpc3Rlcl9jb2RlYygm
cGRldi0+ZGV2LCAmc29jX2NvZGVjX2Rldl9nYmF1ZGlvLAorCXJldHVybiBkZXZtX3NuZF9zb2Nf
cmVnaXN0ZXJfY29tcG9uZW50KCZwZGV2LT5kZXYsCisJCQkmc29jX2NvZGVjX2Rldl9nYmF1ZGlv
LAogCQkJZ2JhdWRpb19kYWksIEFSUkFZX1NJWkUoZ2JhdWRpb19kYWkpKTsKIH0KIAogc3RhdGlj
IGludCBnYmF1ZGlvX2NvZGVjX3JlbW92ZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQog
ewotCXNuZF9zb2NfdW5yZWdpc3Rlcl9jb2RlYygmcGRldi0+ZGV2KTsKIAlyZXR1cm4gMDsKIH0K
IApkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuaCBiL2Ry
aXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlvX2NvZGVjLmgKaW5kZXggYWY5MTk1ZWNlYjNhLi5j
ZTE1ZTgwMGU2MDcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlvX2Nv
ZGVjLmgKKysrIGIvZHJpdmVycy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuaApAQCAtNjYs
NyArNjYsNyBAQCBzdHJ1Y3QgZ2JhdWRpb19jb2RlY19kYWkgewogCiBzdHJ1Y3QgZ2JhdWRpb19j
b2RlY19pbmZvIHsKIAlzdHJ1Y3QgZGV2aWNlICpkZXY7Ci0Jc3RydWN0IHNuZF9zb2NfY29kZWMg
KmNvZGVjOworCXN0cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcG9uZW50OwogCXN0cnVjdCBs
aXN0X2hlYWQgbW9kdWxlX2xpc3Q7CiAJLyogdG8gbWFpbnRhaW4gcnVudGltZSBzdHJlYW0gcGFy
YW1zIGZvciBlYWNoIERBSSAqLwogCXN0cnVjdCBsaXN0X2hlYWQgZGFpX2xpc3Q7Ci0tIAoyLjcu
NAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZ3JleWJ1
cy1kZXYgbWFpbGluZyBsaXN0CmdyZXlidXMtZGV2QGxpc3RzLmxpbmFyby5vcmcKaHR0cHM6Ly9s
aXN0cy5saW5hcm8ub3JnL21haWxtYW4vbGlzdGluZm8vZ3JleWJ1cy1kZXYK
