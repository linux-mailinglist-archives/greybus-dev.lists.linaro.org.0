Return-Path: <greybus-dev-bounces@lists.linaro.org>
X-Original-To: lists+greybus-dev@lfdr.de
Delivered-To: lists+greybus-dev@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 448312007B3
	for <lists+greybus-dev@lfdr.de>; Fri, 19 Jun 2020 13:22:27 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 60CAE665BF
	for <lists+greybus-dev@lfdr.de>; Fri, 19 Jun 2020 11:22:26 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 543D3665C3; Fri, 19 Jun 2020 11:22:26 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.9 required=5.0 tests=BAYES_00,DKIM_ADSP_CUSTOM_MED,
	FREEMAIL_FROM,MAILING_LIST_MULTI,RCVD_IN_DNSWL_NONE,RCVD_IN_MSPIKE_H3,
	RCVD_IN_MSPIKE_WL,SPF_HELO_NONE autolearn=disabled version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 8622A665C5;
	Fri, 19 Jun 2020 11:21:45 +0000 (UTC)
X-Original-To: greybus-dev@lists.linaro.org
Delivered-To: greybus-dev@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 36861665A1
 for <greybus-dev@lists.linaro.org>; Fri, 19 Jun 2020 11:21:38 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 2AA97665C3; Fri, 19 Jun 2020 11:21:38 +0000 (UTC)
Received: from mail-pf1-f196.google.com (mail-pf1-f196.google.com
 [209.85.210.196])
 by lists.linaro.org (Postfix) with ESMTPS id 65FCA665AA
 for <greybus-dev@lists.linaro.org>; Fri, 19 Jun 2020 11:21:17 +0000 (UTC)
Received: by mail-pf1-f196.google.com with SMTP id x22so4312449pfn.3
 for <greybus-dev@lists.linaro.org>; Fri, 19 Jun 2020 04:21:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=p9ErpzdEuUxyuflJiAYw1shpL6eC+EwdEpWPFPr8/Iw=;
 b=JDCDSBIlSmWoBBEj1OUuOHPFdRsDJwhHhgFmsUsMMbQloTAX3REZYbN2CvI4FYppmE
 WI18mEmrSikWiec1sAucreTaHhxBEY0+TupMLB6m3ql+yVwhvF1zevc/FzMLlmFDitQs
 jgi37/rH9gADyorDBgQ7En7mvqGgEya7LaTsGPI7umg39wJhLIcwWOzIUUTD2d4G6yDY
 Ls4K0HjdzS7EAytg7rGqrLBPK5DKmsNAap27NUfBDjS6hWvnJUp1GeKtYnQlGG1cX8OG
 ciQU6s5tTrW2OyrDJvOxE48iHtZ9lUvCiXi8V+JnXUO3pzyE9rcRyoQUZgfpey1xhfg3
 9BIg==
X-Gm-Message-State: AOAM532sGyFbBcOWdgE7S+0d1SWJ636bVwhxITeAyuVCM+dwREIhktYE
 NO+8alEcAnfzlNskwzaWAzY=
X-Google-Smtp-Source: ABdhPJxOtJBJaZjT9ZXlYybxJRnclFp/hH1hUJXZqM+zCivtgG1gJazPnHBglbBuyDmEVJiawqv+fw==
X-Received: by 2002:a05:6a00:1490:: with SMTP id
 v16mr7408564pfu.173.1592565676323; 
 Fri, 19 Jun 2020 04:21:16 -0700 (PDT)
Received: from cvds-vagarw7.iind.intel.com ([192.55.55.41])
 by smtp.googlemail.com with ESMTPSA id d9sm4974293pgg.74.2020.06.19.04.21.08
 (version=TLS1_2 cipher=ECDHE-ECDSA-AES128-GCM-SHA256 bits=128/128);
 Fri, 19 Jun 2020 04:21:15 -0700 (PDT)
From: Vaibhav Agarwal <vaibhav.sr@gmail.com>
To: Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
 Alex Elder <elder@kernel.org>, Johan Hovold <johan@kernel.org>,
 Mark Greer <mgreer@animalcreek.com>
Date: Fri, 19 Jun 2020 16:50:23 +0530
Message-Id: <8c5a62f95cc65ff94c2bfc2571932306d8ab0550.1592537217.git.vaibhav.sr@gmail.com>
X-Mailer: git-send-email 2.26.2
In-Reply-To: <cover.1592537217.git.vaibhav.sr@gmail.com>
References: <cover.1592537217.git.vaibhav.sr@gmail.com>
MIME-Version: 1.0
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: devel@driverdev.osuosl.org,
 Alexandre Belloni <alexandre.belloni@bootlin.com>,
 linux-kernel@vger.kernel.org, greybus-dev@lists.linaro.org,
 Dan Carpenter <dan.carpenter@oracle.com>
Subject: [greybus-dev] [PATCH v3 3/6] staging: greybus: audio: Resolve
	compilation errors for GB codec module
X-BeenThere: greybus-dev@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: Greybus Development Mail List <greybus-dev.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/greybus-dev/>
List-Post: <mailto:greybus-dev@lists.linaro.org>
List-Help: <mailto:greybus-dev-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: greybus-dev-bounces@lists.linaro.org
Sender: "greybus-dev" <greybus-dev-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

RHVlIHRvIGRlcGVuZGVuY2llcyBvbiBBU29DIGZyYW1ld29yayBjaGFuZ2VzLCBHQiBkdW1teSBj
b2RlYyBtb2R1bGUKY29tcGlsYXRpb24gaXMgY3VycmVudGx5IGRpc2FibGVkLiBUaGlzIHBhdGNo
IHVwZGF0ZXMgY29kZWMgZHJpdmVyIGFzCnBlciB0aGUgbGF0ZXN0IEFTb0MgQVBJcy4KClNpZ25l
ZC1vZmYtYnk6IFZhaWJoYXYgQWdhcndhbCA8dmFpYmhhdi5zckBnbWFpbC5jb20+ClJldmlld2Vk
LWJ5OiBEYW4gQ2FycGVudGVyIDxkYW4uY2FycGVudGVyQG9yYWNsZS5jb20+Ci0tLQogZHJpdmVy
cy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuYyB8IDg4ICsrKysrKysrKysrKystLS0tLS0t
LS0tLS0tLQogZHJpdmVycy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuaCB8ICAyICstCiAy
IGZpbGVzIGNoYW5nZWQsIDQ0IGluc2VydGlvbnMoKyksIDQ2IGRlbGV0aW9ucygtKQoKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlvX2NvZGVjLmMgYi9kcml2ZXJzL3N0
YWdpbmcvZ3JleWJ1cy9hdWRpb19jb2RlYy5jCmluZGV4IDZkYzRlZTJiZmIzNy4uMGVjZGJhMjcw
ODZiIDEwMDY0NAotLS0gYS9kcml2ZXJzL3N0YWdpbmcvZ3JleWJ1cy9hdWRpb19jb2RlYy5jCisr
KyBiL2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2F1ZGlvX2NvZGVjLmMKQEAgLTgyNSw3ICs4MjUs
NyBAQCBzdGF0aWMgaW50IGdiYXVkaW9faW5pdF9qYWNrKHN0cnVjdCBnYmF1ZGlvX21vZHVsZV9p
bmZvICptb2R1bGUsCiBpbnQgZ2JhdWRpb19yZWdpc3Rlcl9tb2R1bGUoc3RydWN0IGdiYXVkaW9f
bW9kdWxlX2luZm8gKm1vZHVsZSkKIHsKIAlpbnQgcmV0OwotCXN0cnVjdCBzbmRfc29jX2NvZGVj
ICpjb2RlYzsKKwlzdHJ1Y3Qgc25kX3NvY19jb21wb25lbnQgKmNvbXA7CiAJc3RydWN0IHNuZF9j
YXJkICpjYXJkOwogCXN0cnVjdCBnYmF1ZGlvX2phY2sgKmphY2sgPSBOVUxMOwogCkBAIC04MzQs
OCArODM0LDggQEAgaW50IGdiYXVkaW9fcmVnaXN0ZXJfbW9kdWxlKHN0cnVjdCBnYmF1ZGlvX21v
ZHVsZV9pbmZvICptb2R1bGUpCiAJCXJldHVybiAtRUFHQUlOOwogCX0KIAotCWNvZGVjID0gZ2Jj
b2RlYy0+Y29kZWM7Ci0JY2FyZCA9IGNvZGVjLT5jYXJkLT5zbmRfY2FyZDsKKwljb21wID0gZ2Jj
b2RlYy0+Y29tcG9uZW50OworCWNhcmQgPSBjb21wLT5jYXJkLT5zbmRfY2FyZDsKIAogCWRvd25f
d3JpdGUoJmNhcmQtPmNvbnRyb2xzX3J3c2VtKTsKIApAQCAtODQ3LDMzICs4NDcsMzMgQEAgaW50
IGdiYXVkaW9fcmVnaXN0ZXJfbW9kdWxlKHN0cnVjdCBnYmF1ZGlvX21vZHVsZV9pbmZvICptb2R1
bGUpCiAJCXJldHVybiAtRUlOVkFMOwogCX0KIAotCXJldCA9IGdiYXVkaW9faW5pdF9qYWNrKG1v
ZHVsZSwgY29tcG9uZW50LT5jYXJkKTsKKwlyZXQgPSBnYmF1ZGlvX2luaXRfamFjayhtb2R1bGUs
IGNvbXAtPmNhcmQpOwogCWlmIChyZXQpIHsKIAkJdXBfd3JpdGUoJmNhcmQtPmNvbnRyb2xzX3J3
c2VtKTsKIAkJcmV0dXJuIHJldDsKIAl9CiAKIAlpZiAobW9kdWxlLT5kYXBtX3dpZGdldHMpCi0J
CXNuZF9zb2NfZGFwbV9uZXdfY29udHJvbHMoJmNvZGVjLT5kYXBtLCBtb2R1bGUtPmRhcG1fd2lk
Z2V0cywKKwkJc25kX3NvY19kYXBtX25ld19jb250cm9scygmY29tcC0+ZGFwbSwgbW9kdWxlLT5k
YXBtX3dpZGdldHMsCiAJCQkJCSAgbW9kdWxlLT5udW1fZGFwbV93aWRnZXRzKTsKIAlpZiAobW9k
dWxlLT5jb250cm9scykKLQkJc25kX3NvY19hZGRfY29kZWNfY29udHJvbHMoY29kZWMsIG1vZHVs
ZS0+Y29udHJvbHMsCi0JCQkJCSAgIG1vZHVsZS0+bnVtX2NvbnRyb2xzKTsKKwkJc25kX3NvY19h
ZGRfY29tcG9uZW50X2NvbnRyb2xzKGNvbXAsIG1vZHVsZS0+Y29udHJvbHMsCisJCQkJCSAgICAg
ICBtb2R1bGUtPm51bV9jb250cm9scyk7CiAJaWYgKG1vZHVsZS0+ZGFwbV9yb3V0ZXMpCi0JCXNu
ZF9zb2NfZGFwbV9hZGRfcm91dGVzKCZjb2RlYy0+ZGFwbSwgbW9kdWxlLT5kYXBtX3JvdXRlcywK
KwkJc25kX3NvY19kYXBtX2FkZF9yb3V0ZXMoJmNvbXAtPmRhcG0sIG1vZHVsZS0+ZGFwbV9yb3V0
ZXMsCiAJCQkJCW1vZHVsZS0+bnVtX2RhcG1fcm91dGVzKTsKIAogCS8qIGNhcmQgYWxyZWFkeSBp
bnN0YW50aWF0ZWQsIGNyZWF0ZSB3aWRnZXRzIGhlcmUgb25seSAqLwotCWlmIChjb2RlYy0+Y2Fy
ZC0+aW5zdGFudGlhdGVkKSB7Ci0JCXNuZF9zb2NfZGFwbV9saW5rX2NvbXBvbmVudF9kYWlfd2lk
Z2V0cyhjb2RlYy0+Y2FyZCwKLQkJCQkJCQkmY29kZWMtPmRhcG0pOworCWlmIChjb21wLT5jYXJk
LT5pbnN0YW50aWF0ZWQpIHsKKwkJc25kX3NvY19kYXBtX2xpbmtfY29tcG9uZW50X2RhaV93aWRn
ZXRzKGNvbXAtPmNhcmQsCisJCQkJCQkJJmNvbXAtPmRhcG0pOwogI2lmZGVmIENPTkZJR19TTkRf
SkFDSwogCQkvKgogCQkgKiByZWdpc3RlciBqYWNrIGRldmljZXMgZm9yIHRoaXMgbW9kdWxlCiAJ
CSAqIGZyb20gY29kZWMtPmphY2tfbGlzdAogCQkgKi8KIAkJbGlzdF9mb3JfZWFjaF9lbnRyeShq
YWNrLCAmbW9kdWxlLT5qYWNrX2xpc3QsIGxpc3QpIHsKLQkJCXNuZF9kZXZpY2VfcmVnaXN0ZXIo
Y29kZWMtPmNhcmQtPnNuZF9jYXJkLAorCQkJc25kX2RldmljZV9yZWdpc3Rlcihjb21wLT5jYXJk
LT5zbmRfY2FyZCwKIAkJCQkJICAgIGphY2stPmphY2suamFjayk7CiAJCX0KICNlbmRpZgpAQCAt
ODgzLDkgKzg4Myw5IEBAIGludCBnYmF1ZGlvX3JlZ2lzdGVyX21vZHVsZShzdHJ1Y3QgZ2JhdWRp
b19tb2R1bGVfaW5mbyAqbW9kdWxlKQogCWxpc3RfYWRkKCZtb2R1bGUtPmxpc3QsICZnYmNvZGVj
LT5tb2R1bGVfbGlzdCk7CiAJbXV0ZXhfdW5sb2NrKCZnYmNvZGVjLT5sb2NrKTsKIAotCWlmIChj
b2RlYy0+Y2FyZC0+aW5zdGFudGlhdGVkKQotCQlyZXQgPSBzbmRfc29jX2RhcG1fbmV3X3dpZGdl
dHMoJmNvZGVjLT5kYXBtKTsKLQlkZXZfZGJnKGNvZGVjLT5kZXYsICJSZWdpc3RlcmVkICVzIG1v
ZHVsZVxuIiwgbW9kdWxlLT5uYW1lKTsKKwlpZiAoY29tcC0+Y2FyZC0+aW5zdGFudGlhdGVkKQor
CQlyZXQgPSBzbmRfc29jX2RhcG1fbmV3X3dpZGdldHMoY29tcC0+Y2FyZCk7CisJZGV2X2RiZyhj
b21wLT5kZXYsICJSZWdpc3RlcmVkICVzIG1vZHVsZVxuIiwgbW9kdWxlLT5uYW1lKTsKIAogCXVw
X3dyaXRlKCZjYXJkLT5jb250cm9sc19yd3NlbSk7CiAJcmV0dXJuIHJldDsKQEAgLTk1NiwxOCAr
OTU2LDE4IEBAIHN0YXRpYyB2b2lkIGdiYXVkaW9fY29kZWNfY2xlYW51cChzdHJ1Y3QgZ2JhdWRp
b19tb2R1bGVfaW5mbyAqbW9kdWxlKQogCiB2b2lkIGdiYXVkaW9fdW5yZWdpc3Rlcl9tb2R1bGUo
c3RydWN0IGdiYXVkaW9fbW9kdWxlX2luZm8gKm1vZHVsZSkKIHsKLQlzdHJ1Y3Qgc25kX3NvY19j
b2RlYyAqY29kZWMgPSBnYmNvZGVjLT5jb2RlYzsKLQlzdHJ1Y3Qgc25kX2NhcmQgKmNhcmQgPSBj
b2RlYy0+Y2FyZC0+c25kX2NhcmQ7CisJc3RydWN0IHNuZF9zb2NfY29tcG9uZW50ICpjb21wID0g
Z2Jjb2RlYy0+Y29tcG9uZW50OworCXN0cnVjdCBzbmRfY2FyZCAqY2FyZCA9IGNvbXAtPmNhcmQt
PnNuZF9jYXJkOwogCXN0cnVjdCBnYmF1ZGlvX2phY2sgKmphY2ssICpuOwogCWludCBtYXNrOwog
Ci0JZGV2X2RiZyhjb2RlYy0+ZGV2LCAiVW5yZWdpc3RlciAlcyBtb2R1bGVcbiIsIG1vZHVsZS0+
bmFtZSk7CisJZGV2X2RiZyhjb21wLT5kZXYsICJVbnJlZ2lzdGVyICVzIG1vZHVsZVxuIiwgbW9k
dWxlLT5uYW1lKTsKIAogCWRvd25fd3JpdGUoJmNhcmQtPmNvbnRyb2xzX3J3c2VtKTsKIAltdXRl
eF9sb2NrKCZnYmNvZGVjLT5sb2NrKTsKIAlnYmF1ZGlvX2NvZGVjX2NsZWFudXAobW9kdWxlKTsK
IAlsaXN0X2RlbCgmbW9kdWxlLT5saXN0KTsKLQlkZXZfZGJnKGNvZGVjLT5kZXYsICJQcm9jZXNz
IFVucmVnaXN0ZXIgJXMgbW9kdWxlXG4iLCBtb2R1bGUtPm5hbWUpOworCWRldl9kYmcoY29tcC0+
ZGV2LCAiUHJvY2VzcyBVbnJlZ2lzdGVyICVzIG1vZHVsZVxuIiwgbW9kdWxlLT5uYW1lKTsKIAlt
dXRleF91bmxvY2soJmdiY29kZWMtPmxvY2spOwogCiAjaWZkZWYgQ09ORklHX1NORF9KQUNLCkBA
IC05ODMsOTkgKzk4Myw5NyBAQCB2b2lkIGdiYXVkaW9fdW5yZWdpc3Rlcl9tb2R1bGUoc3RydWN0
IGdiYXVkaW9fbW9kdWxlX2luZm8gKm1vZHVsZSkKIAkJCWRldl9kYmcobW9kdWxlLT5kZXYsICJS
ZXBvcnQgJXMgcmVtb3ZhbFxuIiwKIAkJCQlqYWNrLT5qYWNrLmphY2stPmlkKTsKIAkJCXNuZF9z
b2NfamFja19yZXBvcnQoJmphY2stPmphY2ssIDAsIG1hc2spOwotCQkJc25kX2RldmljZV9mcmVl
KGNvZGVjLT5jYXJkLT5zbmRfY2FyZCwgamFjay0+amFjay5qYWNrKTsKKwkJCXNuZF9kZXZpY2Vf
ZnJlZShjb21wLT5jYXJkLT5zbmRfY2FyZCwKKwkJCQkJamFjay0+amFjay5qYWNrKTsKIAkJCWxp
c3RfZGVsKCZqYWNrLT5saXN0KTsKIAkJfQogCX0KICNlbmRpZgogCiAJaWYgKG1vZHVsZS0+ZGFw
bV9yb3V0ZXMpIHsKLQkJZGV2X2RiZyhjb2RlYy0+ZGV2LCAiUmVtb3ZpbmcgJWQgcm91dGVzXG4i
LAorCQlkZXZfZGJnKGNvbXAtPmRldiwgIlJlbW92aW5nICVkIHJvdXRlc1xuIiwKIAkJCW1vZHVs
ZS0+bnVtX2RhcG1fcm91dGVzKTsKLQkJc25kX3NvY19kYXBtX2RlbF9yb3V0ZXMoJmNvZGVjLT5k
YXBtLCBtb2R1bGUtPmRhcG1fcm91dGVzLAorCQlzbmRfc29jX2RhcG1fZGVsX3JvdXRlcygmY29t
cC0+ZGFwbSwgbW9kdWxlLT5kYXBtX3JvdXRlcywKIAkJCQkJbW9kdWxlLT5udW1fZGFwbV9yb3V0
ZXMpOwogCX0KIAlpZiAobW9kdWxlLT5jb250cm9scykgewotCQlkZXZfZGJnKGNvZGVjLT5kZXYs
ICJSZW1vdmluZyAlZCBjb250cm9sc1xuIiwKKwkJZGV2X2RiZyhjb21wLT5kZXYsICJSZW1vdmlu
ZyAlZCBjb250cm9sc1xuIiwKIAkJCW1vZHVsZS0+bnVtX2NvbnRyb2xzKTsKLQkJc25kX3NvY19y
ZW1vdmVfY29kZWNfY29udHJvbHMoY29kZWMsIG1vZHVsZS0+Y29udHJvbHMsCisJCXNuZF9zb2Nf
cmVtb3ZlX2NvZGVjX2NvbnRyb2xzKGNvbXAsIG1vZHVsZS0+Y29udHJvbHMsCiAJCQkJCSAgICAg
IG1vZHVsZS0+bnVtX2NvbnRyb2xzKTsKIAl9CiAJaWYgKG1vZHVsZS0+ZGFwbV93aWRnZXRzKSB7
Ci0JCWRldl9kYmcoY29kZWMtPmRldiwgIlJlbW92aW5nICVkIHdpZGdldHNcbiIsCisJCWRldl9k
YmcoY29tcC0+ZGV2LCAiUmVtb3ZpbmcgJWQgd2lkZ2V0c1xuIiwKIAkJCW1vZHVsZS0+bnVtX2Rh
cG1fd2lkZ2V0cyk7Ci0JCXNuZF9zb2NfZGFwbV9mcmVlX2NvbnRyb2xzKCZjb2RlYy0+ZGFwbSwg
bW9kdWxlLT5kYXBtX3dpZGdldHMsCisJCXNuZF9zb2NfZGFwbV9mcmVlX2NvbnRyb2xzKCZjb21w
LT5kYXBtLCBtb2R1bGUtPmRhcG1fd2lkZ2V0cywKIAkJCQkJICAgbW9kdWxlLT5udW1fZGFwbV93
aWRnZXRzKTsKIAl9CiAKLQlkZXZfZGJnKGNvZGVjLT5kZXYsICJVbnJlZ2lzdGVyZWQgJXMgbW9k
dWxlXG4iLCBtb2R1bGUtPm5hbWUpOworCWRldl9kYmcoY29tcC0+ZGV2LCAiVW5yZWdpc3RlcmVk
ICVzIG1vZHVsZVxuIiwgbW9kdWxlLT5uYW1lKTsKIAogCXVwX3dyaXRlKCZjYXJkLT5jb250cm9s
c19yd3NlbSk7CiB9CiBFWFBPUlRfU1lNQk9MKGdiYXVkaW9fdW5yZWdpc3Rlcl9tb2R1bGUpOwog
CiAvKgotICogY29kZWMgZHJpdmVyIG9wcworICogY29tcG9uZW50IGRyaXZlciBvcHMKICAqLwot
c3RhdGljIGludCBnYmNvZGVjX3Byb2JlKHN0cnVjdCBzbmRfc29jX2NvZGVjICpjb2RlYykKK3N0
YXRpYyBpbnQgZ2Jjb2RlY19wcm9iZShzdHJ1Y3Qgc25kX3NvY19jb21wb25lbnQgKmNvbXApCiB7
CiAJaW50IGk7CiAJc3RydWN0IGdiYXVkaW9fY29kZWNfaW5mbyAqaW5mbzsKIAlzdHJ1Y3QgZ2Jh
dWRpb19jb2RlY19kYWkgKmRhaTsKIAotCWluZm8gPSBkZXZtX2t6YWxsb2MoY29kZWMtPmRldiwg
c2l6ZW9mKCppbmZvKSwgR0ZQX0tFUk5FTCk7CisJaW5mbyA9IGRldm1fa3phbGxvYyhjb21wLT5k
ZXYsIHNpemVvZigqaW5mbyksIEdGUF9LRVJORUwpOwogCWlmICghaW5mbykKIAkJcmV0dXJuIC1F
Tk9NRU07CiAKLQlpbmZvLT5kZXYgPSBjb2RlYy0+ZGV2OworCWluZm8tPmRldiA9IGNvbXAtPmRl
djsKIAlJTklUX0xJU1RfSEVBRCgmaW5mby0+bW9kdWxlX2xpc3QpOwogCW11dGV4X2luaXQoJmlu
Zm8tPmxvY2spOwogCUlOSVRfTElTVF9IRUFEKCZpbmZvLT5kYWlfbGlzdCk7CiAKIAkvKiBpbml0
IGRhaV9saXN0IHVzZWQgdG8gbWFpbnRhaW4gcnVudGltZSBzdHJlYW0gaW5mbyAqLwogCWZvciAo
aSA9IDA7IGkgPCBBUlJBWV9TSVpFKGdiYXVkaW9fZGFpKTsgaSsrKSB7Ci0JCWRhaSA9IGRldm1f
a3phbGxvYyhjb2RlYy0+ZGV2LCBzaXplb2YoKmRhaSksIEdGUF9LRVJORUwpOworCQlkYWkgPSBk
ZXZtX2t6YWxsb2MoY29tcC0+ZGV2LCBzaXplb2YoKmRhaSksIEdGUF9LRVJORUwpOwogCQlpZiAo
IWRhaSkKIAkJCXJldHVybiAtRU5PTUVNOwogCQlkYWktPmlkID0gZ2JhdWRpb19kYWlbaV0uaWQ7
CiAJCWxpc3RfYWRkKCZkYWktPmxpc3QsICZpbmZvLT5kYWlfbGlzdCk7CiAJfQogCi0JaW5mby0+
Y29kZWMgPSBjb2RlYzsKLQlzbmRfc29jX2NvZGVjX3NldF9kcnZkYXRhKGNvZGVjLCBpbmZvKTsK
KwlpbmZvLT5jb21wb25lbnQgPSBjb21wOworCXNuZF9zb2NfY29tcG9uZW50X3NldF9kcnZkYXRh
KGNvbXAsIGluZm8pOwogCWdiY29kZWMgPSBpbmZvOwogCi0JZGV2aWNlX2luaXRfd2FrZXVwKGNv
ZGVjLT5kZXYsIDEpOworCWRldmljZV9pbml0X3dha2V1cChjb21wLT5kZXYsIDEpOwogCXJldHVy
biAwOwogfQogCi1zdGF0aWMgaW50IGdiY29kZWNfcmVtb3ZlKHN0cnVjdCBzbmRfc29jX2NvZGVj
ICpjb2RlYykKK3N0YXRpYyB2b2lkIGdiY29kZWNfcmVtb3ZlKHN0cnVjdCBzbmRfc29jX2NvbXBv
bmVudCAqY29tcCkKIHsKIAkvKiBFbXB0eSBmdW5jdGlvbiBmb3Igbm93ICovCi0JcmV0dXJuIDA7
CisJcmV0dXJuOwogfQogCi1zdGF0aWMgaW50IGdiY29kZWNfd3JpdGUoc3RydWN0IHNuZF9zb2Nf
Y29kZWMgKmNvZGVjLCB1bnNpZ25lZCBpbnQgcmVnLAorc3RhdGljIGludCBnYmNvZGVjX3dyaXRl
KHN0cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcCwgdW5zaWduZWQgaW50IHJlZywKIAkJCSB1
bnNpZ25lZCBpbnQgdmFsdWUpCiB7CiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyB1bnNpZ25lZCBp
bnQgZ2Jjb2RlY19yZWFkKHN0cnVjdCBzbmRfc29jX2NvZGVjICpjb2RlYywKK3N0YXRpYyB1bnNp
Z25lZCBpbnQgZ2Jjb2RlY19yZWFkKHN0cnVjdCBzbmRfc29jX2NvbXBvbmVudCAqY29tcCwKIAkJ
CQkgdW5zaWduZWQgaW50IHJlZykKIHsKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIHN0cnVjdCBz
bmRfc29jX2NvZGVjX2RyaXZlciBzb2NfY29kZWNfZGV2X2diYXVkaW8gPSB7CitzdGF0aWMgY29u
c3Qgc3RydWN0IHNuZF9zb2NfY29tcG9uZW50X2RyaXZlciBzb2NfY29kZWNfZGV2X2diYXVkaW8g
PSB7CiAJLnByb2JlCT0gZ2Jjb2RlY19wcm9iZSwKIAkucmVtb3ZlCT0gZ2Jjb2RlY19yZW1vdmUs
CiAKIAkucmVhZCA9IGdiY29kZWNfcmVhZCwKIAkud3JpdGUgPSBnYmNvZGVjX3dyaXRlLAotCi0J
LmlkbGVfYmlhc19vZmYgPSB0cnVlLAotCS5pZ25vcmVfcG1kb3duX3RpbWUgPSAxLAogfTsKIAog
I2lmZGVmIENPTkZJR19QTQpAQCAtMTA5OSwxMyArMTA5NywxMyBAQCBzdGF0aWMgY29uc3Qgc3Ry
dWN0IGRldl9wbV9vcHMgZ2JhdWRpb19jb2RlY19wbV9vcHMgPSB7CiAKIHN0YXRpYyBpbnQgZ2Jh
dWRpb19jb2RlY19wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQogewotCXJldHVy
biBzbmRfc29jX3JlZ2lzdGVyX2NvZGVjKCZwZGV2LT5kZXYsICZzb2NfY29kZWNfZGV2X2diYXVk
aW8sCisJcmV0dXJuIGRldm1fc25kX3NvY19yZWdpc3Rlcl9jb21wb25lbnQoJnBkZXYtPmRldiwK
KwkJCSZzb2NfY29kZWNfZGV2X2diYXVkaW8sCiAJCQlnYmF1ZGlvX2RhaSwgQVJSQVlfU0laRShn
YmF1ZGlvX2RhaSkpOwogfQogCiBzdGF0aWMgaW50IGdiYXVkaW9fY29kZWNfcmVtb3ZlKHN0cnVj
dCBwbGF0Zm9ybV9kZXZpY2UgKnBkZXYpCiB7Ci0Jc25kX3NvY191bnJlZ2lzdGVyX2NvZGVjKCZw
ZGV2LT5kZXYpOwogCXJldHVybiAwOwogfQogCmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcv
Z3JleWJ1cy9hdWRpb19jb2RlYy5oIGIvZHJpdmVycy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29k
ZWMuaAppbmRleCBhZjkxOTVlY2ViM2EuLmNlMTVlODAwZTYwNyAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9zdGFnaW5nL2dyZXlidXMvYXVkaW9fY29kZWMuaAorKysgYi9kcml2ZXJzL3N0YWdpbmcvZ3Jl
eWJ1cy9hdWRpb19jb2RlYy5oCkBAIC02Niw3ICs2Niw3IEBAIHN0cnVjdCBnYmF1ZGlvX2NvZGVj
X2RhaSB7CiAKIHN0cnVjdCBnYmF1ZGlvX2NvZGVjX2luZm8gewogCXN0cnVjdCBkZXZpY2UgKmRl
djsKLQlzdHJ1Y3Qgc25kX3NvY19jb2RlYyAqY29kZWM7CisJc3RydWN0IHNuZF9zb2NfY29tcG9u
ZW50ICpjb21wb25lbnQ7CiAJc3RydWN0IGxpc3RfaGVhZCBtb2R1bGVfbGlzdDsKIAkvKiB0byBt
YWludGFpbiBydW50aW1lIHN0cmVhbSBwYXJhbXMgZm9yIGVhY2ggREFJICovCiAJc3RydWN0IGxp
c3RfaGVhZCBkYWlfbGlzdDsKLS0gCjIuMjYuMgoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KZ3JleWJ1cy1kZXYgbWFpbGluZyBsaXN0CmdyZXlidXMtZGV2
QGxpc3RzLmxpbmFyby5vcmcKaHR0cHM6Ly9saXN0cy5saW5hcm8ub3JnL21haWxtYW4vbGlzdGlu
Zm8vZ3JleWJ1cy1kZXYK
