Return-Path: <greybus-dev-bounces@lists.linaro.org>
X-Original-To: lists+greybus-dev@lfdr.de
Delivered-To: lists+greybus-dev@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 453C13DE593
	for <lists+greybus-dev@lfdr.de>; Tue,  3 Aug 2021 06:39:59 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 33638617CF
	for <lists+greybus-dev@lfdr.de>; Tue,  3 Aug 2021 04:39:58 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 11CD9608C6; Tue,  3 Aug 2021 04:39:33 +0000 (UTC)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 1A76363514;
	Tue,  3 Aug 2021 04:39:27 +0000 (UTC)
X-Original-To: greybus-dev@lists.linaro.org
Delivered-To: greybus-dev@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id 6830E610E8
 for <greybus-dev@lists.linaro.org>; Tue, 13 Jul 2021 19:35:54 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 582D261307; Tue, 13 Jul 2021 19:35:54 +0000 (UTC)
Received: from metis.ext.pengutronix.de (metis.ext.pengutronix.de
 [85.220.165.71])
 by lists.linaro.org (Postfix) with ESMTPS id B22B2610E8
 for <greybus-dev@lists.linaro.org>; Tue, 13 Jul 2021 19:35:51 +0000 (UTC)
Received: from drehscheibe.grey.stw.pengutronix.de ([2a0a:edc0:0:c01:1d::a2])
 by metis.ext.pengutronix.de with esmtps
 (TLS1.3:ECDHE_RSA_AES_256_GCM_SHA384:256) (Exim 4.92)
 (envelope-from <ukl@pengutronix.de>)
 id 1m3OBr-0001Hd-S2; Tue, 13 Jul 2021 21:35:35 +0200
Received: from [2a0a:edc0:0:900:1d::77] (helo=ptz.office.stw.pengutronix.de)
 by drehscheibe.grey.stw.pengutronix.de with esmtp (Exim 4.92)
 (envelope-from <ukl@pengutronix.de>)
 id 1m3OBk-0006px-Ji; Tue, 13 Jul 2021 21:35:28 +0200
Received: from ukl by ptz.office.stw.pengutronix.de with local (Exim 4.92)
 (envelope-from <ukl@pengutronix.de>)
 id 1m3OBj-0002f5-Cb; Tue, 13 Jul 2021 21:35:27 +0200
From: =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig?= <u.kleine-koenig@pengutronix.de>
To: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date: Tue, 13 Jul 2021 21:35:22 +0200
Message-Id: <20210713193522.1770306-6-u.kleine-koenig@pengutronix.de>
X-Mailer: git-send-email 2.30.2
In-Reply-To: <20210713193522.1770306-1-u.kleine-koenig@pengutronix.de>
References: <20210713193522.1770306-1-u.kleine-koenig@pengutronix.de>
MIME-Version: 1.0
X-Patch-Hashes: v=1; h=sha256; i=nwraWdwDJwSCf/PVA+pCJjcxHppjqX/HTinL8xamX9o=;
 m=ziH5qs3H2jnGskCKzejNXaENxMH8EgSJcO+tV5Q1Ac8=;
 p=kdJYwoRZCRKNyxlGyoapK+yxaytciBs/cGQdjGSOeUI=;
 g=4381be49bc13f37b6c5b14275d44d3be31edf21e
X-Patch-Sig: m=pgp; i=uwe@kleine-koenig.org;
 s=0x0D2511F322BFAB1C1580266BE2DCDD9132669BD6;
 b=iQEzBAABCgAdFiEEfnIqFpAYrP8+dKQLwfwUeK3K7AkFAmDt6t4ACgkQwfwUeK3K7AlsHwgAijO
 oHwzFuAFEEZKrqPJFx8mx9ZjwAivcLC87p92gRFS6qR4iUcqbTBxv77UQghsR8xgrgXWbErtQe8ki
 RD4F9YDFakvuiajjbLM3hSQD6jZHoo5jiTOxuviHGsyDJBin3g8t1Ke0IoNSQ2l69ETHFoej1UUvN
 YnW4ia052+/c4HVtM+SgusOto8tNftDZMMWtj4O8phZexuiKsNdsaOhZoNJ2BFlg7gCB+vcLu3lCe
 D3WUn2R+5OHtVtZU3UDeCWct1PbCCxYvKZ11BYcUrwMVxVo1QtkcOuLfsWALZfV4p++x1IU3tA2Ho
 lQ8bYZWIdckKOfWg9oSien2r3XkeChQ==
X-SA-Exim-Connect-IP: 2a0a:edc0:0:c01:1d::a2
X-SA-Exim-Mail-From: ukl@pengutronix.de
X-SA-Exim-Scanned: No (on metis.ext.pengutronix.de);
 SAEximRunCond expanded to false
X-PTX-Original-Recipient: greybus-dev@lists.linaro.org
X-Virus-Scanned: ClamAV using ClamSMTP
X-Mailman-Approved-At: Tue, 03 Aug 2021 04:39:24 +0000
Subject: [greybus-dev] [PATCH v4 5/5] bus: Make remove callback return void
X-BeenThere: greybus-dev@lists.linaro.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Greybus Development Mail List <greybus-dev.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/greybus-dev/>
List-Post: <mailto:greybus-dev@lists.linaro.org>
List-Help: <mailto:greybus-dev-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=subscribe>
Cc: nvdimm@lists.linux.dev, linux-sh@vger.kernel.org,
 Benjamin Herrenschmidt <benh@kernel.crashing.org>,
 Samuel Iglesias Gonsalvez <siglesias@igalia.com>,
 Jens Taprogge <jens.taprogge@taprogge.org>,
 Ulf Hansson <ulf.hansson@linaro.org>, Jaroslav Kysela <perex@perex.cz>,
 Benjamin Tissoires <benjamin.tissoires@redhat.com>,
 Paul Mackerras <paulus@samba.org>,
 Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>,
 "K. Y. Srinivasan" <kys@microsoft.com>,
 Mike Christie <michael.christie@oracle.com>, Wei Liu <wei.liu@kernel.org>,
 Maxim Levitsky <maximlevitsky@gmail.com>, Samuel Holland <samuel@sholland.org>,
 Michael Ellerman <mpe@ellerman.id.au>,
 "Rafael J . Wysocki" <rafael@kernel.org>, linux-acpi@vger.kernel.org,
 Geert Uytterhoeven <geert@linux-m68k.org>, linux-pci@vger.kernel.org,
 xen-devel@lists.xenproject.org, Tomas Winkler <tomas.winkler@intel.com>,
 Julien Grall <jgrall@amazon.com>, Ohad Ben-Cohen <ohad@wizery.com>,
 Yufen Yu <yuyufen@huawei.com>, Alex Williamson <alex.williamson@redhat.com>,
 Alex Elder <elder@kernel.org>, linux-parisc@vger.kernel.org,
 Finn Thain <fthain@linux-m68k.org>, Geoff Levand <geoff@infradead.org>,
 linux-fpga@vger.kernel.org, linux-usb@vger.kernel.org,
 "Rafael J. Wysocki" <rjw@rjwysocki.net>, linux-kernel@vger.kernel.org,
 linux-spi@vger.kernel.org, Kai-Heng Feng <kai.heng.feng@canonical.com>,
 kernel@pengutronix.de, Jon Mason <jdmason@kudzu.us>,
 linux-ntb@googlegroups.com, Wu Hao <hao.wu@intel.com>,
 David Woodhouse <dwmw@amazon.co.uk>,
 =?UTF-8?q?Krzysztof=20Wilczy=C5=84ski?= <kw@linux.com>,
 Alexandre Belloni <alexandre.belloni@bootlin.com>,
 Manohar Vanga <manohar.vanga@gmail.com>, linux-wireless@vger.kernel.org,
 Dominik Brodowski <linux@dominikbrodowski.net>,
 virtualization@lists.linux-foundation.org,
 "James E.J. Bottomley" <James.Bottomley@HansenPartnership.com>,
 target-devel@vger.kernel.org,
 Srinivas Kandagatla <srinivas.kandagatla@linaro.org>,
 linux-i2c@vger.kernel.org, linux-s390@vger.kernel.org,
 Stefano Stabellini <sstabellini@kernel.org>,
 Stephen Hemminger <sthemmin@microsoft.com>,
 Yoshinori Sato <ysato@users.sourceforge.jp>, Jiri Slaby <jirislaby@kernel.org>,
 Helge Deller <deller@gmx.de>,
 =?UTF-8?q?Rafa=C5=82=20Mi=C5=82ecki?= <zajec5@gmail.com>,
 YueHaibing <yuehaibing@huawei.com>, industrypack-devel@lists.sourceforge.net,
 linux-mips@vger.kernel.org, Len Brown <lenb@kernel.org>,
 Vasily Gorbik <gor@linux.ibm.com>, linux-arm-msm@vger.kernel.org,
 linux-media@vger.kernel.org, Maxime Ripard <mripard@kernel.org>,
 William Breathitt Gray <vilhelm.gray@gmail.com>, greybus-dev@lists.linaro.org,
 linux-m68k@lists.linux-m68k.org, Florian Fainelli <f.fainelli@gmail.com>,
 Rikard Falkeborn <rikard.falkeborn@gmail.com>, Frank Li <lznuaa@gmail.com>,
 Mark Gross <mgross@linux.intel.com>,
 Boris Ostrovsky <boris.ostrovsky@oracle.com>,
 Mika Westerberg <mika.westerberg@linux.intel.com>,
 linux-arm-kernel@lists.infradead.org, Johannes Thumshirn <morbidrsa@gmail.com>,
 Mathieu Poirier <mathieu.poirier@linaro.org>, Stephen Boyd <sboyd@kernel.org>,
 Cornelia Huck <cohuck@redhat.com>, Peter Oberparleiter <oberpar@linux.ibm.com>,
 Wolfram Sang <wsa@kernel.org>, Joey Pabalan <jpabalanb@gmail.com>,
 Yehezkel Bernat <YehezkelShB@gmail.com>,
 =?UTF-8?q?Pali=20Roh=C3=A1r?= <pali@kernel.org>,
 Bodo Stroesser <bostroesser@gmail.com>,
 Alison Schofield <alison.schofield@intel.com>,
 Heikki Krogerus <heikki.krogerus@linux.intel.com>,
 Tyrel Datwyler <tyreld@linux.ibm.com>,
 Alexander Shishkin <alexander.shishkin@linux.intel.com>,
 Tom Rix <trix@redhat.com>, Jason Wang <jasowang@redhat.com>,
 SeongJae Park <sjpark@amazon.de>, alsa-devel@alsa-project.org,
 platform-driver-x86@vger.kernel.org, Bjorn Helgaas <bhelgaas@google.com>,
 netdev@vger.kernel.org, Vineeth Vijayan <vneethv@linux.ibm.com>,
 Ira Weiny <ira.weiny@intel.com>, Rob Herring <robh@kernel.org>,
 Lorenzo Pieralisi <lorenzo.pieralisi@arm.com>,
 Dave Jiang <dave.jiang@intel.com>, linux-staging@lists.linux.dev,
 Dexuan Cui <decui@microsoft.com>, Jernej Skrabec <jernej.skrabec@gmail.com>,
 Kishon Vijay Abraham I <kishon@ti.com>,
 Christian Borntraeger <borntraeger@de.ibm.com>, Chen-Yu Tsai <wens@csie.org>,
 linux-input@vger.kernel.org, Matt Porter <mporter@kernel.crashing.org>,
 Allen Hubbe <allenbh@gmail.com>, Alex Dubov <oakad@yahoo.com>,
 Haiyang Zhang <haiyangz@microsoft.com>, Jiri Kosina <jikos@kernel.org>,
 "Russell King \(Oracle\)" <rmk+kernel@armlinux.org.uk>,
 Ben Widawsky <ben.widawsky@intel.com>,
 Harald Freudenberger <freude@linux.ibm.com>, linux-cxl@vger.kernel.org,
 Michael Buesch <m@bues.ch>, Dan Williams <dan.j.williams@intel.com>,
 Mauro Carvalho Chehab <mchehab@kernel.org>,
 Cristian Marussi <cristian.marussi@arm.com>,
 Thomas Bogendoerfer <tsbogend@alpha.franken.de>,
 "Martin K. Petersen" <martin.petersen@oracle.com>,
 Martyn Welch <martyn@welchs.me.uk>,
 Dmitry Torokhov <dmitry.torokhov@gmail.com>, linux-mmc@vger.kernel.org,
 linux-sunxi@lists.linux.dev, Stefan Richter <stefanr@s5r6.in-berlin.de>,
 Sudeep Holla <sudeep.holla@arm.com>, "David S. Miller" <davem@davemloft.net>,
 Sven Van Asbroeck <TheSven73@gmail.com>, Rich Felker <dalias@libc.org>,
 kvm@vger.kernel.org, "Michael S. Tsirkin" <mst@redhat.com>,
 linux-remoteproc@vger.kernel.org, Bjorn Andersson <bjorn.andersson@linaro.org>,
 sparclinux@vger.kernel.org, Kirti Wankhede <kwankhede@nvidia.com>,
 Andreas Noever <andreas.noever@gmail.com>, linux-i3c@lists.infradead.org,
 linux1394-devel@lists.sourceforge.net, Lee Jones <lee.jones@linaro.org>,
 Arnd Bergmann <arnd@arndb.de>, linux-scsi@vger.kernel.org,
 Marc Zyngier <maz@kernel.org>, Russell King <linux@armlinux.org.uk>,
 Thorsten Scherer <t.scherer@eckelmann.de>, Andy Gross <agross@kernel.org>,
 linux-serial@vger.kernel.org, Jakub Kicinski <kuba@kernel.org>,
 linux-hyperv@vger.kernel.org, Michael Jamet <michael.jamet@intel.com>,
 Heiko Carstens <hca@linux.ibm.com>, Johan Hovold <johan@kernel.org>,
 Hans de Goede <hdegoede@redhat.com>, Hannes Reinecke <hare@suse.de>,
 Juergen Gross <jgross@suse.com>, linuxppc-dev@lists.ozlabs.org,
 Takashi Iwai <tiwai@suse.com>, Alexandre Bounine <alex.bou9@gmail.com>,
 Vinod Koul <vkoul@kernel.org>, Mark Brown <broonie@kernel.org>,
 Vishal Verma <vishal.l.verma@intel.com>, dmaengine@vger.kernel.org,
 Moritz Fischer <mdf@kernel.org>, Johannes Berg <johannes@sipsolutions.net>,
 Johannes Thumshirn <jth@kernel.org>, Maximilian Luz <luzmaximilian@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: greybus-dev-bounces@lists.linaro.org
Sender: "greybus-dev" <greybus-dev-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

VGhlIGRyaXZlciBjb3JlIGlnbm9yZXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGlzIGNhbGxiYWNr
IGJlY2F1c2UgdGhlcmUKaXMgb25seSBsaXR0bGUgaXQgY2FuIGRvIHdoZW4gYSBkZXZpY2UgZGlz
YXBwZWFycy4KClRoaXMgaXMgdGhlIGZpbmFsIGJpdCBvZiBhIGxvbmcgbGFzdGluZyBjbGVhbnVw
IHF1ZXN0IHdoZXJlIHNldmVyYWwKYnVzZXMgd2VyZSBjb252ZXJ0ZWQgdG8gYWxzbyByZXR1cm4g
dm9pZCBmcm9tIHRoZWlyIHJlbW92ZSBjYWxsYmFjay4KQWRkaXRpb25hbGx5IHNvbWUgcmVzb3Vy
Y2UgbGVha3Mgd2VyZSBmaXhlZCB0aGF0IHdlcmUgY2F1c2VkIGJ5IGRyaXZlcnMKcmV0dXJuaW5n
IGFuIGVycm9yIGNvZGUgaW4gdGhlIGV4cGVjdGF0aW9uIHRoYXQgdGhlIGRyaXZlciB3b24ndCBn
bwphd2F5LgoKV2l0aCBzdHJ1Y3QgYnVzX3R5cGU6OnJlbW92ZSByZXR1cm5pbmcgdm9pZCBpdCdz
IHByZXZlbnRlZCB0aGF0IG5ld2x5CmltcGxlbWVudGVkIGJ1c2VzIHJldHVybiBhbiBpZ25vcmVk
IGVycm9yIGNvZGUgYW5kIHNvIGRvbid0IGFudGljaXBhdGUKd3JvbmcgZXhwZWN0YXRpb25zIGZv
ciBkcml2ZXIgYXV0aG9ycy4KCkFja2VkLWJ5OiBSdXNzZWxsIEtpbmcgKE9yYWNsZSkgPHJtaytr
ZXJuZWxAYXJtbGludXgub3JnLnVrPiAoRm9yIEFSTSwgQW1iYSBhbmQgcmVsYXRlZCBwYXJ0cykK
QWNrZWQtYnk6IE1hcmsgQnJvd24gPGJyb29uaWVAa2VybmVsLm9yZz4KQWNrZWQtYnk6IENoZW4t
WXUgVHNhaSA8d2Vuc0Bjc2llLm9yZz4gKGZvciBzdW54aS1yc2IpCkFja2VkLWJ5OiBQYWxpIFJv
aMOhciA8cGFsaUBrZXJuZWwub3JnPgpBY2tlZC1ieTogTWF1cm8gQ2FydmFsaG8gQ2hlaGFiIDxt
Y2hlaGFiQGtlcm5lbC5vcmc+IChmb3IgbWVkaWEpCkFja2VkLWJ5OiBIYW5zIGRlIEdvZWRlIDxo
ZGVnb2VkZUByZWRoYXQuY29tPiAoRm9yIGRyaXZlcnMvcGxhdGZvcm0pCkFja2VkLWJ5OiBBbGV4
YW5kcmUgQmVsbG9uaSA8YWxleGFuZHJlLmJlbGxvbmlAYm9vdGxpbi5jb20+CkFja2VkLUJ5OiBW
aW5vZCBLb3VsIDx2a291bEBrZXJuZWwub3JnPgpBY2tlZC1ieTogSnVlcmdlbiBHcm9zcyA8amdy
b3NzQHN1c2UuY29tPiAoRm9yIHhlbikKQWNrZWQtYnk6IExlZSBKb25lcyA8bGVlLmpvbmVzQGxp
bmFyby5vcmc+IChGb3IgbWZkKQpBY2tlZC1ieTogSm9oYW5uZXMgVGh1bXNoaXJuIDxqdGhAa2Vy
bmVsLm9yZz4gKEZvciBtY2IpCkFja2VkLWJ5OiBKb2hhbiBIb3ZvbGQgPGpvaGFuQGtlcm5lbC5v
cmc+CkFja2VkLWJ5OiBTcmluaXZhcyBLYW5kYWdhdGxhIDxzcmluaXZhcy5rYW5kYWdhdGxhQGxp
bmFyby5vcmc+IChGb3Igc2xpbWJ1cykKQWNrZWQtYnk6IEtpcnRpIFdhbmtoZWRlIDxrd2Fua2hl
ZGVAbnZpZGlhLmNvbT4gKEZvciB2ZmlvKQpBY2tlZC1ieTogTWF4aW1pbGlhbiBMdXogPGx1em1h
eGltaWxpYW5AZ21haWwuY29tPgpBY2tlZC1ieTogSGVpa2tpIEtyb2dlcnVzIDxoZWlra2kua3Jv
Z2VydXNAbGludXguaW50ZWwuY29tPiAoRm9yIHVscGkgYW5kIHR5cGVjKQpBY2tlZC1ieTogU2Ft
dWVsIElnbGVzaWFzIEdvbnPDoWx2ZXogPHNpZ2xlc2lhc0BpZ2FsaWEuY29tPiAoRm9yIGlwYWNr
KQpSZXZpZXdlZC1ieTogVG9tIFJpeCA8dHJpeEByZWRoYXQuY29tPiAoRm9yIGZwZ2EpCkFja2Vk
LWJ5OiBHZW9mZiBMZXZhbmQgPGdlb2ZmQGluZnJhZGVhZC5vcmc+IChGb3IgcHMzKQpBY2tlZC1i
eTogWWVoZXprZWwgQmVybmF0IDxZZWhlemtlbFNoQkBnbWFpbC5jb20+IChGb3IgdGh1bmRlcmJv
bHQpClJldmlld2VkLWJ5OiBNYXRoaWV1IFBvaXJpZXIgPG1hdGhpZXUucG9pcmllckBsaW5hcm8u
b3JnPgpBY2tlZC1ieTogQWxleGFuZGVyIFNoaXNoa2luIDxhbGV4YW5kZXIuc2hpc2hraW5AbGlu
dXguaW50ZWwuY29tPiAoRm9yIGludGVsX3RoKQpBY2tlZC1ieTogRG9taW5payBCcm9kb3dza2kg
PGxpbnV4QGRvbWluaWticm9kb3dza2kubmV0PiAoRm9yIHBjbWNpYSkKUmV2aWV3ZWQtYnk6IENv
cm5lbGlhIEh1Y2sgPGNvaHVja0ByZWRoYXQuY29tPiAoRm9yIGRyaXZlcnMvczM5MCBhbmQgZHJp
dmVycy92ZmlvKQpBY2tlZC1ieTogUmFmYWVsIEouIFd5c29ja2kgPHJhZmFlbEBrZXJuZWwub3Jn
PiAoRm9yIEFDUEkpCkFja2VkLWJ5OiBCam9ybiBBbmRlcnNzb24gPGJqb3JuLmFuZGVyc3NvbkBs
aW5hcm8ub3JnPiAocnBtc2cgYW5kIGFwcikKQWNrZWQtYnk6IFNyaW5pdmFzIFBhbmRydXZhZGEg
PHNyaW5pdmFzLnBhbmRydXZhZGFAbGludXguaW50ZWwuY29tPiAoRm9yIGludGVsLWlzaC1oaWQp
CkFja2VkLWJ5OiBEYW4gV2lsbGlhbXMgPGRhbi5qLndpbGxpYW1zQGludGVsLmNvbT4gKEZvciBD
WEwsIERBWCwgYW5kIE5WRElNTSkKQWNrZWQtYnk6IFdpbGxpYW0gQnJlYXRoaXR0IEdyYXkgPHZp
bGhlbG0uZ3JheUBnbWFpbC5jb20+IChGb3IgaXNhKQpBY2tlZC1ieTogU3RlZmFuIFJpY2h0ZXIg
PHN0ZWZhbnJAczVyNi5pbi1iZXJsaW4uZGU+IChGb3IgZmlyZXdpcmUpCkFja2VkLWJ5OiBCZW5q
YW1pbiBUaXNzb2lyZXMgPGJlbmphbWluLnRpc3NvaXJlc0ByZWRoYXQuY29tPiAoRm9yIGhpZCkK
QWNrZWQtYnk6IFRob3JzdGVuIFNjaGVyZXIgPHQuc2NoZXJlckBlY2tlbG1hbm4uZGU+IChGb3Ig
c2lveCkKQWNrZWQtYnk6IFN2ZW4gVmFuIEFzYnJvZWNrIDxUaGVTdmVuNzNAZ21haWwuY29tPiAo
Rm9yIGFueWJ1c3MpCkFja2VkLWJ5OiBVbGYgSGFuc3NvbiA8dWxmLmhhbnNzb25AbGluYXJvLm9y
Zz4gKEZvciBNTUMpClNpZ25lZC1vZmYtYnk6IFV3ZSBLbGVpbmUtS8O2bmlnIDx1LmtsZWluZS1r
b2VuaWdAcGVuZ3V0cm9uaXguZGU+Ci0tLQogYXJjaC9hcm0vY29tbW9uL2xvY29tby5jICAgICAg
ICAgICAgICAgICAgfCAzICstLQogYXJjaC9hcm0vY29tbW9uL3NhMTExMS5jICAgICAgICAgICAg
ICAgICAgfCA0ICstLS0KIGFyY2gvYXJtL21hY2gtcnBjL2VjYXJkLmMgICAgICAgICAgICAgICAg
IHwgNCArLS0tCiBhcmNoL21pcHMvc2dpLWlwMjIvaXAyMi1naW8uYyAgICAgICAgICAgICB8IDMg
Ky0tCiBhcmNoL3BhcmlzYy9rZXJuZWwvZHJpdmVycy5jICAgICAgICAgICAgICB8IDUgKystLS0K
IGFyY2gvcG93ZXJwYy9wbGF0Zm9ybXMvcHMzL3N5c3RlbS1idXMuYyAgIHwgMyArLS0KIGFyY2gv
cG93ZXJwYy9wbGF0Zm9ybXMvcHNlcmllcy9pYm1lYnVzLmMgIHwgMyArLS0KIGFyY2gvcG93ZXJw
Yy9wbGF0Zm9ybXMvcHNlcmllcy92aW8uYyAgICAgIHwgMyArLS0KIGFyY2gvc3BhcmMva2VybmVs
L3Zpby5jICAgICAgICAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL2FjcGkvYnVzLmMgICAg
ICAgICAgICAgICAgICAgICAgICB8IDMgKy0tCiBkcml2ZXJzL2FtYmEvYnVzLmMgICAgICAgICAg
ICAgICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVycy9iYXNlL2F1eGlsaWFyeS5jICAgICAgICAg
ICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvYmFzZS9pc2EuYyAgICAgICAgICAgICAgICAgICAg
ICAgIHwgNCArLS0tCiBkcml2ZXJzL2Jhc2UvcGxhdGZvcm0uYyAgICAgICAgICAgICAgICAgICB8
IDQgKy0tLQogZHJpdmVycy9iY21hL21haW4uYyAgICAgICAgICAgICAgICAgICAgICAgfCA2ICsr
LS0tLQogZHJpdmVycy9idXMvc3VueGktcnNiLmMgICAgICAgICAgICAgICAgICAgfCA0ICstLS0K
IGRyaXZlcnMvY3hsL2NvcmUuYyAgICAgICAgICAgICAgICAgICAgICAgIHwgMyArLS0KIGRyaXZl
cnMvZGF4L2J1cy5jICAgICAgICAgICAgICAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL2Rt
YS9pZHhkL3N5c2ZzLmMgICAgICAgICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVycy9maXJld2ly
ZS9jb3JlLWRldmljZS5jICAgICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvZmlybXdhcmUvYXJt
X3NjbWkvYnVzLmMgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL2Zpcm13YXJlL2dvb2dsZS9j
b3JlYm9vdF90YWJsZS5jICB8IDQgKy0tLQogZHJpdmVycy9mcGdhL2RmbC5jICAgICAgICAgICAg
ICAgICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvaGlkL2hpZC1jb3JlLmMgICAgICAgICAgICAg
ICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL2hpZC9pbnRlbC1pc2gtaGlkL2lzaHRwL2J1cy5jICAg
ICB8IDQgKy0tLQogZHJpdmVycy9odi92bWJ1c19kcnYuYyAgICAgICAgICAgICAgICAgICAgfCA1
ICstLS0tCiBkcml2ZXJzL2h3dHJhY2luZy9pbnRlbF90aC9jb3JlLmMgICAgICAgICB8IDQgKy0t
LQogZHJpdmVycy9pMmMvaTJjLWNvcmUtYmFzZS5jICAgICAgICAgICAgICAgfCA1ICstLS0tCiBk
cml2ZXJzL2kzYy9tYXN0ZXIuYyAgICAgICAgICAgICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVy
cy9pbnB1dC9nYW1lcG9ydC9nYW1lcG9ydC5jICAgICAgICAgfCAzICstLQogZHJpdmVycy9pbnB1
dC9zZXJpby9zZXJpby5jICAgICAgICAgICAgICAgfCAzICstLQogZHJpdmVycy9pcGFjay9pcGFj
ay5jICAgICAgICAgICAgICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvbWFjaW50b3NoL21hY2lv
X2FzaWMuYyAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL21jYi9tY2ItY29yZS5jICAgICAg
ICAgICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVycy9tZWRpYS9wY2kvYnQ4eHgvYnR0di1ncGlv
LmMgICAgICAgfCAzICstLQogZHJpdmVycy9tZW1zdGljay9jb3JlL21lbXN0aWNrLmMgICAgICAg
ICAgfCAzICstLQogZHJpdmVycy9tZmQvbWNwLWNvcmUuYyAgICAgICAgICAgICAgICAgICAgfCAz
ICstLQogZHJpdmVycy9taXNjL21laS9idXMuYyAgICAgICAgICAgICAgICAgICAgfCA0ICstLS0K
IGRyaXZlcnMvbWlzYy90aWZtX2NvcmUuYyAgICAgICAgICAgICAgICAgIHwgMyArLS0KIGRyaXZl
cnMvbW1jL2NvcmUvYnVzLmMgICAgICAgICAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL21t
Yy9jb3JlL3NkaW9fYnVzLmMgICAgICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVycy9uZXQvbmV0
ZGV2c2ltL2J1cy5jICAgICAgICAgICAgICAgfCAzICstLQogZHJpdmVycy9udGIvY29yZS5jICAg
ICAgICAgICAgICAgICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvbnRiL250Yl90cmFuc3BvcnQu
YyAgICAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL251YnVzL2J1cy5jICAgICAgICAgICAg
ICAgICAgICAgICB8IDYgKystLS0tCiBkcml2ZXJzL252ZGltbS9idXMuYyAgICAgICAgICAgICAg
ICAgICAgICB8IDMgKy0tCiBkcml2ZXJzL3BjaS9lbmRwb2ludC9wY2ktZXBmLWNvcmUuYyAgICAg
ICB8IDQgKy0tLQogZHJpdmVycy9wY2kvcGNpLWRyaXZlci5jICAgICAgICAgICAgICAgICAgfCAz
ICstLQogZHJpdmVycy9wY21jaWEvZHMuYyAgICAgICAgICAgICAgICAgICAgICAgfCA0ICstLS0K
IGRyaXZlcnMvcGxhdGZvcm0vc3VyZmFjZS9hZ2dyZWdhdG9yL2J1cy5jIHwgNCArLS0tCiBkcml2
ZXJzL3BsYXRmb3JtL3g4Ni93bWkuYyAgICAgICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVycy9w
bnAvZHJpdmVyLmMgICAgICAgICAgICAgICAgICAgICAgfCAzICstLQogZHJpdmVycy9yYXBpZGlv
L3Jpby1kcml2ZXIuYyAgICAgICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvcnBtc2cvcnBtc2df
Y29yZS5jICAgICAgICAgICAgICAgIHwgNyArKy0tLS0tCiBkcml2ZXJzL3MzOTAvY2lvL2Njd2dy
b3VwLmMgICAgICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVycy9zMzkwL2Npby9jc3MuYyAgICAg
ICAgICAgICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvczM5MC9jaW8vZGV2aWNlLmMgICAgICAg
ICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL3MzOTAvY2lvL3NjbS5jICAgICAgICAgICAgICAg
ICAgICB8IDQgKy0tLQogZHJpdmVycy9zMzkwL2NyeXB0by9hcF9idXMuYyAgICAgICAgICAgICAg
fCA0ICstLS0KIGRyaXZlcnMvc2NzaS9zY3NpX2RlYnVnLmMgICAgICAgICAgICAgICAgIHwgMyAr
LS0KIGRyaXZlcnMvc2gvc3VwZXJoeXdheS9zdXBlcmh5d2F5LmMgICAgICAgIHwgOCArKy0tLS0t
LQogZHJpdmVycy9zaW94L3Npb3gtY29yZS5jICAgICAgICAgICAgICAgICAgfCA0ICstLS0KIGRy
aXZlcnMvc2xpbWJ1cy9jb3JlLmMgICAgICAgICAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJz
L3NvYy9xY29tL2Fwci5jICAgICAgICAgICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVycy9zcGkv
c3BpLmMgICAgICAgICAgICAgICAgICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvc3BtaS9zcG1p
LmMgICAgICAgICAgICAgICAgICAgICAgIHwgMyArLS0KIGRyaXZlcnMvc3NiL21haW4uYyAgICAg
ICAgICAgICAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL3N0YWdpbmcvZmllbGRidXMvYW55
YnVzcy9ob3N0LmMgICB8IDQgKy0tLQogZHJpdmVycy9zdGFnaW5nL2dyZXlidXMvZ2JwaHkuYyAg
ICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvdGFyZ2V0L2xvb3BiYWNrL3RjbV9sb29wLmMgICAg
ICAgIHwgNSArKy0tLQogZHJpdmVycy90aHVuZGVyYm9sdC9kb21haW4uYyAgICAgICAgICAgICAg
fCA0ICstLS0KIGRyaXZlcnMvdHR5L3NlcmRldi9jb3JlLmMgICAgICAgICAgICAgICAgIHwgNCAr
LS0tCiBkcml2ZXJzL3VzYi9jb21tb24vdWxwaS5jICAgICAgICAgICAgICAgICB8IDQgKy0tLQog
ZHJpdmVycy91c2Ivc2VyaWFsL2J1cy5jICAgICAgICAgICAgICAgICAgfCA0ICstLS0KIGRyaXZl
cnMvdXNiL3R5cGVjL2J1cy5jICAgICAgICAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL3Zk
cGEvdmRwYS5jICAgICAgICAgICAgICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVycy92ZmlvL21k
ZXYvbWRldl9kcml2ZXIuYyAgICAgICAgICAgfCA0ICstLS0KIGRyaXZlcnMvdmlydGlvL3ZpcnRp
by5jICAgICAgICAgICAgICAgICAgIHwgMyArLS0KIGRyaXZlcnMvdmx5bnEvdmx5bnEuYyAgICAg
ICAgICAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL3ZtZS92bWUuYyAgICAgICAgICAgICAg
ICAgICAgICAgICB8IDQgKy0tLQogZHJpdmVycy94ZW4veGVuYnVzL3hlbmJ1cy5oICAgICAgICAg
ICAgICAgfCAyICstCiBkcml2ZXJzL3hlbi94ZW5idXMveGVuYnVzX3Byb2JlLmMgICAgICAgICB8
IDQgKy0tLQogZHJpdmVycy96b3Jyby96b3Jyby1kcml2ZXIuYyAgICAgICAgICAgICAgfCAzICst
LQogaW5jbHVkZS9saW51eC9kZXZpY2UvYnVzLmggICAgICAgICAgICAgICAgfCAyICstCiBzb3Vu
ZC9hYzk3L2J1cy5jICAgICAgICAgICAgICAgICAgICAgICAgICB8IDYgKystLS0tCiBzb3VuZC9h
b2Evc291bmRidXMvY29yZS5jICAgICAgICAgICAgICAgICB8IDQgKy0tLQogODYgZmlsZXMgY2hh
bmdlZCwgOTMgaW5zZXJ0aW9ucygrKSwgMjQzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2Fy
Y2gvYXJtL2NvbW1vbi9sb2NvbW8uYyBiL2FyY2gvYXJtL2NvbW1vbi9sb2NvbW8uYwppbmRleCBl
NDVmNGU0ZTA2YjYuLjI0ZDIxYmE2MzAzMCAxMDA2NDQKLS0tIGEvYXJjaC9hcm0vY29tbW9uL2xv
Y29tby5jCisrKyBiL2FyY2gvYXJtL2NvbW1vbi9sb2NvbW8uYwpAQCAtODM0LDE0ICs4MzQsMTMg
QEAgc3RhdGljIGludCBsb2NvbW9fYnVzX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1
cm4gcmV0OwogfQogCi1zdGF0aWMgaW50IGxvY29tb19idXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2Ug
KmRldikKK3N0YXRpYyB2b2lkIGxvY29tb19idXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikK
IHsKIAlzdHJ1Y3QgbG9jb21vX2RldiAqbGRldiA9IExPQ09NT19ERVYoZGV2KTsKIAlzdHJ1Y3Qg
bG9jb21vX2RyaXZlciAqZHJ2ID0gTE9DT01PX0RSVihkZXYtPmRyaXZlcik7CiAKIAlpZiAoZHJ2
LT5yZW1vdmUpCiAJCWRydi0+cmVtb3ZlKGxkZXYpOwotCXJldHVybiAwOwogfQogCiBzdHJ1Y3Qg
YnVzX3R5cGUgbG9jb21vX2J1c190eXBlID0gewpkaWZmIC0tZ2l0IGEvYXJjaC9hcm0vY29tbW9u
L3NhMTExMS5jIGIvYXJjaC9hcm0vY29tbW9uL3NhMTExMS5jCmluZGV4IGZmNWUwZDA0Y2I4OS4u
MDkyYTJlYmMwYzI4IDEwMDY0NAotLS0gYS9hcmNoL2FybS9jb21tb24vc2ExMTExLmMKKysrIGIv
YXJjaC9hcm0vY29tbW9uL3NhMTExMS5jCkBAIC0xMzY0LDE1ICsxMzY0LDEzIEBAIHN0YXRpYyBp
bnQgc2ExMTExX2J1c19wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIHJldDsKIH0K
IAotc3RhdGljIGludCBzYTExMTFfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0
aWMgdm9pZCBzYTExMTFfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0
IHNhMTExMV9kZXYgKnNhZGV2ID0gdG9fc2ExMTExX2RldmljZShkZXYpOwogCXN0cnVjdCBzYTEx
MTFfZHJpdmVyICpkcnYgPSBTQTExMTFfRFJWKGRldi0+ZHJpdmVyKTsKIAogCWlmIChkcnYtPnJl
bW92ZSkKIAkJZHJ2LT5yZW1vdmUoc2FkZXYpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0cnVjdCBi
dXNfdHlwZSBzYTExMTFfYnVzX3R5cGUgPSB7CmRpZmYgLS1naXQgYS9hcmNoL2FybS9tYWNoLXJw
Yy9lY2FyZC5jIGIvYXJjaC9hcm0vbWFjaC1ycGMvZWNhcmQuYwppbmRleCA4MjdiNTBmMWM3M2Uu
LjUzODEzZjk0NjRhMiAxMDA2NDQKLS0tIGEvYXJjaC9hcm0vbWFjaC1ycGMvZWNhcmQuYworKysg
Yi9hcmNoL2FybS9tYWNoLXJwYy9lY2FyZC5jCkBAIC0xMDUyLDcgKzEwNTIsNyBAQCBzdGF0aWMg
aW50IGVjYXJkX2Rydl9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIHJldDsKIH0K
IAotc3RhdGljIGludCBlY2FyZF9kcnZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRp
YyB2b2lkIGVjYXJkX2Rydl9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVjdCBl
eHBhbnNpb25fY2FyZCAqZWMgPSBFQ0FSRF9ERVYoZGV2KTsKIAlzdHJ1Y3QgZWNhcmRfZHJpdmVy
ICpkcnYgPSBFQ0FSRF9EUlYoZGV2LT5kcml2ZXIpOwpAQCAtMTA2Nyw4ICsxMDY3LDYgQEAgc3Rh
dGljIGludCBlY2FyZF9kcnZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAllYy0+b3BzID0g
JmVjYXJkX2RlZmF1bHRfb3BzOwogCWJhcnJpZXIoKTsKIAllYy0+aXJxX2RhdGEgPSBOVUxMOwot
Ci0JcmV0dXJuIDA7CiB9CiAKIC8qCmRpZmYgLS1naXQgYS9hcmNoL21pcHMvc2dpLWlwMjIvaXAy
Mi1naW8uYyBiL2FyY2gvbWlwcy9zZ2ktaXAyMi9pcDIyLWdpby5jCmluZGV4IGRlMDc2OGE0OWVl
OC4uZGZjNTJmNjYxYWQwIDEwMDY0NAotLS0gYS9hcmNoL21pcHMvc2dpLWlwMjIvaXAyMi1naW8u
YworKysgYi9hcmNoL21pcHMvc2dpLWlwMjIvaXAyMi1naW8uYwpAQCAtMTQzLDE0ICsxNDMsMTMg
QEAgc3RhdGljIGludCBnaW9fZGV2aWNlX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1
cm4gZXJyb3I7CiB9CiAKLXN0YXRpYyBpbnQgZ2lvX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmlj
ZSAqZGV2KQorc3RhdGljIHZvaWQgZ2lvX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2
KQogewogCXN0cnVjdCBnaW9fZGV2aWNlICpnaW9fZGV2ID0gdG9fZ2lvX2RldmljZShkZXYpOwog
CXN0cnVjdCBnaW9fZHJpdmVyICpkcnYgPSB0b19naW9fZHJpdmVyKGRldi0+ZHJpdmVyKTsKIAog
CWlmIChkZXYtPmRyaXZlciAmJiBkcnYtPnJlbW92ZSkKIAkJZHJ2LT5yZW1vdmUoZ2lvX2Rldik7
Ci0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyB2b2lkIGdpb19kZXZpY2Vfc2h1dGRvd24oc3RydWN0
IGRldmljZSAqZGV2KQpkaWZmIC0tZ2l0IGEvYXJjaC9wYXJpc2Mva2VybmVsL2RyaXZlcnMuYyBi
L2FyY2gvcGFyaXNjL2tlcm5lbC9kcml2ZXJzLmMKaW5kZXggODBmYTA2NTA3MzZiLi43NzZkNjI0
YTcyMDcgMTAwNjQ0Ci0tLSBhL2FyY2gvcGFyaXNjL2tlcm5lbC9kcml2ZXJzLmMKKysrIGIvYXJj
aC9wYXJpc2Mva2VybmVsL2RyaXZlcnMuYwpAQCAtMTMzLDE0ICsxMzMsMTMgQEAgc3RhdGljIGlu
dCBwYXJpc2NfZHJpdmVyX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gcmM7CiB9
CiAKLXN0YXRpYyBpbnQgX19leGl0IHBhcmlzY19kcml2ZXJfcmVtb3ZlKHN0cnVjdCBkZXZpY2Ug
KmRldikKK3N0YXRpYyB2b2lkIF9fZXhpdCBwYXJpc2NfZHJpdmVyX3JlbW92ZShzdHJ1Y3QgZGV2
aWNlICpkZXYpCiB7CiAJc3RydWN0IHBhcmlzY19kZXZpY2UgKnBhX2RldiA9IHRvX3BhcmlzY19k
ZXZpY2UoZGV2KTsKIAlzdHJ1Y3QgcGFyaXNjX2RyaXZlciAqcGFfZHJ2ID0gdG9fcGFyaXNjX2Ry
aXZlcihkZXYtPmRyaXZlcik7CisKIAlpZiAocGFfZHJ2LT5yZW1vdmUpCiAJCXBhX2Rydi0+cmVt
b3ZlKHBhX2Rldik7Ci0KLQlyZXR1cm4gMDsKIH0KIAkKIApkaWZmIC0tZ2l0IGEvYXJjaC9wb3dl
cnBjL3BsYXRmb3Jtcy9wczMvc3lzdGVtLWJ1cy5jIGIvYXJjaC9wb3dlcnBjL3BsYXRmb3Jtcy9w
czMvc3lzdGVtLWJ1cy5jCmluZGV4IDFhNTY2NTg3NTE2NS4uY2M1Nzc0YzY0ZmFlIDEwMDY0NAot
LS0gYS9hcmNoL3Bvd2VycGMvcGxhdGZvcm1zL3BzMy9zeXN0ZW0tYnVzLmMKKysrIGIvYXJjaC9w
b3dlcnBjL3BsYXRmb3Jtcy9wczMvc3lzdGVtLWJ1cy5jCkBAIC0zODEsNyArMzgxLDcgQEAgc3Rh
dGljIGludCBwczNfc3lzdGVtX2J1c19wcm9iZShzdHJ1Y3QgZGV2aWNlICpfZGV2KQogCXJldHVy
biByZXN1bHQ7CiB9CiAKLXN0YXRpYyBpbnQgcHMzX3N5c3RlbV9idXNfcmVtb3ZlKHN0cnVjdCBk
ZXZpY2UgKl9kZXYpCitzdGF0aWMgdm9pZCBwczNfc3lzdGVtX2J1c19yZW1vdmUoc3RydWN0IGRl
dmljZSAqX2RldikKIHsKIAlzdHJ1Y3QgcHMzX3N5c3RlbV9idXNfZGV2aWNlICpkZXYgPSBwczNf
ZGV2X3RvX3N5c3RlbV9idXNfZGV2KF9kZXYpOwogCXN0cnVjdCBwczNfc3lzdGVtX2J1c19kcml2
ZXIgKmRydjsKQEAgLTM5OSw3ICszOTksNiBAQCBzdGF0aWMgaW50IHBzM19zeXN0ZW1fYnVzX3Jl
bW92ZShzdHJ1Y3QgZGV2aWNlICpfZGV2KQogCQkJX19mdW5jX18sIF9fTElORV9fLCBkcnYtPmNv
cmUubmFtZSk7CiAKIAlwcl9kZWJ1ZygiIDwtICVzOiVkOiAlc1xuIiwgX19mdW5jX18sIF9fTElO
RV9fLCBkZXZfbmFtZSgmZGV2LT5jb3JlKSk7Ci0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyB2b2lk
IHBzM19zeXN0ZW1fYnVzX3NodXRkb3duKHN0cnVjdCBkZXZpY2UgKl9kZXYpCmRpZmYgLS1naXQg
YS9hcmNoL3Bvd2VycGMvcGxhdGZvcm1zL3BzZXJpZXMvaWJtZWJ1cy5jIGIvYXJjaC9wb3dlcnBj
L3BsYXRmb3Jtcy9wc2VyaWVzL2libWVidXMuYwppbmRleCBjNmM3OWVmNTVlMTMuLjdlZTNlZDdk
NmNjMiAxMDA2NDQKLS0tIGEvYXJjaC9wb3dlcnBjL3BsYXRmb3Jtcy9wc2VyaWVzL2libWVidXMu
YworKysgYi9hcmNoL3Bvd2VycGMvcGxhdGZvcm1zL3BzZXJpZXMvaWJtZWJ1cy5jCkBAIC0zNjYs
MTQgKzM2NiwxMyBAQCBzdGF0aWMgaW50IGlibWVidXNfYnVzX2RldmljZV9wcm9iZShzdHJ1Y3Qg
ZGV2aWNlICpkZXYpCiAJcmV0dXJuIGVycm9yOwogfQogCi1zdGF0aWMgaW50IGlibWVidXNfYnVz
X2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZvaWQgaWJtZWJ1c19i
dXNfZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqb2ZfZGV2ID0gdG9fcGxhdGZvcm1fZGV2aWNlKGRldik7CiAJc3RydWN0IHBsYXRm
b3JtX2RyaXZlciAqZHJ2ID0gdG9fcGxhdGZvcm1fZHJpdmVyKGRldi0+ZHJpdmVyKTsKIAogCWlm
IChkZXYtPmRyaXZlciAmJiBkcnYtPnJlbW92ZSkKIAkJZHJ2LT5yZW1vdmUob2ZfZGV2KTsKLQly
ZXR1cm4gMDsKIH0KIAogc3RhdGljIHZvaWQgaWJtZWJ1c19idXNfZGV2aWNlX3NodXRkb3duKHN0
cnVjdCBkZXZpY2UgKmRldikKZGlmZiAtLWdpdCBhL2FyY2gvcG93ZXJwYy9wbGF0Zm9ybXMvcHNl
cmllcy92aW8uYyBiL2FyY2gvcG93ZXJwYy9wbGF0Zm9ybXMvcHNlcmllcy92aW8uYwppbmRleCBl
MDBmMzcyNWVjOTYuLjU4MjgzY2VjYmQ1MiAxMDA2NDQKLS0tIGEvYXJjaC9wb3dlcnBjL3BsYXRm
b3Jtcy9wc2VyaWVzL3Zpby5jCisrKyBiL2FyY2gvcG93ZXJwYy9wbGF0Zm9ybXMvcHNlcmllcy92
aW8uYwpAQCAtMTI1Nyw3ICsxMjU3LDcgQEAgc3RhdGljIGludCB2aW9fYnVzX3Byb2JlKHN0cnVj
dCBkZXZpY2UgKmRldikKIH0KIAogLyogY29udmVydCBmcm9tIHN0cnVjdCBkZXZpY2UgdG8gc3Ry
dWN0IHZpb19kZXYgYW5kIHBhc3MgdG8gZHJpdmVyLiAqLwotc3RhdGljIGludCB2aW9fYnVzX3Jl
bW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCB2aW9fYnVzX3JlbW92ZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHZpb19kZXYgKnZpb2RldiA9IHRvX3Zpb19kZXYo
ZGV2KTsKIAlzdHJ1Y3QgdmlvX2RyaXZlciAqdmlvZHJ2ID0gdG9fdmlvX2RyaXZlcihkZXYtPmRy
aXZlcik7CkBAIC0xMjc2LDcgKzEyNzYsNiBAQCBzdGF0aWMgaW50IHZpb19idXNfcmVtb3ZlKHN0
cnVjdCBkZXZpY2UgKmRldikKIAkJdmlvX2Ntb19idXNfcmVtb3ZlKHZpb2Rldik7CiAKIAlwdXRf
ZGV2aWNlKGRldnB0cik7Ci0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyB2b2lkIHZpb19idXNfc2h1
dGRvd24oc3RydWN0IGRldmljZSAqZGV2KQpkaWZmIC0tZ2l0IGEvYXJjaC9zcGFyYy9rZXJuZWwv
dmlvLmMgYi9hcmNoL3NwYXJjL2tlcm5lbC92aW8uYwppbmRleCAzNDhhODg2OTEyMTkuLjAxMTIy
YTIwOGY5NCAxMDA2NDQKLS0tIGEvYXJjaC9zcGFyYy9rZXJuZWwvdmlvLmMKKysrIGIvYXJjaC9z
cGFyYy9rZXJuZWwvdmlvLmMKQEAgLTkzLDcgKzkzLDcgQEAgc3RhdGljIGludCB2aW9fZGV2aWNl
X3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gZHJ2LT5wcm9iZSh2ZGV2LCBpZCk7
CiB9CiAKLXN0YXRpYyBpbnQgdmlvX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQor
c3RhdGljIHZvaWQgdmlvX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0
cnVjdCB2aW9fZGV2ICp2ZGV2ID0gdG9fdmlvX2RldihkZXYpOwogCXN0cnVjdCB2aW9fZHJpdmVy
ICpkcnYgPSB0b192aW9fZHJpdmVyKGRldi0+ZHJpdmVyKTsKQEAgLTEwNyw4ICsxMDcsNiBAQCBz
dGF0aWMgaW50IHZpb19kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAogCQlkcnYt
PnJlbW92ZSh2ZGV2KTsKIAl9Ci0KLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHNzaXplX3QgZGV2
c3BlY19zaG93KHN0cnVjdCBkZXZpY2UgKmRldiwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvYWNwaS9i
dXMuYyBiL2RyaXZlcnMvYWNwaS9idXMuYwppbmRleCBmODU0YmNiOGQwMTAuLmI5NDE1NTVjYjVl
NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9hY3BpL2J1cy5jCisrKyBiL2RyaXZlcnMvYWNwaS9idXMu
YwpAQCAtMTAxOSw3ICsxMDE5LDcgQEAgc3RhdGljIGludCBhY3BpX2RldmljZV9wcm9iZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgYWNwaV9kZXZpY2Vf
cmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIGFjcGlfZGV2aWNlX3JlbW92
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGFjcGlfZGV2aWNlICphY3BpX2RldiA9
IHRvX2FjcGlfZGV2aWNlKGRldik7CiAJc3RydWN0IGFjcGlfZHJpdmVyICphY3BpX2RydiA9IGFj
cGlfZGV2LT5kcml2ZXI7CkBAIC0xMDM0LDcgKzEwMzQsNiBAQCBzdGF0aWMgaW50IGFjcGlfZGV2
aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJYWNwaV9kZXYtPmRyaXZlcl9kYXRhID0g
TlVMTDsKIAogCXB1dF9kZXZpY2UoZGV2KTsKLQlyZXR1cm4gMDsKIH0KIAogc3RydWN0IGJ1c190
eXBlIGFjcGlfYnVzX3R5cGUgPSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2FtYmEvYnVzLmMgYi9k
cml2ZXJzL2FtYmEvYnVzLmMKaW5kZXggOTM5Y2EyMjBiZjc4Li45NjIwNDExNDg0ODIgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvYW1iYS9idXMuYworKysgYi9kcml2ZXJzL2FtYmEvYnVzLmMKQEAgLTIx
OSw3ICsyMTksNyBAQCBzdGF0aWMgaW50IGFtYmFfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2KQog
CXJldHVybiByZXQ7CiB9CiAKLXN0YXRpYyBpbnQgYW1iYV9yZW1vdmUoc3RydWN0IGRldmljZSAq
ZGV2KQorc3RhdGljIHZvaWQgYW1iYV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0
cnVjdCBhbWJhX2RldmljZSAqcGNkZXYgPSB0b19hbWJhX2RldmljZShkZXYpOwogCXN0cnVjdCBh
bWJhX2RyaXZlciAqZHJ2ID0gdG9fYW1iYV9kcml2ZXIoZGV2LT5kcml2ZXIpOwpAQCAtMjM2LDgg
KzIzNiw2IEBAIHN0YXRpYyBpbnQgYW1iYV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCiAJ
YW1iYV9wdXRfZGlzYWJsZV9wY2xrKHBjZGV2KTsKIAlkZXZfcG1fZG9tYWluX2RldGFjaChkZXYs
IHRydWUpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyB2b2lkIGFtYmFfc2h1dGRvd24oc3Ry
dWN0IGRldmljZSAqZGV2KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9iYXNlL2F1eGlsaWFyeS5jIGIv
ZHJpdmVycy9iYXNlL2F1eGlsaWFyeS5jCmluZGV4IGFkYzE5OWRmYmEzYy4uMGM4NmY1YmVkOWY0
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2Jhc2UvYXV4aWxpYXJ5LmMKKysrIGIvZHJpdmVycy9iYXNl
L2F1eGlsaWFyeS5jCkBAIC03OSw3ICs3OSw3IEBAIHN0YXRpYyBpbnQgYXV4aWxpYXJ5X2J1c19w
cm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIHJldDsKIH0KIAotc3RhdGljIGludCBh
dXhpbGlhcnlfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBhdXhp
bGlhcnlfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGF1eGlsaWFy
eV9kcml2ZXIgKmF1eGRydiA9IHRvX2F1eGlsaWFyeV9kcnYoZGV2LT5kcml2ZXIpOwogCXN0cnVj
dCBhdXhpbGlhcnlfZGV2aWNlICphdXhkZXYgPSB0b19hdXhpbGlhcnlfZGV2KGRldik7CkBAIC04
Nyw4ICs4Nyw2IEBAIHN0YXRpYyBpbnQgYXV4aWxpYXJ5X2J1c19yZW1vdmUoc3RydWN0IGRldmlj
ZSAqZGV2KQogCWlmIChhdXhkcnYtPnJlbW92ZSkKIAkJYXV4ZHJ2LT5yZW1vdmUoYXV4ZGV2KTsK
IAlkZXZfcG1fZG9tYWluX2RldGFjaChkZXYsIHRydWUpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0
YXRpYyB2b2lkIGF1eGlsaWFyeV9idXNfc2h1dGRvd24oc3RydWN0IGRldmljZSAqZGV2KQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9iYXNlL2lzYS5jIGIvZHJpdmVycy9iYXNlL2lzYS5jCmluZGV4IGFh
NDczNzY2NzAyNi4uNTVlM2VlMmRhOThmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Jhc2UvaXNhLmMK
KysrIGIvZHJpdmVycy9iYXNlL2lzYS5jCkBAIC00NiwxNCArNDYsMTIgQEAgc3RhdGljIGludCBp
c2FfYnVzX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGlj
IGludCBpc2FfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBpc2Ff
YnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGlzYV9kcml2ZXIgKmlz
YV9kcml2ZXIgPSBkZXYtPnBsYXRmb3JtX2RhdGE7CiAKIAlpZiAoaXNhX2RyaXZlciAmJiBpc2Ff
ZHJpdmVyLT5yZW1vdmUpCiAJCWlzYV9kcml2ZXItPnJlbW92ZShkZXYsIHRvX2lzYV9kZXYoZGV2
KS0+aWQpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyB2b2lkIGlzYV9idXNfc2h1dGRvd24o
c3RydWN0IGRldmljZSAqZGV2KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9iYXNlL3BsYXRmb3JtLmMg
Yi9kcml2ZXJzL2Jhc2UvcGxhdGZvcm0uYwppbmRleCA4NjQwNTc4ZjQ1ZTkuLmE5NGI3ZjQ1NDg4
MSAxMDA2NDQKLS0tIGEvZHJpdmVycy9iYXNlL3BsYXRmb3JtLmMKKysrIGIvZHJpdmVycy9iYXNl
L3BsYXRmb3JtLmMKQEAgLTE0MzgsNyArMTQzOCw3IEBAIHN0YXRpYyBpbnQgcGxhdGZvcm1fcHJv
YmUoc3RydWN0IGRldmljZSAqX2RldikKIAlyZXR1cm4gcmV0OwogfQogCi1zdGF0aWMgaW50IHBs
YXRmb3JtX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpfZGV2KQorc3RhdGljIHZvaWQgcGxhdGZvcm1f
cmVtb3ZlKHN0cnVjdCBkZXZpY2UgKl9kZXYpCiB7CiAJc3RydWN0IHBsYXRmb3JtX2RyaXZlciAq
ZHJ2ID0gdG9fcGxhdGZvcm1fZHJpdmVyKF9kZXYtPmRyaXZlcik7CiAJc3RydWN0IHBsYXRmb3Jt
X2RldmljZSAqZGV2ID0gdG9fcGxhdGZvcm1fZGV2aWNlKF9kZXYpOwpAQCAtMTQ1MCw4ICsxNDUw
LDYgQEAgc3RhdGljIGludCBwbGF0Zm9ybV9yZW1vdmUoc3RydWN0IGRldmljZSAqX2RldikKIAkJ
CWRldl93YXJuKF9kZXYsICJyZW1vdmUgY2FsbGJhY2sgcmV0dXJuZWQgYSBub24temVybyB2YWx1
ZS4gVGhpcyB3aWxsIGJlIGlnbm9yZWQuXG4iKTsKIAl9CiAJZGV2X3BtX2RvbWFpbl9kZXRhY2go
X2RldiwgdHJ1ZSk7Ci0KLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHZvaWQgcGxhdGZvcm1fc2h1
dGRvd24oc3RydWN0IGRldmljZSAqX2RldikKZGlmZiAtLWdpdCBhL2RyaXZlcnMvYmNtYS9tYWlu
LmMgYi9kcml2ZXJzL2JjbWEvbWFpbi5jCmluZGV4IDY1MzU2MTRhN2RjMS4uZTA3NjYzMGQxN2Jk
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2JjbWEvbWFpbi5jCisrKyBiL2RyaXZlcnMvYmNtYS9tYWlu
LmMKQEAgLTI3LDcgKzI3LDcgQEAgc3RhdGljIERFRklORV9NVVRFWChiY21hX2J1c2VzX211dGV4
KTsKIAogc3RhdGljIGludCBiY21hX2J1c19tYXRjaChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVj
dCBkZXZpY2VfZHJpdmVyICpkcnYpOwogc3RhdGljIGludCBiY21hX2RldmljZV9wcm9iZShzdHJ1
Y3QgZGV2aWNlICpkZXYpOwotc3RhdGljIGludCBiY21hX2RldmljZV9yZW1vdmUoc3RydWN0IGRl
dmljZSAqZGV2KTsKK3N0YXRpYyB2b2lkIGJjbWFfZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNl
ICpkZXYpOwogc3RhdGljIGludCBiY21hX2RldmljZV91ZXZlbnQoc3RydWN0IGRldmljZSAqZGV2
LCBzdHJ1Y3Qga29ial91ZXZlbnRfZW52ICplbnYpOwogCiBzdGF0aWMgc3NpemVfdCBtYW51Zl9z
aG93KHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsIGNo
YXIgKmJ1ZikKQEAgLTYxNCw3ICs2MTQsNyBAQCBzdGF0aWMgaW50IGJjbWFfZGV2aWNlX3Byb2Jl
KHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gZXJyOwogfQogCi1zdGF0aWMgaW50IGJjbWFf
ZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBiY21hX2Rldmlj
ZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVjdCBiY21hX2RldmljZSAqY29y
ZSA9IGNvbnRhaW5lcl9vZihkZXYsIHN0cnVjdCBiY21hX2RldmljZSwgZGV2KTsKIAlzdHJ1Y3Qg
YmNtYV9kcml2ZXIgKmFkcnYgPSBjb250YWluZXJfb2YoZGV2LT5kcml2ZXIsIHN0cnVjdCBiY21h
X2RyaXZlciwKQEAgLTYyMyw4ICs2MjMsNiBAQCBzdGF0aWMgaW50IGJjbWFfZGV2aWNlX3JlbW92
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJaWYgKGFkcnYtPnJlbW92ZSkKIAkJYWRydi0+cmVtb3Zl
KGNvcmUpOwogCXB1dF9kZXZpY2UoZGV2KTsKLQotCXJldHVybiAwOwogfQogCiBzdGF0aWMgaW50
IGJjbWFfZGV2aWNlX3VldmVudChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBrb2JqX3VldmVu
dF9lbnYgKmVudikKZGlmZiAtLWdpdCBhL2RyaXZlcnMvYnVzL3N1bnhpLXJzYi5jIGIvZHJpdmVy
cy9idXMvc3VueGktcnNiLmMKaW5kZXggZDQ2ZGIxMzJkMDg1Li42ZjIyNWRkZGM3NGYgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvYnVzL3N1bnhpLXJzYi5jCisrKyBiL2RyaXZlcnMvYnVzL3N1bnhpLXJz
Yi5jCkBAIC0xNjksMTMgKzE2OSwxMSBAQCBzdGF0aWMgaW50IHN1bnhpX3JzYl9kZXZpY2VfcHJv
YmUoc3RydWN0IGRldmljZSAqZGV2KQogCXJldHVybiBkcnYtPnByb2JlKHJkZXYpOwogfQogCi1z
dGF0aWMgaW50IHN1bnhpX3JzYl9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0
YXRpYyB2b2lkIHN1bnhpX3JzYl9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsK
IAljb25zdCBzdHJ1Y3Qgc3VueGlfcnNiX2RyaXZlciAqZHJ2ID0gdG9fc3VueGlfcnNiX2RyaXZl
cihkZXYtPmRyaXZlcik7CiAKIAlkcnYtPnJlbW92ZSh0b19zdW54aV9yc2JfZGV2aWNlKGRldikp
OwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBzdHJ1Y3QgYnVzX3R5cGUgc3VueGlfcnNiX2J1
cyA9IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvY3hsL2NvcmUuYyBiL2RyaXZlcnMvY3hsL2NvcmUu
YwppbmRleCBhMmU0ZDU0ZmM3YmMuLjJiOTBiN2MzYjlkNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9j
eGwvY29yZS5jCisrKyBiL2RyaXZlcnMvY3hsL2NvcmUuYwpAQCAtMTAzNCwxMyArMTAzNCwxMiBA
QCBzdGF0aWMgaW50IGN4bF9idXNfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2KQogCXJldHVybiB0
b19jeGxfZHJ2KGRldi0+ZHJpdmVyKS0+cHJvYmUoZGV2KTsKIH0KIAotc3RhdGljIGludCBjeGxf
YnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBjeGxfYnVzX3JlbW92
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGN4bF9kcml2ZXIgKmN4bF9kcnYgPSB0
b19jeGxfZHJ2KGRldi0+ZHJpdmVyKTsKIAogCWlmIChjeGxfZHJ2LT5yZW1vdmUpCiAJCWN4bF9k
cnYtPnJlbW92ZShkZXYpOwotCXJldHVybiAwOwogfQogCiBzdHJ1Y3QgYnVzX3R5cGUgY3hsX2J1
c190eXBlID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9kYXgvYnVzLmMgYi9kcml2ZXJzL2RheC9i
dXMuYwppbmRleCA1YWVlMjZlMWJiZDYuLjZjYzRkYTRjNzEzZCAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9kYXgvYnVzLmMKKysrIGIvZHJpdmVycy9kYXgvYnVzLmMKQEAgLTE3MiwxNSArMTcyLDEzIEBA
IHN0YXRpYyBpbnQgZGF4X2J1c19wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIDA7
CiB9CiAKLXN0YXRpYyBpbnQgZGF4X2J1c19yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3Rh
dGljIHZvaWQgZGF4X2J1c19yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVjdCBk
YXhfZGV2aWNlX2RyaXZlciAqZGF4X2RydiA9IHRvX2RheF9kcnYoZGV2LT5kcml2ZXIpOwogCXN0
cnVjdCBkZXZfZGF4ICpkZXZfZGF4ID0gdG9fZGV2X2RheChkZXYpOwogCiAJaWYgKGRheF9kcnYt
PnJlbW92ZSkKIAkJZGF4X2Rydi0+cmVtb3ZlKGRldl9kYXgpOwotCi0JcmV0dXJuIDA7CiB9CiAK
IHN0YXRpYyBzdHJ1Y3QgYnVzX3R5cGUgZGF4X2J1c190eXBlID0gewpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9kbWEvaWR4ZC9zeXNmcy5jIGIvZHJpdmVycy9kbWEvaWR4ZC9zeXNmcy5jCmluZGV4IDA0
NjBkNThlMzk0MS4uNWEwMTdjNjJjNzUyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2RtYS9pZHhkL3N5
c2ZzLmMKKysrIGIvZHJpdmVycy9kbWEvaWR4ZC9zeXNmcy5jCkBAIC0yNjAsNyArMjYwLDcgQEAg
c3RhdGljIHZvaWQgZGlzYWJsZV93cShzdHJ1Y3QgaWR4ZF93cSAqd3EpCiAJZGV2X2luZm8oZGV2
LCAid3EgJXMgZGlzYWJsZWRcbiIsIGRldl9uYW1lKCZ3cS0+Y29uZl9kZXYpKTsKIH0KIAotc3Rh
dGljIGludCBpZHhkX2NvbmZpZ19idXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRp
YyB2b2lkIGlkeGRfY29uZmlnX2J1c19yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCWlu
dCByYzsKIApAQCAtMzA1LDggKzMwNSw2IEBAIHN0YXRpYyBpbnQgaWR4ZF9jb25maWdfYnVzX3Jl
bW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJCQlkZXZfaW5mbyhkZXYsICJEZXZpY2UgJXMgZGlz
YWJsZWRcbiIsIGRldl9uYW1lKGRldikpOwogCiAJfQotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRp
YyB2b2lkIGlkeGRfY29uZmlnX2J1c19zaHV0ZG93bihzdHJ1Y3QgZGV2aWNlICpkZXYpCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2ZpcmV3aXJlL2NvcmUtZGV2aWNlLmMgYi9kcml2ZXJzL2ZpcmV3aXJl
L2NvcmUtZGV2aWNlLmMKaW5kZXggNjgyMTY5ODgzOTFmLi45MGVkOGZkYWJhNzUgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZmlyZXdpcmUvY29yZS1kZXZpY2UuYworKysgYi9kcml2ZXJzL2ZpcmV3aXJl
L2NvcmUtZGV2aWNlLmMKQEAgLTE4NywxNCArMTg3LDEyIEBAIHN0YXRpYyBpbnQgZndfdW5pdF9w
cm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIGRyaXZlci0+cHJvYmUoZndfdW5pdChk
ZXYpLCB1bml0X21hdGNoKGRldiwgZGV2LT5kcml2ZXIpKTsKIH0KIAotc3RhdGljIGludCBmd191
bml0X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBmd191bml0X3JlbW92
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGZ3X2RyaXZlciAqZHJpdmVyID0KIAkJ
CWNvbnRhaW5lcl9vZihkZXYtPmRyaXZlciwgc3RydWN0IGZ3X2RyaXZlciwgZHJpdmVyKTsKIAog
CWRyaXZlci0+cmVtb3ZlKGZ3X3VuaXQoZGV2KSk7Ci0KLQlyZXR1cm4gMDsKIH0KIAogc3RhdGlj
IGludCBnZXRfbW9kYWxpYXMoc3RydWN0IGZ3X3VuaXQgKnVuaXQsIGNoYXIgKmJ1ZmZlciwgc2l6
ZV90IGJ1ZmZlcl9zaXplKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9maXJtd2FyZS9hcm1fc2NtaS9i
dXMuYyBiL2RyaXZlcnMvZmlybXdhcmUvYXJtX3NjbWkvYnVzLmMKaW5kZXggNzg0Y2YwMDI3ZGEz
Li4yNjgyYzNkZjY1MWMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZmlybXdhcmUvYXJtX3NjbWkvYnVz
LmMKKysrIGIvZHJpdmVycy9maXJtd2FyZS9hcm1fc2NtaS9idXMuYwpAQCAtMTE2LDE1ICsxMTYs
MTMgQEAgc3RhdGljIGludCBzY21pX2Rldl9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0
dXJuIHNjbWlfZHJ2LT5wcm9iZShzY21pX2Rldik7CiB9CiAKLXN0YXRpYyBpbnQgc2NtaV9kZXZf
cmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHNjbWlfZGV2X3JlbW92ZShz
dHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHNjbWlfZHJpdmVyICpzY21pX2RydiA9IHRv
X3NjbWlfZHJpdmVyKGRldi0+ZHJpdmVyKTsKIAlzdHJ1Y3Qgc2NtaV9kZXZpY2UgKnNjbWlfZGV2
ID0gdG9fc2NtaV9kZXYoZGV2KTsKIAogCWlmIChzY21pX2Rydi0+cmVtb3ZlKQogCQlzY21pX2Ry
di0+cmVtb3ZlKHNjbWlfZGV2KTsKLQotCXJldHVybiAwOwogfQogCiBzdGF0aWMgc3RydWN0IGJ1
c190eXBlIHNjbWlfYnVzX3R5cGUgPSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2Zpcm13YXJlL2dv
b2dsZS9jb3JlYm9vdF90YWJsZS5jIGIvZHJpdmVycy9maXJtd2FyZS9nb29nbGUvY29yZWJvb3Rf
dGFibGUuYwppbmRleCBkYzgzZWExMThjNjcuLmM1MmJjYWE5ZGVmNiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9maXJtd2FyZS9nb29nbGUvY29yZWJvb3RfdGFibGUuYworKysgYi9kcml2ZXJzL2Zpcm13
YXJlL2dvb2dsZS9jb3JlYm9vdF90YWJsZS5jCkBAIC00NCwxNSArNDQsMTMgQEAgc3RhdGljIGlu
dCBjb3JlYm9vdF9idXNfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2KQogCXJldHVybiByZXQ7CiB9
CiAKLXN0YXRpYyBpbnQgY29yZWJvb3RfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitz
dGF0aWMgdm9pZCBjb3JlYm9vdF9idXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlz
dHJ1Y3QgY29yZWJvb3RfZGV2aWNlICpkZXZpY2UgPSBDQl9ERVYoZGV2KTsKIAlzdHJ1Y3QgY29y
ZWJvb3RfZHJpdmVyICpkcml2ZXIgPSBDQl9EUlYoZGV2LT5kcml2ZXIpOwogCiAJaWYgKGRyaXZl
ci0+cmVtb3ZlKQogCQlkcml2ZXItPnJlbW92ZShkZXZpY2UpOwotCi0JcmV0dXJuIDA7CiB9CiAK
IHN0YXRpYyBzdHJ1Y3QgYnVzX3R5cGUgY29yZWJvb3RfYnVzX3R5cGUgPSB7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2ZwZ2EvZGZsLmMgYi9kcml2ZXJzL2ZwZ2EvZGZsLmMKaW5kZXggNTExYjIwZmYz
NWEzLi4xYWU2Nzc5YTBkZDYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZnBnYS9kZmwuYworKysgYi9k
cml2ZXJzL2ZwZ2EvZGZsLmMKQEAgLTI4NCwxNSArMjg0LDEzIEBAIHN0YXRpYyBpbnQgZGZsX2J1
c19wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIGRkcnYtPnByb2JlKGRkZXYpOwog
fQogCi1zdGF0aWMgaW50IGRmbF9idXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRp
YyB2b2lkIGRmbF9idXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgZGZs
X2RyaXZlciAqZGRydiA9IHRvX2RmbF9kcnYoZGV2LT5kcml2ZXIpOwogCXN0cnVjdCBkZmxfZGV2
aWNlICpkZGV2ID0gdG9fZGZsX2RldihkZXYpOwogCiAJaWYgKGRkcnYtPnJlbW92ZSkKIAkJZGRy
di0+cmVtb3ZlKGRkZXYpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBpbnQgZGZsX2J1c191
ZXZlbnQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3Qga29ial91ZXZlbnRfZW52ICplbnYpCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2hpZC9oaWQtY29yZS5jIGIvZHJpdmVycy9oaWQvaGlkLWNvcmUu
YwppbmRleCA3ZGIzMzIxMzlmN2QuLmRiZWQyNTI0ZmQ0NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9o
aWQvaGlkLWNvcmUuYworKysgYi9kcml2ZXJzL2hpZC9oaWQtY29yZS5jCkBAIC0yMzAyLDcgKzIz
MDIsNyBAQCBzdGF0aWMgaW50IGhpZF9kZXZpY2VfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2KQog
CXJldHVybiByZXQ7CiB9CiAKLXN0YXRpYyBpbnQgaGlkX2RldmljZV9yZW1vdmUoc3RydWN0IGRl
dmljZSAqZGV2KQorc3RhdGljIHZvaWQgaGlkX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAq
ZGV2KQogewogCXN0cnVjdCBoaWRfZGV2aWNlICpoZGV2ID0gdG9faGlkX2RldmljZShkZXYpOwog
CXN0cnVjdCBoaWRfZHJpdmVyICpoZHJ2OwpAQCAtMjMyMiw4ICsyMzIyLDYgQEAgc3RhdGljIGlu
dCBoaWRfZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAKIAlpZiAoIWhkZXYtPmlv
X3N0YXJ0ZWQpCiAJCXVwKCZoZGV2LT5kcml2ZXJfaW5wdXRfbG9jayk7Ci0KLQlyZXR1cm4gMDsK
IH0KIAogc3RhdGljIHNzaXplX3QgbW9kYWxpYXNfc2hvdyhzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0
cnVjdCBkZXZpY2VfYXR0cmlidXRlICphLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9oaWQvaW50ZWwt
aXNoLWhpZC9pc2h0cC9idXMuYyBiL2RyaXZlcnMvaGlkL2ludGVsLWlzaC1oaWQvaXNodHAvYnVz
LmMKaW5kZXggZjA4MDJiMDQ3ZWQ4Li44YTUxYmQ5Y2QwOTMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
aGlkL2ludGVsLWlzaC1oaWQvaXNodHAvYnVzLmMKKysrIGIvZHJpdmVycy9oaWQvaW50ZWwtaXNo
LWhpZC9pc2h0cC9idXMuYwpAQCAtMjU1LDcgKzI1NSw3IEBAIHN0YXRpYyBpbnQgaXNodHBfY2xf
YnVzX21hdGNoKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZV9kcml2ZXIgKmRydikK
ICAqCiAgKiBSZXR1cm46IFJldHVybiB2YWx1ZSBmcm9tIGRyaXZlciByZW1vdmUoKSBjYWxsLgog
ICovCi1zdGF0aWMgaW50IGlzaHRwX2NsX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2
KQorc3RhdGljIHZvaWQgaXNodHBfY2xfZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYp
CiB7CiAJc3RydWN0IGlzaHRwX2NsX2RldmljZSAqZGV2aWNlID0gdG9faXNodHBfY2xfZGV2aWNl
KGRldik7CiAJc3RydWN0IGlzaHRwX2NsX2RyaXZlciAqZHJpdmVyID0gdG9faXNodHBfY2xfZHJp
dmVyKGRldi0+ZHJpdmVyKTsKQEAgLTI2Nyw4ICsyNjcsNiBAQCBzdGF0aWMgaW50IGlzaHRwX2Ns
X2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCiAJaWYgKGRyaXZlci0+cmVtb3Zl
KQogCQlkcml2ZXItPnJlbW92ZShkZXZpY2UpOwotCi0JcmV0dXJuIDA7CiB9CiAKIC8qKgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9odi92bWJ1c19kcnYuYyBiL2RyaXZlcnMvaHYvdm1idXNfZHJ2LmMK
aW5kZXggNTdiYmJhYTRlOGY3Li4zOTJjMWFjNGY4MTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvaHYv
dm1idXNfZHJ2LmMKKysrIGIvZHJpdmVycy9odi92bWJ1c19kcnYuYwpAQCAtOTIyLDcgKzkyMiw3
IEBAIHN0YXRpYyBpbnQgdm1idXNfcHJvYmUoc3RydWN0IGRldmljZSAqY2hpbGRfZGV2aWNlKQog
LyoKICAqIHZtYnVzX3JlbW92ZSAtIFJlbW92ZSBhIHZtYnVzIGRldmljZQogICovCi1zdGF0aWMg
aW50IHZtYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpjaGlsZF9kZXZpY2UpCitzdGF0aWMgdm9p
ZCB2bWJ1c19yZW1vdmUoc3RydWN0IGRldmljZSAqY2hpbGRfZGV2aWNlKQogewogCXN0cnVjdCBo
dl9kcml2ZXIgKmRydjsKIAlzdHJ1Y3QgaHZfZGV2aWNlICpkZXYgPSBkZXZpY2VfdG9faHZfZGV2
aWNlKGNoaWxkX2RldmljZSk7CkBAIC05MzIsMTEgKzkzMiw4IEBAIHN0YXRpYyBpbnQgdm1idXNf
cmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmNoaWxkX2RldmljZSkKIAkJaWYgKGRydi0+cmVtb3ZlKQog
CQkJZHJ2LT5yZW1vdmUoZGV2KTsKIAl9Ci0KLQlyZXR1cm4gMDsKIH0KIAotCiAvKgogICogdm1i
dXNfc2h1dGRvd24gLSBTaHV0ZG93biBhIHZtYnVzIGRldmljZQogICovCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2h3dHJhY2luZy9pbnRlbF90aC9jb3JlLmMgYi9kcml2ZXJzL2h3dHJhY2luZy9pbnRl
bF90aC9jb3JlLmMKaW5kZXggNjZlZWQyZGZmODE4Li43ZTc1M2E3NWQyM2IgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvaHd0cmFjaW5nL2ludGVsX3RoL2NvcmUuYworKysgYi9kcml2ZXJzL2h3dHJhY2lu
Zy9pbnRlbF90aC9jb3JlLmMKQEAgLTk1LDcgKzk1LDcgQEAgc3RhdGljIGludCBpbnRlbF90aF9w
cm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAKIHN0YXRpYyB2b2lkIGludGVsX3RoX2RldmljZV9y
ZW1vdmUoc3RydWN0IGludGVsX3RoX2RldmljZSAqdGhkZXYpOwogCi1zdGF0aWMgaW50IGludGVs
X3RoX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBpbnRlbF90aF9yZW1v
dmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVjdCBpbnRlbF90aF9kcml2ZXIgKnRoZHJ2
ID0gdG9faW50ZWxfdGhfZHJpdmVyKGRldi0+ZHJpdmVyKTsKIAlzdHJ1Y3QgaW50ZWxfdGhfZGV2
aWNlICp0aGRldiA9IHRvX2ludGVsX3RoX2RldmljZShkZXYpOwpAQCAtMTY0LDggKzE2NCw2IEBA
IHN0YXRpYyBpbnQgaW50ZWxfdGhfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlwbV9ydW50
aW1lX2Rpc2FibGUoZGV2KTsKIAlwbV9ydW50aW1lX3NldF9hY3RpdmUoZGV2KTsKIAlwbV9ydW50
aW1lX2VuYWJsZShkZXYpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBzdHJ1Y3QgYnVzX3R5
cGUgaW50ZWxfdGhfYnVzID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9pMmMvaTJjLWNvcmUtYmFz
ZS5jIGIvZHJpdmVycy9pMmMvaTJjLWNvcmUtYmFzZS5jCmluZGV4IDg0ZjEyYmY5MDY0NC4uNTQ5
NjRmYmUzZjAzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2kyYy9pMmMtY29yZS1iYXNlLmMKKysrIGIv
ZHJpdmVycy9pMmMvaTJjLWNvcmUtYmFzZS5jCkBAIC02MDEsNyArNjAxLDcgQEAgc3RhdGljIGlu
dCBpMmNfZGV2aWNlX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gc3RhdHVzOwog
fQogCi1zdGF0aWMgaW50IGkyY19kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0
YXRpYyB2b2lkIGkyY19kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1
Y3QgaTJjX2NsaWVudAkqY2xpZW50ID0gdG9faTJjX2NsaWVudChkZXYpOwogCXN0cnVjdCBpMmNf
YWRhcHRlciAgICAgICphZGFwOwpAQCAtNjMxLDkgKzYzMSw2IEBAIHN0YXRpYyBpbnQgaTJjX2Rl
dmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCWNsaWVudC0+aXJxID0gMDsKIAlpZiAo
Y2xpZW50LT5mbGFncyAmIEkyQ19DTElFTlRfSE9TVF9OT1RJRlkpCiAJCXBtX3J1bnRpbWVfcHV0
KCZjbGllbnQtPmFkYXB0ZXItPmRldik7Ci0KLQkvKiByZXR1cm4gYWx3YXlzIDAgYmVjYXVzZSB0
aGVyZSBpcyBXSVAgdG8gbWFrZSByZW1vdmUtZnVuY3Rpb25zIHZvaWQgKi8KLQlyZXR1cm4gMDsK
IH0KIAogI2lmZGVmIENPTkZJR19QTV9TTEVFUApkaWZmIC0tZ2l0IGEvZHJpdmVycy9pM2MvbWFz
dGVyLmMgYi9kcml2ZXJzL2kzYy9tYXN0ZXIuYwppbmRleCBlMmUxMmE1NTg1ZTUuLmMzYjRjNjc3
YjQ0MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9pM2MvbWFzdGVyLmMKKysrIGIvZHJpdmVycy9pM2Mv
bWFzdGVyLmMKQEAgLTMyMiw3ICszMjIsNyBAQCBzdGF0aWMgaW50IGkzY19kZXZpY2VfcHJvYmUo
c3RydWN0IGRldmljZSAqZGV2KQogCXJldHVybiBkcml2ZXItPnByb2JlKGkzY2Rldik7CiB9CiAK
LXN0YXRpYyBpbnQgaTNjX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3RhdGlj
IHZvaWQgaTNjX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVjdCBp
M2NfZGV2aWNlICppM2NkZXYgPSBkZXZfdG9faTNjZGV2KGRldik7CiAJc3RydWN0IGkzY19kcml2
ZXIgKmRyaXZlciA9IGRydl90b19pM2NkcnYoZGV2LT5kcml2ZXIpOwpAQCAtMzMxLDggKzMzMSw2
IEBAIHN0YXRpYyBpbnQgaTNjX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCQlk
cml2ZXItPnJlbW92ZShpM2NkZXYpOwogCiAJaTNjX2RldmljZV9mcmVlX2liaShpM2NkZXYpOwot
Ci0JcmV0dXJuIDA7CiB9CiAKIHN0cnVjdCBidXNfdHlwZSBpM2NfYnVzX3R5cGUgPSB7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2lucHV0L2dhbWVwb3J0L2dhbWVwb3J0LmMgYi9kcml2ZXJzL2lucHV0
L2dhbWVwb3J0L2dhbWVwb3J0LmMKaW5kZXggNjFmYTdlNzI0MTcyLi5kYjU4YTAxYjIzZDMgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvaW5wdXQvZ2FtZXBvcnQvZ2FtZXBvcnQuYworKysgYi9kcml2ZXJz
L2lucHV0L2dhbWVwb3J0L2dhbWVwb3J0LmMKQEAgLTY5NywxMyArNjk3LDEyIEBAIHN0YXRpYyBp
bnQgZ2FtZXBvcnRfZHJpdmVyX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gZ2Ft
ZXBvcnQtPmRydiA/IDAgOiAtRU5PREVWOwogfQogCi1zdGF0aWMgaW50IGdhbWVwb3J0X2RyaXZl
cl9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZvaWQgZ2FtZXBvcnRfZHJpdmVy
X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGdhbWVwb3J0ICpnYW1lcG9y
dCA9IHRvX2dhbWVwb3J0X3BvcnQoZGV2KTsKIAlzdHJ1Y3QgZ2FtZXBvcnRfZHJpdmVyICpkcnYg
PSB0b19nYW1lcG9ydF9kcml2ZXIoZGV2LT5kcml2ZXIpOwogCiAJZHJ2LT5kaXNjb25uZWN0KGdh
bWVwb3J0KTsKLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHZvaWQgZ2FtZXBvcnRfYXR0YWNoX2Ry
aXZlcihzdHJ1Y3QgZ2FtZXBvcnRfZHJpdmVyICpkcnYpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2lu
cHV0L3NlcmlvL3NlcmlvLmMgYi9kcml2ZXJzL2lucHV0L3NlcmlvL3NlcmlvLmMKaW5kZXggMjlm
NDkxMDgyOTI2Li5lYzExN2JlM2Q4ZDggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvaW5wdXQvc2VyaW8v
c2VyaW8uYworKysgYi9kcml2ZXJzL2lucHV0L3NlcmlvL3NlcmlvLmMKQEAgLTc3OCwxMiArNzc4
LDExIEBAIHN0YXRpYyBpbnQgc2VyaW9fZHJpdmVyX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikK
IAlyZXR1cm4gc2VyaW9fY29ubmVjdF9kcml2ZXIoc2VyaW8sIGRydik7CiB9CiAKLXN0YXRpYyBp
bnQgc2VyaW9fZHJpdmVyX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBz
ZXJpb19kcml2ZXJfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3Qgc2VyaW8g
KnNlcmlvID0gdG9fc2VyaW9fcG9ydChkZXYpOwogCiAJc2VyaW9fZGlzY29ubmVjdF9kcml2ZXIo
c2VyaW8pOwotCXJldHVybiAwOwogfQogCiBzdGF0aWMgdm9pZCBzZXJpb19jbGVhbnVwKHN0cnVj
dCBzZXJpbyAqc2VyaW8pCmRpZmYgLS1naXQgYS9kcml2ZXJzL2lwYWNrL2lwYWNrLmMgYi9kcml2
ZXJzL2lwYWNrL2lwYWNrLmMKaW5kZXggN2RlOTYwNWNhYzRmLi5iMWMzMTk4MzU1ZTcgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvaXBhY2svaXBhY2suYworKysgYi9kcml2ZXJzL2lwYWNrL2lwYWNrLmMK
QEAgLTY3LDE1ICs2NywxMyBAQCBzdGF0aWMgaW50IGlwYWNrX2J1c19wcm9iZShzdHJ1Y3QgZGV2
aWNlICpkZXZpY2UpCiAJcmV0dXJuIGRydi0+b3BzLT5wcm9iZShkZXYpOwogfQogCi1zdGF0aWMg
aW50IGlwYWNrX2J1c19yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2aWNlKQorc3RhdGljIHZvaWQg
aXBhY2tfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXZpY2UpCiB7CiAJc3RydWN0IGlwYWNr
X2RldmljZSAqZGV2ID0gdG9faXBhY2tfZGV2KGRldmljZSk7CiAJc3RydWN0IGlwYWNrX2RyaXZl
ciAqZHJ2ID0gdG9faXBhY2tfZHJpdmVyKGRldmljZS0+ZHJpdmVyKTsKIAogCWlmIChkcnYtPm9w
cy0+cmVtb3ZlKQogCQlkcnYtPm9wcy0+cmVtb3ZlKGRldik7Ci0KLQlyZXR1cm4gMDsKIH0KIAog
c3RhdGljIGludCBpcGFja191ZXZlbnQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3Qga29ial91
ZXZlbnRfZW52ICplbnYpCmRpZmYgLS1naXQgYS9kcml2ZXJzL21hY2ludG9zaC9tYWNpb19hc2lj
LmMgYi9kcml2ZXJzL21hY2ludG9zaC9tYWNpb19hc2ljLmMKaW5kZXggNDlhZjYwYmRhYzkyLi5j
MWZkZjI4OTYwMjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWFjaW50b3NoL21hY2lvX2FzaWMuYwor
KysgYi9kcml2ZXJzL21hY2ludG9zaC9tYWNpb19hc2ljLmMKQEAgLTg4LDcgKzg4LDcgQEAgc3Rh
dGljIGludCBtYWNpb19kZXZpY2VfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2KQogCXJldHVybiBl
cnJvcjsKIH0KIAotc3RhdGljIGludCBtYWNpb19kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2Ug
KmRldikKK3N0YXRpYyB2b2lkIG1hY2lvX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2
KQogewogCXN0cnVjdCBtYWNpb19kZXYgKiBtYWNpb19kZXYgPSB0b19tYWNpb19kZXZpY2UoZGV2
KTsKIAlzdHJ1Y3QgbWFjaW9fZHJpdmVyICogZHJ2ID0gdG9fbWFjaW9fZHJpdmVyKGRldi0+ZHJp
dmVyKTsKQEAgLTk2LDggKzk2LDYgQEAgc3RhdGljIGludCBtYWNpb19kZXZpY2VfcmVtb3ZlKHN0
cnVjdCBkZXZpY2UgKmRldikKIAlpZiAoZGV2LT5kcml2ZXIgJiYgZHJ2LT5yZW1vdmUpCiAJCWRy
di0+cmVtb3ZlKG1hY2lvX2Rldik7CiAJbWFjaW9fZGV2X3B1dChtYWNpb19kZXYpOwotCi0JcmV0
dXJuIDA7CiB9CiAKIHN0YXRpYyB2b2lkIG1hY2lvX2RldmljZV9zaHV0ZG93bihzdHJ1Y3QgZGV2
aWNlICpkZXYpCmRpZmYgLS1naXQgYS9kcml2ZXJzL21jYi9tY2ItY29yZS5jIGIvZHJpdmVycy9t
Y2IvbWNiLWNvcmUuYwppbmRleCAzOGZiYjNiNTk4NzMuLmVkZjRlZTZlZmYyNSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9tY2IvbWNiLWNvcmUuYworKysgYi9kcml2ZXJzL21jYi9tY2ItY29yZS5jCkBA
IC03Nyw3ICs3Nyw3IEBAIHN0YXRpYyBpbnQgbWNiX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikK
IAlyZXR1cm4gcmV0OwogfQogCi1zdGF0aWMgaW50IG1jYl9yZW1vdmUoc3RydWN0IGRldmljZSAq
ZGV2KQorc3RhdGljIHZvaWQgbWNiX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3Ry
dWN0IG1jYl9kcml2ZXIgKm1kcnYgPSB0b19tY2JfZHJpdmVyKGRldi0+ZHJpdmVyKTsKIAlzdHJ1
Y3QgbWNiX2RldmljZSAqbWRldiA9IHRvX21jYl9kZXZpY2UoZGV2KTsKQEAgLTg5LDggKzg5LDYg
QEAgc3RhdGljIGludCBtY2JfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAltb2R1bGVfcHV0
KGNhcnJpZXJfbW9kKTsKIAogCXB1dF9kZXZpY2UoJm1kZXYtPmRldik7Ci0KLQlyZXR1cm4gMDsK
IH0KIAogc3RhdGljIHZvaWQgbWNiX3NodXRkb3duKHN0cnVjdCBkZXZpY2UgKmRldikKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvbWVkaWEvcGNpL2J0OHh4L2J0dHYtZ3Bpby5jIGIvZHJpdmVycy9tZWRp
YS9wY2kvYnQ4eHgvYnR0di1ncGlvLmMKaW5kZXggYjczMDIyNWNhODg3Li5hMmIxOGUyYmVkMWIg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWVkaWEvcGNpL2J0OHh4L2J0dHYtZ3Bpby5jCisrKyBiL2Ry
aXZlcnMvbWVkaWEvcGNpL2J0OHh4L2J0dHYtZ3Bpby5jCkBAIC00NiwxNCArNDYsMTMgQEAgc3Rh
dGljIGludCBidHR2X3N1Yl9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIHN1Yi0+
cHJvYmUgPyBzdWItPnByb2JlKHNkZXYpIDogLUVOT0RFVjsKIH0KIAotc3RhdGljIGludCBidHR2
X3N1Yl9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZvaWQgYnR0dl9zdWJfcmVt
b3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgYnR0dl9zdWJfZGV2aWNlICpzZGV2
ID0gdG9fYnR0dl9zdWJfZGV2KGRldik7CiAJc3RydWN0IGJ0dHZfc3ViX2RyaXZlciAqc3ViID0g
dG9fYnR0dl9zdWJfZHJ2KGRldi0+ZHJpdmVyKTsKIAogCWlmIChzdWItPnJlbW92ZSkKIAkJc3Vi
LT5yZW1vdmUoc2Rldik7Ci0JcmV0dXJuIDA7CiB9CiAKIHN0cnVjdCBidXNfdHlwZSBidHR2X3N1
Yl9idXNfdHlwZSA9IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWVtc3RpY2svY29yZS9tZW1zdGlj
ay5jIGIvZHJpdmVycy9tZW1zdGljay9jb3JlL21lbXN0aWNrLmMKaW5kZXggYmIxMDY1OTkwYWVi
Li42NjBkZjdkMjY5ZmEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWVtc3RpY2svY29yZS9tZW1zdGlj
ay5jCisrKyBiL2RyaXZlcnMvbWVtc3RpY2svY29yZS9tZW1zdGljay5jCkBAIC05MSw3ICs5MSw3
IEBAIHN0YXRpYyBpbnQgbWVtc3RpY2tfZGV2aWNlX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikK
IAlyZXR1cm4gcmM7CiB9CiAKLXN0YXRpYyBpbnQgbWVtc3RpY2tfZGV2aWNlX3JlbW92ZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBtZW1zdGlja19kZXZpY2VfcmVtb3ZlKHN0cnVj
dCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgbWVtc3RpY2tfZGV2ICpjYXJkID0gY29udGFpbmVy
X29mKGRldiwgc3RydWN0IG1lbXN0aWNrX2RldiwKIAkJCQkJCSAgZGV2KTsKQEAgLTEwNSw3ICsx
MDUsNiBAQCBzdGF0aWMgaW50IG1lbXN0aWNrX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAq
ZGV2KQogCX0KIAogCXB1dF9kZXZpY2UoZGV2KTsKLQlyZXR1cm4gMDsKIH0KIAogI2lmZGVmIENP
TkZJR19QTQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZmQvbWNwLWNvcmUuYyBiL2RyaXZlcnMvbWZk
L21jcC1jb3JlLmMKaW5kZXggZWZmOTQyM2U5MGY1Li4yZmE1OTJjMzdjNmYgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvbWZkL21jcC1jb3JlLmMKKysrIGIvZHJpdmVycy9tZmQvbWNwLWNvcmUuYwpAQCAt
MzMsMTMgKzMzLDEyIEBAIHN0YXRpYyBpbnQgbWNwX2J1c19wcm9iZShzdHJ1Y3QgZGV2aWNlICpk
ZXYpCiAJcmV0dXJuIGRydi0+cHJvYmUobWNwKTsKIH0KIAotc3RhdGljIGludCBtY3BfYnVzX3Jl
bW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBtY3BfYnVzX3JlbW92ZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IG1jcCAqbWNwID0gdG9fbWNwKGRldik7CiAJc3Ry
dWN0IG1jcF9kcml2ZXIgKmRydiA9IHRvX21jcF9kcml2ZXIoZGV2LT5kcml2ZXIpOwogCiAJZHJ2
LT5yZW1vdmUobWNwKTsKLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHN0cnVjdCBidXNfdHlwZSBt
Y3BfYnVzX3R5cGUgPSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL21pc2MvbWVpL2J1cy5jIGIvZHJp
dmVycy9taXNjL21laS9idXMuYwppbmRleCA5MzVhY2M2YmJmM2MuLjNiZjJiYjRmZDE1MiAxMDA2
NDQKLS0tIGEvZHJpdmVycy9taXNjL21laS9idXMuYworKysgYi9kcml2ZXJzL21pc2MvbWVpL2J1
cy5jCkBAIC04ODQsNyArODg0LDcgQEAgc3RhdGljIGludCBtZWlfY2xfZGV2aWNlX3Byb2JlKHN0
cnVjdCBkZXZpY2UgKmRldikKICAqCiAgKiBSZXR1cm46ICAwIG9uIHN1Y2Nlc3M7IDwgMCBvdGhl
cndpc2UKICAqLwotc3RhdGljIGludCBtZWlfY2xfZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNl
ICpkZXYpCitzdGF0aWMgdm9pZCBtZWlfY2xfZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpk
ZXYpCiB7CiAJc3RydWN0IG1laV9jbF9kZXZpY2UgKmNsZGV2ID0gdG9fbWVpX2NsX2RldmljZShk
ZXYpOwogCXN0cnVjdCBtZWlfY2xfZHJpdmVyICpjbGRydiA9IHRvX21laV9jbF9kcml2ZXIoZGV2
LT5kcml2ZXIpOwpAQCAtODk2LDggKzg5Niw2IEBAIHN0YXRpYyBpbnQgbWVpX2NsX2RldmljZV9y
ZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCiAJbWVpX2NsX2J1c19tb2R1bGVfcHV0KGNsZGV2
KTsKIAltb2R1bGVfcHV0KFRISVNfTU9EVUxFKTsKLQotCXJldHVybiAwOwogfQogCiBzdGF0aWMg
c3NpemVfdCBuYW1lX3Nob3coc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgZGV2aWNlX2F0dHJp
YnV0ZSAqYSwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWlzYy90aWZtX2NvcmUuYyBiL2RyaXZlcnMv
bWlzYy90aWZtX2NvcmUuYwppbmRleCA2NjdlNTc0YTdkZjIuLjUyNjU2ZmM4N2U5OSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9taXNjL3RpZm1fY29yZS5jCisrKyBiL2RyaXZlcnMvbWlzYy90aWZtX2Nv
cmUuYwpAQCAtODcsNyArODcsNyBAQCBzdGF0aWMgdm9pZCB0aWZtX2R1bW15X2V2ZW50KHN0cnVj
dCB0aWZtX2RldiAqc29jaykKIAlyZXR1cm47CiB9CiAKLXN0YXRpYyBpbnQgdGlmbV9kZXZpY2Vf
cmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHRpZm1fZGV2aWNlX3JlbW92
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHRpZm1fZGV2ICpzb2NrID0gY29udGFp
bmVyX29mKGRldiwgc3RydWN0IHRpZm1fZGV2LCBkZXYpOwogCXN0cnVjdCB0aWZtX2RyaXZlciAq
ZHJ2ID0gY29udGFpbmVyX29mKGRldi0+ZHJpdmVyLCBzdHJ1Y3QgdGlmbV9kcml2ZXIsCkBAIC0x
MDEsNyArMTAxLDYgQEAgc3RhdGljIGludCB0aWZtX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmlj
ZSAqZGV2KQogCX0KIAogCXB1dF9kZXZpY2UoZGV2KTsKLQlyZXR1cm4gMDsKIH0KIAogI2lmZGVm
IENPTkZJR19QTQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9tbWMvY29yZS9idXMuYyBiL2RyaXZlcnMv
bW1jL2NvcmUvYnVzLmMKaW5kZXggNDM4M2MyNjJiM2Y1Li5mNmI3YTljNWJiZmYgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvbW1jL2NvcmUvYnVzLmMKKysrIGIvZHJpdmVycy9tbWMvY29yZS9idXMuYwpA
QCAtMTQwLDE0ICsxNDAsMTIgQEAgc3RhdGljIGludCBtbWNfYnVzX3Byb2JlKHN0cnVjdCBkZXZp
Y2UgKmRldikKIAlyZXR1cm4gZHJ2LT5wcm9iZShjYXJkKTsKIH0KIAotc3RhdGljIGludCBtbWNf
YnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBtbWNfYnVzX3JlbW92
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IG1tY19kcml2ZXIgKmRydiA9IHRvX21t
Y19kcml2ZXIoZGV2LT5kcml2ZXIpOwogCXN0cnVjdCBtbWNfY2FyZCAqY2FyZCA9IG1tY19kZXZf
dG9fY2FyZChkZXYpOwogCiAJZHJ2LT5yZW1vdmUoY2FyZCk7Ci0KLQlyZXR1cm4gMDsKIH0KIAog
c3RhdGljIHZvaWQgbW1jX2J1c19zaHV0ZG93bihzdHJ1Y3QgZGV2aWNlICpkZXYpCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL21tYy9jb3JlL3NkaW9fYnVzLmMgYi9kcml2ZXJzL21tYy9jb3JlL3NkaW9f
YnVzLmMKaW5kZXggM2Q3MDkwMjllMDdjLi5mZGEwM2IzNWMxNGEgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvbW1jL2NvcmUvc2Rpb19idXMuYworKysgYi9kcml2ZXJzL21tYy9jb3JlL3NkaW9fYnVzLmMK
QEAgLTIwMyw3ICsyMDMsNyBAQCBzdGF0aWMgaW50IHNkaW9fYnVzX3Byb2JlKHN0cnVjdCBkZXZp
Y2UgKmRldikKIAlyZXR1cm4gcmV0OwogfQogCi1zdGF0aWMgaW50IHNkaW9fYnVzX3JlbW92ZShz
dHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBzZGlvX2J1c19yZW1vdmUoc3RydWN0IGRl
dmljZSAqZGV2KQogewogCXN0cnVjdCBzZGlvX2RyaXZlciAqZHJ2ID0gdG9fc2Rpb19kcml2ZXIo
ZGV2LT5kcml2ZXIpOwogCXN0cnVjdCBzZGlvX2Z1bmMgKmZ1bmMgPSBkZXZfdG9fc2Rpb19mdW5j
KGRldik7CkBAIC0yMzIsOCArMjMyLDYgQEAgc3RhdGljIGludCBzZGlvX2J1c19yZW1vdmUoc3Ry
dWN0IGRldmljZSAqZGV2KQogCQlwbV9ydW50aW1lX3B1dF9zeW5jKGRldik7CiAKIAlkZXZfcG1f
ZG9tYWluX2RldGFjaChkZXYsIGZhbHNlKTsKLQotCXJldHVybiAwOwogfQogCiBzdGF0aWMgY29u
c3Qgc3RydWN0IGRldl9wbV9vcHMgc2Rpb19idXNfcG1fb3BzID0gewpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9uZXQvbmV0ZGV2c2ltL2J1cy5jIGIvZHJpdmVycy9uZXQvbmV0ZGV2c2ltL2J1cy5jCmlu
ZGV4IGNjZWMyOTk3MGQ1Yi4uMTRiMTU0OTI5NTMzIDEwMDY0NAotLS0gYS9kcml2ZXJzL25ldC9u
ZXRkZXZzaW0vYnVzLmMKKysrIGIvZHJpdmVycy9uZXQvbmV0ZGV2c2ltL2J1cy5jCkBAIC0zNzAs
MTIgKzM3MCwxMSBAQCBzdGF0aWMgaW50IG5zaW1fYnVzX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRl
dikKIAlyZXR1cm4gbnNpbV9kZXZfcHJvYmUobnNpbV9idXNfZGV2KTsKIH0KIAotc3RhdGljIGlu
dCBuc2ltX2J1c19yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZvaWQgbnNpbV9i
dXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgbnNpbV9idXNfZGV2ICpu
c2ltX2J1c19kZXYgPSB0b19uc2ltX2J1c19kZXYoZGV2KTsKIAogCW5zaW1fZGV2X3JlbW92ZShu
c2ltX2J1c19kZXYpOwotCXJldHVybiAwOwogfQogCiBzdGF0aWMgaW50IG5zaW1fbnVtX3ZmKHN0
cnVjdCBkZXZpY2UgKmRldikKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbnRiL2NvcmUuYyBiL2RyaXZl
cnMvbnRiL2NvcmUuYwppbmRleCBmOGY3NWE1MDRhNTguLjI3ZGQ5M2RlZmY2ZSAxMDA2NDQKLS0t
IGEvZHJpdmVycy9udGIvY29yZS5jCisrKyBiL2RyaXZlcnMvbnRiL2NvcmUuYwpAQCAtMjcxLDcg
KzI3MSw3IEBAIHN0YXRpYyBpbnQgbnRiX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1
cm4gcmM7CiB9CiAKLXN0YXRpYyBpbnQgbnRiX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitz
dGF0aWMgdm9pZCBudGJfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgbnRi
X2RldiAqbnRiOwogCXN0cnVjdCBudGJfY2xpZW50ICpjbGllbnQ7CkBAIC0yODMsOCArMjgzLDYg
QEAgc3RhdGljIGludCBudGJfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAkJY2xpZW50LT5v
cHMucmVtb3ZlKGNsaWVudCwgbnRiKTsKIAkJcHV0X2RldmljZShkZXYpOwogCX0KLQotCXJldHVy
biAwOwogfQogCiBzdGF0aWMgdm9pZCBudGJfZGV2X3JlbGVhc2Uoc3RydWN0IGRldmljZSAqZGV2
KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9udGIvbnRiX3RyYW5zcG9ydC5jIGIvZHJpdmVycy9udGIv
bnRiX3RyYW5zcG9ydC5jCmluZGV4IDRhMDI1NjFjZmI5Ni4uYTliOTdlYmM3MWFjIDEwMDY0NAot
LS0gYS9kcml2ZXJzL250Yi9udGJfdHJhbnNwb3J0LmMKKysrIGIvZHJpdmVycy9udGIvbnRiX3Ry
YW5zcG9ydC5jCkBAIC0zMDQsNyArMzA0LDcgQEAgc3RhdGljIGludCBudGJfdHJhbnNwb3J0X2J1
c19wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIHJjOwogfQogCi1zdGF0aWMgaW50
IG50Yl90cmFuc3BvcnRfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9p
ZCBudGJfdHJhbnNwb3J0X2J1c19yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCWNvbnN0
IHN0cnVjdCBudGJfdHJhbnNwb3J0X2NsaWVudCAqY2xpZW50OwogCkBAIC0zMTIsOCArMzEyLDYg
QEAgc3RhdGljIGludCBudGJfdHJhbnNwb3J0X2J1c19yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2
KQogCWNsaWVudC0+cmVtb3ZlKGRldik7CiAKIAlwdXRfZGV2aWNlKGRldik7Ci0KLQlyZXR1cm4g
MDsKIH0KIAogc3RhdGljIHN0cnVjdCBidXNfdHlwZSBudGJfdHJhbnNwb3J0X2J1cyA9IHsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvbnVidXMvYnVzLmMgYi9kcml2ZXJzL251YnVzL2J1cy5jCmluZGV4
IGFkM2QxN2M0MmUyMy4uZDlkMDRmMjdmODliIDEwMDY0NAotLS0gYS9kcml2ZXJzL251YnVzL2J1
cy5jCisrKyBiL2RyaXZlcnMvbnVidXMvYnVzLmMKQEAgLTI5LDE0ICsyOSwxMiBAQCBzdGF0aWMg
aW50IG51YnVzX2RldmljZV9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIGVycjsK
IH0KIAotc3RhdGljIGludCBudWJ1c19kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikK
K3N0YXRpYyB2b2lkIG51YnVzX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewog
CXN0cnVjdCBudWJ1c19kcml2ZXIgKm5kcnYgPSB0b19udWJ1c19kcml2ZXIoZGV2LT5kcml2ZXIp
OwotCWludCBlcnIgPSAtRU5PREVWOwogCiAJaWYgKGRldi0+ZHJpdmVyICYmIG5kcnYtPnJlbW92
ZSkKLQkJZXJyID0gbmRydi0+cmVtb3ZlKHRvX251YnVzX2JvYXJkKGRldikpOwotCXJldHVybiBl
cnI7CisJCW5kcnYtPnJlbW92ZSh0b19udWJ1c19ib2FyZChkZXYpKTsKIH0KIAogc3RydWN0IGJ1
c190eXBlIG51YnVzX2J1c190eXBlID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9udmRpbW0vYnVz
LmMgYi9kcml2ZXJzL252ZGltbS9idXMuYwppbmRleCBlNmFhODcwNDNhOTUuLjlkYzdmM2VkZDQy
YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9udmRpbW0vYnVzLmMKKysrIGIvZHJpdmVycy9udmRpbW0v
YnVzLmMKQEAgLTEwOCw3ICsxMDgsNyBAQCBzdGF0aWMgaW50IG52ZGltbV9idXNfcHJvYmUoc3Ry
dWN0IGRldmljZSAqZGV2KQogCXJldHVybiByYzsKIH0KIAotc3RhdGljIGludCBudmRpbW1fYnVz
X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBudmRpbW1fYnVzX3JlbW92
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IG5kX2RldmljZV9kcml2ZXIgKm5kX2Ry
diA9IHRvX25kX2RldmljZV9kcml2ZXIoZGV2LT5kcml2ZXIpOwogCXN0cnVjdCBtb2R1bGUgKnBy
b3ZpZGVyID0gdG9fYnVzX3Byb3ZpZGVyKGRldik7CkBAIC0xMjMsNyArMTIzLDYgQEAgc3RhdGlj
IGludCBudmRpbW1fYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJZGV2X2RiZygmbnZk
aW1tX2J1cy0+ZGV2LCAiJXMucmVtb3ZlKCVzKVxuIiwgZGV2LT5kcml2ZXItPm5hbWUsCiAJCQlk
ZXZfbmFtZShkZXYpKTsKIAltb2R1bGVfcHV0KHByb3ZpZGVyKTsKLQlyZXR1cm4gMDsKIH0KIAog
c3RhdGljIHZvaWQgbnZkaW1tX2J1c19zaHV0ZG93bihzdHJ1Y3QgZGV2aWNlICpkZXYpCmRpZmYg
LS1naXQgYS9kcml2ZXJzL3BjaS9lbmRwb2ludC9wY2ktZXBmLWNvcmUuYyBiL2RyaXZlcnMvcGNp
L2VuZHBvaW50L3BjaS1lcGYtY29yZS5jCmluZGV4IDRiOWFkOTZiZjFiMi4uNTAyZWI3OWNkNTUx
IDEwMDY0NAotLS0gYS9kcml2ZXJzL3BjaS9lbmRwb2ludC9wY2ktZXBmLWNvcmUuYworKysgYi9k
cml2ZXJzL3BjaS9lbmRwb2ludC9wY2ktZXBmLWNvcmUuYwpAQCAtMzg3LDcgKzM4Nyw3IEBAIHN0
YXRpYyBpbnQgcGNpX2VwZl9kZXZpY2VfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2KQogCXJldHVy
biBkcml2ZXItPnByb2JlKGVwZik7CiB9CiAKLXN0YXRpYyBpbnQgcGNpX2VwZl9kZXZpY2VfcmVt
b3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHBjaV9lcGZfZGV2aWNlX3JlbW92
ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHBjaV9lcGYgKmVwZiA9IHRvX3BjaV9l
cGYoZGV2KTsKIAlzdHJ1Y3QgcGNpX2VwZl9kcml2ZXIgKmRyaXZlciA9IHRvX3BjaV9lcGZfZHJp
dmVyKGRldi0+ZHJpdmVyKTsKQEAgLTM5NSw4ICszOTUsNiBAQCBzdGF0aWMgaW50IHBjaV9lcGZf
ZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJaWYgKGRyaXZlci0+cmVtb3ZlKQog
CQlkcml2ZXItPnJlbW92ZShlcGYpOwogCWVwZi0+ZHJpdmVyID0gTlVMTDsKLQotCXJldHVybiAw
OwogfQogCiBzdGF0aWMgc3RydWN0IGJ1c190eXBlIHBjaV9lcGZfYnVzX3R5cGUgPSB7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL3BjaS9wY2ktZHJpdmVyLmMgYi9kcml2ZXJzL3BjaS9wY2ktZHJpdmVy
LmMKaW5kZXggM2E3MjM1MmFhNWNmLi5hMDYxNTM5NTUwMGEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
cGNpL3BjaS1kcml2ZXIuYworKysgYi9kcml2ZXJzL3BjaS9wY2ktZHJpdmVyLmMKQEAgLTQ0MCw3
ICs0NDAsNyBAQCBzdGF0aWMgaW50IHBjaV9kZXZpY2VfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2
KQogCXJldHVybiBlcnJvcjsKIH0KIAotc3RhdGljIGludCBwY2lfZGV2aWNlX3JlbW92ZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBwY2lfZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2
aWNlICpkZXYpCiB7CiAJc3RydWN0IHBjaV9kZXYgKnBjaV9kZXYgPSB0b19wY2lfZGV2KGRldik7
CiAJc3RydWN0IHBjaV9kcml2ZXIgKmRydiA9IHBjaV9kZXYtPmRyaXZlcjsKQEAgLTQ3Niw3ICs0
NzYsNiBAQCBzdGF0aWMgaW50IHBjaV9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikK
IAkgKi8KIAogCXBjaV9kZXZfcHV0KHBjaV9kZXYpOwotCXJldHVybiAwOwogfQogCiBzdGF0aWMg
dm9pZCBwY2lfZGV2aWNlX3NodXRkb3duKHN0cnVjdCBkZXZpY2UgKmRldikKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvcGNtY2lhL2RzLmMgYi9kcml2ZXJzL3BjbWNpYS9kcy5jCmluZGV4IGJkODFhYTY0
ZDAxMS4uNWJkMWI4MDQyNGU3IDEwMDY0NAotLS0gYS9kcml2ZXJzL3BjbWNpYS9kcy5jCisrKyBi
L2RyaXZlcnMvcGNtY2lhL2RzLmMKQEAgLTM1MCw3ICszNTAsNyBAQCBzdGF0aWMgdm9pZCBwY21j
aWFfY2FyZF9yZW1vdmUoc3RydWN0IHBjbWNpYV9zb2NrZXQgKnMsIHN0cnVjdCBwY21jaWFfZGV2
aWNlICpsZQogCXJldHVybjsKIH0KIAotc3RhdGljIGludCBwY21jaWFfZGV2aWNlX3JlbW92ZShz
dHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBwY21jaWFfZGV2aWNlX3JlbW92ZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHBjbWNpYV9kZXZpY2UgKnBfZGV2OwogCXN0cnVj
dCBwY21jaWFfZHJpdmVyICpwX2RydjsKQEAgLTM4OSw4ICszODksNiBAQCBzdGF0aWMgaW50IHBj
bWNpYV9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAkvKiByZWZlcmVuY2VzIGZy
b20gcGNtY2lhX2RldmljZV9wcm9iZSAqLwogCXBjbWNpYV9wdXRfZGV2KHBfZGV2KTsKIAltb2R1
bGVfcHV0KHBfZHJ2LT5vd25lcik7Ci0KLQlyZXR1cm4gMDsKIH0KIAogCmRpZmYgLS1naXQgYS9k
cml2ZXJzL3BsYXRmb3JtL3N1cmZhY2UvYWdncmVnYXRvci9idXMuYyBiL2RyaXZlcnMvcGxhdGZv
cm0vc3VyZmFjZS9hZ2dyZWdhdG9yL2J1cy5jCmluZGV4IDAxNjk2NzdjMjQzZS4uMGE0MGRkOWM5
NGVkIDEwMDY0NAotLS0gYS9kcml2ZXJzL3BsYXRmb3JtL3N1cmZhY2UvYWdncmVnYXRvci9idXMu
YworKysgYi9kcml2ZXJzL3BsYXRmb3JtL3N1cmZhY2UvYWdncmVnYXRvci9idXMuYwpAQCAtMzE2
LDE0ICszMTYsMTIgQEAgc3RhdGljIGludCBzc2FtX2J1c19wcm9iZShzdHJ1Y3QgZGV2aWNlICpk
ZXYpCiAJCS0+cHJvYmUodG9fc3NhbV9kZXZpY2UoZGV2KSk7CiB9CiAKLXN0YXRpYyBpbnQgc3Nh
bV9idXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHNzYW1fYnVzX3Jl
bW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHNzYW1fZGV2aWNlX2RyaXZlciAq
c2RydiA9IHRvX3NzYW1fZGV2aWNlX2RyaXZlcihkZXYtPmRyaXZlcik7CiAKIAlpZiAoc2Rydi0+
cmVtb3ZlKQogCQlzZHJ2LT5yZW1vdmUodG9fc3NhbV9kZXZpY2UoZGV2KSk7Ci0KLQlyZXR1cm4g
MDsKIH0KIAogc3RydWN0IGJ1c190eXBlIHNzYW1fYnVzX3R5cGUgPSB7CmRpZmYgLS1naXQgYS9k
cml2ZXJzL3BsYXRmb3JtL3g4Ni93bWkuYyBiL2RyaXZlcnMvcGxhdGZvcm0veDg2L3dtaS5jCmlu
ZGV4IDYyZTBkNTZhMzMzMi4uYTc2MzEzMDA2YmRjIDEwMDY0NAotLS0gYS9kcml2ZXJzL3BsYXRm
b3JtL3g4Ni93bWkuYworKysgYi9kcml2ZXJzL3BsYXRmb3JtL3g4Ni93bWkuYwpAQCAtOTgwLDcg
Kzk4MCw3IEBAIHN0YXRpYyBpbnQgd21pX2Rldl9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJ
cmV0dXJuIHJldDsKIH0KIAotc3RhdGljIGludCB3bWlfZGV2X3JlbW92ZShzdHJ1Y3QgZGV2aWNl
ICpkZXYpCitzdGF0aWMgdm9pZCB3bWlfZGV2X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7
CiAJc3RydWN0IHdtaV9ibG9jayAqd2Jsb2NrID0gZGV2X3RvX3dibG9jayhkZXYpOwogCXN0cnVj
dCB3bWlfZHJpdmVyICp3ZHJpdmVyID0KQEAgLTk5Nyw4ICs5OTcsNiBAQCBzdGF0aWMgaW50IHdt
aV9kZXZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAogCWlmIChBQ1BJX0ZBSUxVUkUod21p
X21ldGhvZF9lbmFibGUod2Jsb2NrLCAwKSkpCiAJCWRldl93YXJuKGRldiwgImZhaWxlZCB0byBk
aXNhYmxlIGRldmljZVxuIik7Ci0KLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHN0cnVjdCBjbGFz
cyB3bWlfYnVzX2NsYXNzID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9wbnAvZHJpdmVyLmMgYi9k
cml2ZXJzL3BucC9kcml2ZXIuYwppbmRleCBjMjlkNTkwYzVlNGYuLmNjNjc1N2RmYTNmMSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9wbnAvZHJpdmVyLmMKKysrIGIvZHJpdmVycy9wbnAvZHJpdmVyLmMK
QEAgLTEyMyw3ICsxMjMsNyBAQCBzdGF0aWMgaW50IHBucF9kZXZpY2VfcHJvYmUoc3RydWN0IGRl
dmljZSAqZGV2KQogCXJldHVybiBlcnJvcjsKIH0KIAotc3RhdGljIGludCBwbnBfZGV2aWNlX3Jl
bW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBwbnBfZGV2aWNlX3JlbW92ZShz
dHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHBucF9kZXYgKnBucF9kZXYgPSB0b19wbnBf
ZGV2KGRldik7CiAJc3RydWN0IHBucF9kcml2ZXIgKmRydiA9IHBucF9kZXYtPmRyaXZlcjsKQEAg
LTEzOSw3ICsxMzksNiBAQCBzdGF0aWMgaW50IHBucF9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZp
Y2UgKmRldikKIAkJcG5wX2Rpc2FibGVfZGV2KHBucF9kZXYpOwogCiAJcG5wX2RldmljZV9kZXRh
Y2gocG5wX2Rldik7Ci0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyB2b2lkIHBucF9kZXZpY2Vfc2h1
dGRvd24oc3RydWN0IGRldmljZSAqZGV2KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9yYXBpZGlvL3Jp
by1kcml2ZXIuYyBiL2RyaXZlcnMvcmFwaWRpby9yaW8tZHJpdmVyLmMKaW5kZXggNzI4NzQxNTM5
NzJlLi5hNzJiYjBhNDBmY2YgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvcmFwaWRpby9yaW8tZHJpdmVy
LmMKKysrIGIvZHJpdmVycy9yYXBpZGlvL3Jpby1kcml2ZXIuYwpAQCAtMTEyLDcgKzExMiw3IEBA
IHN0YXRpYyBpbnQgcmlvX2RldmljZV9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAgKiBkcml2
ZXIsIHRoZW4gcnVuIHRoZSBkcml2ZXIgcmVtb3ZlKCkgbWV0aG9kLiAgVGhlbiB1cGRhdGUKICAq
IHRoZSByZWZlcmVuY2UgY291bnQuCiAgKi8KLXN0YXRpYyBpbnQgcmlvX2RldmljZV9yZW1vdmUo
c3RydWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZvaWQgcmlvX2RldmljZV9yZW1vdmUoc3RydWN0
IGRldmljZSAqZGV2KQogewogCXN0cnVjdCByaW9fZGV2ICpyZGV2ID0gdG9fcmlvX2RldihkZXYp
OwogCXN0cnVjdCByaW9fZHJpdmVyICpyZHJ2ID0gcmRldi0+ZHJpdmVyOwpAQCAtMTI0LDggKzEy
NCw2IEBAIHN0YXRpYyBpbnQgcmlvX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQog
CX0KIAogCXJpb19kZXZfcHV0KHJkZXYpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyB2b2lk
IHJpb19kZXZpY2Vfc2h1dGRvd24oc3RydWN0IGRldmljZSAqZGV2KQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ycG1zZy9ycG1zZ19jb3JlLmMgYi9kcml2ZXJzL3JwbXNnL3JwbXNnX2NvcmUuYwppbmRl
eCBjMTQwNGQzZGFlMmMuLjkxNTE4MzYxOTBjZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ycG1zZy9y
cG1zZ19jb3JlLmMKKysrIGIvZHJpdmVycy9ycG1zZy9ycG1zZ19jb3JlLmMKQEAgLTUzMCwxNCAr
NTMwLDEzIEBAIHN0YXRpYyBpbnQgcnBtc2dfZGV2X3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikK
IAlyZXR1cm4gZXJyOwogfQogCi1zdGF0aWMgaW50IHJwbXNnX2Rldl9yZW1vdmUoc3RydWN0IGRl
dmljZSAqZGV2KQorc3RhdGljIHZvaWQgcnBtc2dfZGV2X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpk
ZXYpCiB7CiAJc3RydWN0IHJwbXNnX2RldmljZSAqcnBkZXYgPSB0b19ycG1zZ19kZXZpY2UoZGV2
KTsKIAlzdHJ1Y3QgcnBtc2dfZHJpdmVyICpycGRydiA9IHRvX3JwbXNnX2RyaXZlcihycGRldi0+
ZGV2LmRyaXZlcik7Ci0JaW50IGVyciA9IDA7CiAKIAlpZiAocnBkZXYtPm9wcy0+YW5ub3VuY2Vf
ZGVzdHJveSkKLQkJZXJyID0gcnBkZXYtPm9wcy0+YW5ub3VuY2VfZGVzdHJveShycGRldik7CisJ
CXJwZGV2LT5vcHMtPmFubm91bmNlX2Rlc3Ryb3kocnBkZXYpOwogCiAJaWYgKHJwZHJ2LT5yZW1v
dmUpCiAJCXJwZHJ2LT5yZW1vdmUocnBkZXYpOwpAQCAtNTQ2LDggKzU0NSw2IEBAIHN0YXRpYyBp
bnQgcnBtc2dfZGV2X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAKIAlpZiAocnBkZXYtPmVw
dCkKIAkJcnBtc2dfZGVzdHJveV9lcHQocnBkZXYtPmVwdCk7Ci0KLQlyZXR1cm4gZXJyOwogfQog
CiBzdGF0aWMgc3RydWN0IGJ1c190eXBlIHJwbXNnX2J1cyA9IHsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvczM5MC9jaW8vY2N3Z3JvdXAuYyBiL2RyaXZlcnMvczM5MC9jaW8vY2N3Z3JvdXAuYwppbmRl
eCBhNmFlYWIxZWEwYWUuLjM4MmM1YjVmOGNkMyAxMDA2NDQKLS0tIGEvZHJpdmVycy9zMzkwL2Np
by9jY3dncm91cC5jCisrKyBiL2RyaXZlcnMvczM5MC9jaW8vY2N3Z3JvdXAuYwpAQCAtNDM5LDE1
ICs0MzksMTMgQEAgbW9kdWxlX2V4aXQoY2xlYW51cF9jY3dncm91cCk7CiAKIC8qKioqKioqKioq
KioqKioqKioqKioqKioqKiBkcml2ZXIgc3R1ZmYgKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqLwogCi1zdGF0aWMgaW50IGNjd2dyb3VwX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitz
dGF0aWMgdm9pZCBjY3dncm91cF9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVj
dCBjY3dncm91cF9kZXZpY2UgKmdkZXYgPSB0b19jY3dncm91cGRldihkZXYpOwogCXN0cnVjdCBj
Y3dncm91cF9kcml2ZXIgKmdkcnYgPSB0b19jY3dncm91cGRydihkZXYtPmRyaXZlcik7CiAKIAlp
ZiAoZ2Rydi0+cmVtb3ZlKQogCQlnZHJ2LT5yZW1vdmUoZ2Rldik7Ci0KLQlyZXR1cm4gMDsKIH0K
IAogc3RhdGljIHZvaWQgY2N3Z3JvdXBfc2h1dGRvd24oc3RydWN0IGRldmljZSAqZGV2KQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9zMzkwL2Npby9jc3MuYyBiL2RyaXZlcnMvczM5MC9jaW8vY3NzLmMK
aW5kZXggMDkyZmQxZWE1Nzk5Li5lYmMzMjFlZGJhNTEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvczM5
MC9jaW8vY3NzLmMKKysrIGIvZHJpdmVycy9zMzkwL2Npby9jc3MuYwpAQCAtMTM3MSw3ICsxMzcx
LDcgQEAgc3RhdGljIGludCBjc3NfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2KQogCXJldHVybiBy
ZXQ7CiB9CiAKLXN0YXRpYyBpbnQgY3NzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0
aWMgdm9pZCBjc3NfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3Qgc3ViY2hh
bm5lbCAqc2NoOwogCkBAIC0xMzc5LDggKzEzNzksNiBAQCBzdGF0aWMgaW50IGNzc19yZW1vdmUo
c3RydWN0IGRldmljZSAqZGV2KQogCWlmIChzY2gtPmRyaXZlci0+cmVtb3ZlKQogCQlzY2gtPmRy
aXZlci0+cmVtb3ZlKHNjaCk7CiAJc2NoLT5kcml2ZXIgPSBOVUxMOwotCi0JcmV0dXJuIDA7CiB9
CiAKIHN0YXRpYyB2b2lkIGNzc19zaHV0ZG93bihzdHJ1Y3QgZGV2aWNlICpkZXYpCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL3MzOTAvY2lvL2RldmljZS5jIGIvZHJpdmVycy9zMzkwL2Npby9kZXZpY2Uu
YwppbmRleCBjZDVkMmQ0ZDhlNDYuLmFkZjMzYjY1M2Q4NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9z
MzkwL2Npby9kZXZpY2UuYworKysgYi9kcml2ZXJzL3MzOTAvY2lvL2RldmljZS5jCkBAIC0xNzQx
LDcgKzE3NDEsNyBAQCBjY3dfZGV2aWNlX3Byb2JlIChzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0
dXJuIDA7CiB9CiAKLXN0YXRpYyBpbnQgY2N3X2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAq
ZGV2KQorc3RhdGljIHZvaWQgY2N3X2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQog
ewogCXN0cnVjdCBjY3dfZGV2aWNlICpjZGV2ID0gdG9fY2N3ZGV2KGRldik7CiAJc3RydWN0IGNj
d19kcml2ZXIgKmNkcnYgPSBjZGV2LT5kcnY7CkBAIC0xNzc1LDggKzE3NzUsNiBAQCBzdGF0aWMg
aW50IGNjd19kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlzcGluX3VubG9ja19p
cnEoY2Rldi0+Y2N3bG9jayk7CiAJaW9fc3ViY2hhbm5lbF9xdWllc2NlKHNjaCk7CiAJX19kaXNh
YmxlX2NtZihjZGV2KTsKLQotCXJldHVybiAwOwogfQogCiBzdGF0aWMgdm9pZCBjY3dfZGV2aWNl
X3NodXRkb3duKHN0cnVjdCBkZXZpY2UgKmRldikKZGlmZiAtLWdpdCBhL2RyaXZlcnMvczM5MC9j
aW8vc2NtLmMgYi9kcml2ZXJzL3MzOTAvY2lvL3NjbS5jCmluZGV4IGIzMTcxMTMwN2U1YS4uYjZi
NDU4OWM3MGJkIDEwMDY0NAotLS0gYS9kcml2ZXJzL3MzOTAvY2lvL3NjbS5jCisrKyBiL2RyaXZl
cnMvczM5MC9jaW8vc2NtLmMKQEAgLTI4LDE1ICsyOCwxMyBAQCBzdGF0aWMgaW50IHNjbWRldl9w
cm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIHNjbWRydi0+cHJvYmUgPyBzY21kcnYt
PnByb2JlKHNjbWRldikgOiAtRU5PREVWOwogfQogCi1zdGF0aWMgaW50IHNjbWRldl9yZW1vdmUo
c3RydWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZvaWQgc2NtZGV2X3JlbW92ZShzdHJ1Y3QgZGV2
aWNlICpkZXYpCiB7CiAJc3RydWN0IHNjbV9kZXZpY2UgKnNjbWRldiA9IHRvX3NjbV9kZXYoZGV2
KTsKIAlzdHJ1Y3Qgc2NtX2RyaXZlciAqc2NtZHJ2ID0gdG9fc2NtX2RydihkZXYtPmRyaXZlcik7
CiAKIAlpZiAoc2NtZHJ2LT5yZW1vdmUpCiAJCXNjbWRydi0+cmVtb3ZlKHNjbWRldik7Ci0KLQly
ZXR1cm4gMDsKIH0KIAogc3RhdGljIGludCBzY21kZXZfdWV2ZW50KHN0cnVjdCBkZXZpY2UgKmRl
diwgc3RydWN0IGtvYmpfdWV2ZW50X2VudiAqZW52KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zMzkw
L2NyeXB0by9hcF9idXMuYyBiL2RyaXZlcnMvczM5MC9jcnlwdG8vYXBfYnVzLmMKaW5kZXggOGQz
YTFkODRhNzU3Li4wOTkyZWRjYWYxYWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvczM5MC9jcnlwdG8v
YXBfYnVzLmMKKysrIGIvZHJpdmVycy9zMzkwL2NyeXB0by9hcF9idXMuYwpAQCAtOTAxLDcgKzkw
MSw3IEBAIHN0YXRpYyBpbnQgYXBfZGV2aWNlX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAly
ZXR1cm4gcmM7CiB9CiAKLXN0YXRpYyBpbnQgYXBfZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNl
ICpkZXYpCitzdGF0aWMgdm9pZCBhcF9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikK
IHsKIAlzdHJ1Y3QgYXBfZGV2aWNlICphcF9kZXYgPSB0b19hcF9kZXYoZGV2KTsKIAlzdHJ1Y3Qg
YXBfZHJpdmVyICphcF9kcnYgPSBhcF9kZXYtPmRydjsKQEAgLTkyNiw4ICs5MjYsNiBAQCBzdGF0
aWMgaW50IGFwX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCWFwX2Rldi0+ZHJ2
ID0gTlVMTDsKIAogCXB1dF9kZXZpY2UoZGV2KTsKLQotCXJldHVybiAwOwogfQogCiBzdHJ1Y3Qg
YXBfcXVldWUgKmFwX2dldF9xZGV2KGFwX3FpZF90IHFpZCkKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
c2NzaS9zY3NpX2RlYnVnLmMgYi9kcml2ZXJzL3Njc2kvc2NzaV9kZWJ1Zy5jCmluZGV4IDViM2Ey
MGExNDBmOS4uNThmNjkzNjZiZGNjIDEwMDY0NAotLS0gYS9kcml2ZXJzL3Njc2kvc2NzaV9kZWJ1
Zy5jCisrKyBiL2RyaXZlcnMvc2NzaS9zY3NpX2RlYnVnLmMKQEAgLTc2NzQsNyArNzY3NCw3IEBA
IHN0YXRpYyBpbnQgc2RlYnVnX2RyaXZlcl9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0
dXJuIGVycm9yOwogfQogCi1zdGF0aWMgaW50IHNkZWJ1Z19kcml2ZXJfcmVtb3ZlKHN0cnVjdCBk
ZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHNkZWJ1Z19kcml2ZXJfcmVtb3ZlKHN0cnVjdCBkZXZp
Y2UgKmRldikKIHsKIAlzdHJ1Y3Qgc2RlYnVnX2hvc3RfaW5mbyAqc2RiZ19ob3N0OwogCXN0cnVj
dCBzZGVidWdfZGV2X2luZm8gKnNkYmdfZGV2aW5mbywgKnRtcDsKQEAgLTc2OTEsNyArNzY5MSw2
IEBAIHN0YXRpYyBpbnQgc2RlYnVnX2RyaXZlcl9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQog
CX0KIAogCXNjc2lfaG9zdF9wdXQoc2RiZ19ob3N0LT5zaG9zdCk7Ci0JcmV0dXJuIDA7CiB9CiAK
IHN0YXRpYyBpbnQgcHNldWRvX2xsZF9idXNfbWF0Y2goc3RydWN0IGRldmljZSAqZGV2LApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9zaC9zdXBlcmh5d2F5L3N1cGVyaHl3YXkuYyBiL2RyaXZlcnMvc2gv
c3VwZXJoeXdheS9zdXBlcmh5d2F5LmMKaW5kZXggMzQ4ODM2YjkwNjA1Li5jMGFiOTA0Yzc2ZWMg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc2gvc3VwZXJoeXdheS9zdXBlcmh5d2F5LmMKKysrIGIvZHJp
dmVycy9zaC9zdXBlcmh5d2F5L3N1cGVyaHl3YXkuYwpAQCAtMTUwLDE3ICsxNTAsMTMgQEAgc3Rh
dGljIGludCBzdXBlcmh5d2F5X2RldmljZV9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0
dXJuIC1FTk9ERVY7CiB9CiAKLXN0YXRpYyBpbnQgc3VwZXJoeXdheV9kZXZpY2VfcmVtb3ZlKHN0
cnVjdCBkZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHN1cGVyaHl3YXlfZGV2aWNlX3JlbW92ZShz
dHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHN1cGVyaHl3YXlfZGV2aWNlICpzaHl3YXlf
ZGV2ID0gdG9fc3VwZXJoeXdheV9kZXZpY2UoZGV2KTsKIAlzdHJ1Y3Qgc3VwZXJoeXdheV9kcml2
ZXIgKnNoeXdheV9kcnYgPSB0b19zdXBlcmh5d2F5X2RyaXZlcihkZXYtPmRyaXZlcik7CiAKLQlp
ZiAoc2h5d2F5X2RydiAmJiBzaHl3YXlfZHJ2LT5yZW1vdmUpIHsKKwlpZiAoc2h5d2F5X2RydiAm
JiBzaHl3YXlfZHJ2LT5yZW1vdmUpCiAJCXNoeXdheV9kcnYtPnJlbW92ZShzaHl3YXlfZGV2KTsK
LQkJcmV0dXJuIDA7Ci0JfQotCi0JcmV0dXJuIC1FTk9ERVY7CiB9CiAKIC8qKgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9zaW94L3Npb3gtY29yZS5jIGIvZHJpdmVycy9zaW94L3Npb3gtY29yZS5jCmlu
ZGV4IDE3OTRmZjAxMDZiYy4uN2M0ZjMyZDc2OTY2IDEwMDY0NAotLS0gYS9kcml2ZXJzL3Npb3gv
c2lveC1jb3JlLmMKKysrIGIvZHJpdmVycy9zaW94L3Npb3gtY29yZS5jCkBAIC01MjAsNyArNTIw
LDcgQEAgc3RhdGljIGludCBzaW94X3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4g
c2RyaXZlci0+cHJvYmUoc2RldmljZSk7CiB9CiAKLXN0YXRpYyBpbnQgc2lveF9yZW1vdmUoc3Ry
dWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZvaWQgc2lveF9yZW1vdmUoc3RydWN0IGRldmljZSAq
ZGV2KQogewogCXN0cnVjdCBzaW94X2RyaXZlciAqc2RyaXZlciA9CiAJCWNvbnRhaW5lcl9vZihk
ZXYtPmRyaXZlciwgc3RydWN0IHNpb3hfZHJpdmVyLCBkcml2ZXIpOwpAQCAtNTI4LDggKzUyOCw2
IEBAIHN0YXRpYyBpbnQgc2lveF9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCiAJaWYgKHNk
cml2ZXItPnJlbW92ZSkKIAkJc2RyaXZlci0+cmVtb3ZlKHNkZXZpY2UpOwotCi0JcmV0dXJuIDA7
CiB9CiAKIHN0YXRpYyB2b2lkIHNpb3hfc2h1dGRvd24oc3RydWN0IGRldmljZSAqZGV2KQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9zbGltYnVzL2NvcmUuYyBiL2RyaXZlcnMvc2xpbWJ1cy9jb3JlLmMK
aW5kZXggMWQyYmMxODFkYTA1Li43ODQ4MGUzMzJhYjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc2xp
bWJ1cy9jb3JlLmMKKysrIGIvZHJpdmVycy9zbGltYnVzL2NvcmUuYwpAQCAtODEsNyArODEsNyBA
QCBzdGF0aWMgaW50IHNsaW1fZGV2aWNlX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1
cm4gcmV0OwogfQogCi1zdGF0aWMgaW50IHNsaW1fZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNl
ICpkZXYpCitzdGF0aWMgdm9pZCBzbGltX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2
KQogewogCXN0cnVjdCBzbGltX2RldmljZSAqc2JkZXYgPSB0b19zbGltX2RldmljZShkZXYpOwog
CXN0cnVjdCBzbGltX2RyaXZlciAqc2JkcnY7CkBAIC05MSw4ICs5MSw2IEBAIHN0YXRpYyBpbnQg
c2xpbV9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAkJaWYgKHNiZHJ2LT5yZW1v
dmUpCiAJCQlzYmRydi0+cmVtb3ZlKHNiZGV2KTsKIAl9Ci0KLQlyZXR1cm4gMDsKIH0KIAogc3Rh
dGljIGludCBzbGltX2RldmljZV91ZXZlbnQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3Qga29i
al91ZXZlbnRfZW52ICplbnYpCmRpZmYgLS1naXQgYS9kcml2ZXJzL3NvYy9xY29tL2Fwci5jIGIv
ZHJpdmVycy9zb2MvcWNvbS9hcHIuYwppbmRleCA3YWJmYzhjNGZkYzcuLjQ3NWE1N2I0MzViMiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9zb2MvcWNvbS9hcHIuYworKysgYi9kcml2ZXJzL3NvYy9xY29t
L2Fwci5jCkBAIC0yMTcsNyArMjE3LDcgQEAgc3RhdGljIGludCBhcHJfZGV2aWNlX3Byb2JlKHN0
cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gYWRydi0+cHJvYmUoYWRldik7CiB9CiAKLXN0YXRp
YyBpbnQgYXByX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZvaWQg
YXByX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVjdCBhcHJfZGV2
aWNlICphZGV2ID0gdG9fYXByX2RldmljZShkZXYpOwogCXN0cnVjdCBhcHJfZHJpdmVyICphZHJ2
OwpAQCAtMjMxLDggKzIzMSw2IEBAIHN0YXRpYyBpbnQgYXByX2RldmljZV9yZW1vdmUoc3RydWN0
IGRldmljZSAqZGV2KQogCQlpZHJfcmVtb3ZlKCZhcHItPnN2Y3NfaWRyLCBhZGV2LT5zdmNfaWQp
OwogCQlzcGluX3VubG9jaygmYXByLT5zdmNzX2xvY2spOwogCX0KLQotCXJldHVybiAwOwogfQog
CiBzdGF0aWMgaW50IGFwcl91ZXZlbnQoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3Qga29ial91
ZXZlbnRfZW52ICplbnYpCmRpZmYgLS1naXQgYS9kcml2ZXJzL3NwaS9zcGkuYyBiL2RyaXZlcnMv
c3BpL3NwaS5jCmluZGV4IGM5OTE4MTE2NTMyMS4uYWQyYjU1OGRjOWNiIDEwMDY0NAotLS0gYS9k
cml2ZXJzL3NwaS9zcGkuYworKysgYi9kcml2ZXJzL3NwaS9zcGkuYwpAQCAtNDA1LDcgKzQwNSw3
IEBAIHN0YXRpYyBpbnQgc3BpX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gcmV0
OwogfQogCi1zdGF0aWMgaW50IHNwaV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3RhdGlj
IHZvaWQgc3BpX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJY29uc3Qgc3RydWN0IHNw
aV9kcml2ZXIJCSpzZHJ2ID0gdG9fc3BpX2RyaXZlcihkZXYtPmRyaXZlcik7CiAKQEAgLTQyMCw4
ICs0MjAsNiBAQCBzdGF0aWMgaW50IHNwaV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCX0K
IAogCWRldl9wbV9kb21haW5fZGV0YWNoKGRldiwgdHJ1ZSk7Ci0KLQlyZXR1cm4gMDsKIH0KIAog
c3RhdGljIHZvaWQgc3BpX3NodXRkb3duKHN0cnVjdCBkZXZpY2UgKmRldikKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvc3BtaS9zcG1pLmMgYi9kcml2ZXJzL3NwbWkvc3BtaS5jCmluZGV4IDUxZjVhZWI2
NWIzYi4uYjM3ZWFkOWUyZmFkIDEwMDY0NAotLS0gYS9kcml2ZXJzL3NwbWkvc3BtaS5jCisrKyBi
L2RyaXZlcnMvc3BtaS9zcG1pLmMKQEAgLTM0NSw3ICszNDUsNyBAQCBzdGF0aWMgaW50IHNwbWlf
ZHJ2X3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gZXJyOwogfQogCi1zdGF0aWMg
aW50IHNwbWlfZHJ2X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBzcG1p
X2Rydl9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCWNvbnN0IHN0cnVjdCBzcG1pX2Ry
aXZlciAqc2RydiA9IHRvX3NwbWlfZHJpdmVyKGRldi0+ZHJpdmVyKTsKIApAQCAtMzU2LDcgKzM1
Niw2IEBAIHN0YXRpYyBpbnQgc3BtaV9kcnZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlw
bV9ydW50aW1lX2Rpc2FibGUoZGV2KTsKIAlwbV9ydW50aW1lX3NldF9zdXNwZW5kZWQoZGV2KTsK
IAlwbV9ydW50aW1lX3B1dF9ub2lkbGUoZGV2KTsKLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHZv
aWQgc3BtaV9kcnZfc2h1dGRvd24oc3RydWN0IGRldmljZSAqZGV2KQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9zc2IvbWFpbi5jIGIvZHJpdmVycy9zc2IvbWFpbi5jCmluZGV4IDNhMjliNTU3MGY5Zi4u
OGE5M2M4M2NiNmY4IDEwMDY0NAotLS0gYS9kcml2ZXJzL3NzYi9tYWluLmMKKysrIGIvZHJpdmVy
cy9zc2IvbWFpbi5jCkBAIC0yODMsNyArMjgzLDcgQEAgc3RhdGljIHZvaWQgc3NiX2RldmljZV9z
aHV0ZG93bihzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJCXNzYl9kcnYtPnNodXRkb3duKHNzYl9kZXYp
OwogfQogCi1zdGF0aWMgaW50IHNzYl9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikK
K3N0YXRpYyB2b2lkIHNzYl9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlz
dHJ1Y3Qgc3NiX2RldmljZSAqc3NiX2RldiA9IGRldl90b19zc2JfZGV2KGRldik7CiAJc3RydWN0
IHNzYl9kcml2ZXIgKnNzYl9kcnYgPSBkcnZfdG9fc3NiX2RydihkZXYtPmRyaXZlcik7CkBAIC0y
OTEsOCArMjkxLDYgQEAgc3RhdGljIGludCBzc2JfZGV2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNl
ICpkZXYpCiAJaWYgKHNzYl9kcnYgJiYgc3NiX2Rydi0+cmVtb3ZlKQogCQlzc2JfZHJ2LT5yZW1v
dmUoc3NiX2Rldik7CiAJc3NiX2RldmljZV9wdXQoc3NiX2Rldik7Ci0KLQlyZXR1cm4gMDsKIH0K
IAogc3RhdGljIGludCBzc2JfZGV2aWNlX3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9maWVsZGJ1cy9hbnlidXNzL2hvc3QuYyBiL2RyaXZlcnMv
c3RhZ2luZy9maWVsZGJ1cy9hbnlidXNzL2hvc3QuYwppbmRleCAwZjczMGVmZTlhNmQuLjhhNzVm
NjY0MmM3OCAxMDA2NDQKLS0tIGEvZHJpdmVycy9zdGFnaW5nL2ZpZWxkYnVzL2FueWJ1c3MvaG9z
dC5jCisrKyBiL2RyaXZlcnMvc3RhZ2luZy9maWVsZGJ1cy9hbnlidXNzL2hvc3QuYwpAQCAtMTE4
NiwxNSArMTE4NiwxMyBAQCBzdGF0aWMgaW50IGFueWJ1c19idXNfcHJvYmUoc3RydWN0IGRldmlj
ZSAqZGV2KQogCXJldHVybiBhZHJ2LT5wcm9iZShhZGV2KTsKIH0KIAotc3RhdGljIGludCBhbnli
dXNfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBhbnlidXNfYnVz
X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGFueWJ1c3NfY2xpZW50X2Ry
aXZlciAqYWRydiA9CiAJCXRvX2FueWJ1c3NfY2xpZW50X2RyaXZlcihkZXYtPmRyaXZlcik7CiAK
IAlpZiAoYWRydi0+cmVtb3ZlKQogCQlhZHJ2LT5yZW1vdmUodG9fYW55YnVzc19jbGllbnQoZGV2
KSk7Ci0KLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHN0cnVjdCBidXNfdHlwZSBhbnlidXNfYnVz
ID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zdGFnaW5nL2dyZXlidXMvZ2JwaHkuYyBiL2RyaXZl
cnMvc3RhZ2luZy9ncmV5YnVzL2dicGh5LmMKaW5kZXggMTNkMzE5ODYwZGE1Li41YTVjMTdhNDUx
OWIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvc3RhZ2luZy9ncmV5YnVzL2dicGh5LmMKKysrIGIvZHJp
dmVycy9zdGFnaW5nL2dyZXlidXMvZ2JwaHkuYwpAQCAtMTY5LDcgKzE2OSw3IEBAIHN0YXRpYyBp
bnQgZ2JwaHlfZGV2X3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gcmV0OwogfQog
Ci1zdGF0aWMgaW50IGdicGh5X2Rldl9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3RhdGlj
IHZvaWQgZ2JwaHlfZGV2X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IGdi
cGh5X2RyaXZlciAqZ2JwaHlfZHJ2ID0gdG9fZ2JwaHlfZHJpdmVyKGRldi0+ZHJpdmVyKTsKIAlz
dHJ1Y3QgZ2JwaHlfZGV2aWNlICpnYnBoeV9kZXYgPSB0b19nYnBoeV9kZXYoZGV2KTsKQEAgLTE4
MCw4ICsxODAsNiBAQCBzdGF0aWMgaW50IGdicGh5X2Rldl9yZW1vdmUoc3RydWN0IGRldmljZSAq
ZGV2KQogCXBtX3J1bnRpbWVfc2V0X3N1c3BlbmRlZChkZXYpOwogCXBtX3J1bnRpbWVfcHV0X25v
aWRsZShkZXYpOwogCXBtX3J1bnRpbWVfZG9udF91c2VfYXV0b3N1c3BlbmQoZGV2KTsKLQotCXJl
dHVybiAwOwogfQogCiBzdGF0aWMgc3RydWN0IGJ1c190eXBlIGdicGh5X2J1c190eXBlID0gewpk
aWZmIC0tZ2l0IGEvZHJpdmVycy90YXJnZXQvbG9vcGJhY2svdGNtX2xvb3AuYyBiL2RyaXZlcnMv
dGFyZ2V0L2xvb3BiYWNrL3RjbV9sb29wLmMKaW5kZXggNmQwYjBlNjdlNzllLi5jYmIyMTE4ZmIz
NWUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvdGFyZ2V0L2xvb3BiYWNrL3RjbV9sb29wLmMKKysrIGIv
ZHJpdmVycy90YXJnZXQvbG9vcGJhY2svdGNtX2xvb3AuYwpAQCAtODEsNyArODEsNyBAQCBzdGF0
aWMgaW50IHRjbV9sb29wX3Nob3dfaW5mbyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHN0cnVjdCBTY3Np
X0hvc3QgKmhvc3QpCiB9CiAKIHN0YXRpYyBpbnQgdGNtX2xvb3BfZHJpdmVyX3Byb2JlKHN0cnVj
dCBkZXZpY2UgKik7Ci1zdGF0aWMgaW50IHRjbV9sb29wX2RyaXZlcl9yZW1vdmUoc3RydWN0IGRl
dmljZSAqKTsKK3N0YXRpYyB2b2lkIHRjbV9sb29wX2RyaXZlcl9yZW1vdmUoc3RydWN0IGRldmlj
ZSAqKTsKIAogc3RhdGljIGludCBwc2V1ZG9fbGxkX2J1c19tYXRjaChzdHJ1Y3QgZGV2aWNlICpk
ZXYsCiAJCQkJc3RydWN0IGRldmljZV9kcml2ZXIgKmRldl9kcml2ZXIpCkBAIC0zNjMsNyArMzYz
LDcgQEAgc3RhdGljIGludCB0Y21fbG9vcF9kcml2ZXJfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2
KQogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IHRjbV9sb29wX2RyaXZlcl9yZW1vdmUoc3Ry
dWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZvaWQgdGNtX2xvb3BfZHJpdmVyX3JlbW92ZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHRjbV9sb29wX2hiYSAqdGxfaGJhOwogCXN0cnVj
dCBTY3NpX0hvc3QgKnNoOwpAQCAtMzczLDcgKzM3Myw2IEBAIHN0YXRpYyBpbnQgdGNtX2xvb3Bf
ZHJpdmVyX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAKIAlzY3NpX3JlbW92ZV9ob3N0KHNo
KTsKIAlzY3NpX2hvc3RfcHV0KHNoKTsKLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHZvaWQgdGNt
X2xvb3BfcmVsZWFzZV9hZGFwdGVyKHN0cnVjdCBkZXZpY2UgKmRldikKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvdGh1bmRlcmJvbHQvZG9tYWluLmMgYi9kcml2ZXJzL3RodW5kZXJib2x0L2RvbWFpbi5j
CmluZGV4IGEwNjJiZWZjYjNiMi4uNzAxOGQ5NTlmNzc1IDEwMDY0NAotLS0gYS9kcml2ZXJzL3Ro
dW5kZXJib2x0L2RvbWFpbi5jCisrKyBiL2RyaXZlcnMvdGh1bmRlcmJvbHQvZG9tYWluLmMKQEAg
LTg2LDcgKzg2LDcgQEAgc3RhdGljIGludCB0Yl9zZXJ2aWNlX3Byb2JlKHN0cnVjdCBkZXZpY2Ug
KmRldikKIAlyZXR1cm4gZHJpdmVyLT5wcm9iZShzdmMsIGlkKTsKIH0KIAotc3RhdGljIGludCB0
Yl9zZXJ2aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCB0Yl9zZXJ2
aWNlX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHRiX3NlcnZpY2UgKnN2
YyA9IHRiX3RvX3NlcnZpY2UoZGV2KTsKIAlzdHJ1Y3QgdGJfc2VydmljZV9kcml2ZXIgKmRyaXZl
cjsKQEAgLTk0LDggKzk0LDYgQEAgc3RhdGljIGludCB0Yl9zZXJ2aWNlX3JlbW92ZShzdHJ1Y3Qg
ZGV2aWNlICpkZXYpCiAJZHJpdmVyID0gY29udGFpbmVyX29mKGRldi0+ZHJpdmVyLCBzdHJ1Y3Qg
dGJfc2VydmljZV9kcml2ZXIsIGRyaXZlcik7CiAJaWYgKGRyaXZlci0+cmVtb3ZlKQogCQlkcml2
ZXItPnJlbW92ZShzdmMpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyB2b2lkIHRiX3NlcnZp
Y2Vfc2h1dGRvd24oc3RydWN0IGRldmljZSAqZGV2KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy90dHkv
c2VyZGV2L2NvcmUuYyBiL2RyaXZlcnMvdHR5L3NlcmRldi9jb3JlLmMKaW5kZXggOWNkZmNmZTA3
ZTg3Li45MjQ5ODk2MWZkOTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvdHR5L3NlcmRldi9jb3JlLmMK
KysrIGIvZHJpdmVycy90dHkvc2VyZGV2L2NvcmUuYwpAQCAtNDIxLDE1ICs0MjEsMTMgQEAgc3Rh
dGljIGludCBzZXJkZXZfZHJ2X3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gcmV0
OwogfQogCi1zdGF0aWMgaW50IHNlcmRldl9kcnZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikK
K3N0YXRpYyB2b2lkIHNlcmRldl9kcnZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlj
b25zdCBzdHJ1Y3Qgc2VyZGV2X2RldmljZV9kcml2ZXIgKnNkcnYgPSB0b19zZXJkZXZfZGV2aWNl
X2RyaXZlcihkZXYtPmRyaXZlcik7CiAJaWYgKHNkcnYtPnJlbW92ZSkKIAkJc2Rydi0+cmVtb3Zl
KHRvX3NlcmRldl9kZXZpY2UoZGV2KSk7CiAKIAlkZXZfcG1fZG9tYWluX2RldGFjaChkZXYsIHRy
dWUpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBzdHJ1Y3QgYnVzX3R5cGUgc2VyZGV2X2J1
c190eXBlID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy91c2IvY29tbW9uL3VscGkuYyBiL2RyaXZl
cnMvdXNiL2NvbW1vbi91bHBpLmMKaW5kZXggN2UxM2I3NGU2MGU1Li40MTY5Y2Y0MGEwM2IgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvdXNiL2NvbW1vbi91bHBpLmMKKysrIGIvZHJpdmVycy91c2IvY29t
bW9uL3VscGkuYwpAQCAtNzgsMTQgKzc4LDEyIEBAIHN0YXRpYyBpbnQgdWxwaV9wcm9iZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIGRydi0+cHJvYmUodG9fdWxwaV9kZXYoZGV2KSk7CiB9
CiAKLXN0YXRpYyBpbnQgdWxwaV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQorc3RhdGljIHZv
aWQgdWxwaV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVjdCB1bHBpX2RyaXZl
ciAqZHJ2ID0gdG9fdWxwaV9kcml2ZXIoZGV2LT5kcml2ZXIpOwogCiAJaWYgKGRydi0+cmVtb3Zl
KQogCQlkcnYtPnJlbW92ZSh0b191bHBpX2RldihkZXYpKTsKLQotCXJldHVybiAwOwogfQogCiBz
dGF0aWMgc3RydWN0IGJ1c190eXBlIHVscGlfYnVzID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy91
c2Ivc2VyaWFsL2J1cy5jIGIvZHJpdmVycy91c2Ivc2VyaWFsL2J1cy5jCmluZGV4IDcxMzM4MThh
NThiOS4uOWUzODE0MmFjZDM4IDEwMDY0NAotLS0gYS9kcml2ZXJzL3VzYi9zZXJpYWwvYnVzLmMK
KysrIGIvZHJpdmVycy91c2Ivc2VyaWFsL2J1cy5jCkBAIC03NCw3ICs3NCw3IEBAIHN0YXRpYyBp
bnQgdXNiX3NlcmlhbF9kZXZpY2VfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2KQogCXJldHVybiBy
ZXR2YWw7CiB9CiAKLXN0YXRpYyBpbnQgdXNiX3NlcmlhbF9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBk
ZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHVzYl9zZXJpYWxfZGV2aWNlX3JlbW92ZShzdHJ1Y3Qg
ZGV2aWNlICpkZXYpCiB7CiAJc3RydWN0IHVzYl9zZXJpYWxfcG9ydCAqcG9ydCA9IHRvX3VzYl9z
ZXJpYWxfcG9ydChkZXYpOwogCXN0cnVjdCB1c2Jfc2VyaWFsX2RyaXZlciAqZHJpdmVyOwpAQCAt
MTAxLDggKzEwMSw2IEBAIHN0YXRpYyBpbnQgdXNiX3NlcmlhbF9kZXZpY2VfcmVtb3ZlKHN0cnVj
dCBkZXZpY2UgKmRldikKIAogCWlmICghYXV0b3BtX2VycikKIAkJdXNiX2F1dG9wbV9wdXRfaW50
ZXJmYWNlKHBvcnQtPnNlcmlhbC0+aW50ZXJmYWNlKTsKLQotCXJldHVybiAwOwogfQogCiBzdGF0
aWMgc3NpemVfdCBuZXdfaWRfc3RvcmUoc3RydWN0IGRldmljZV9kcml2ZXIgKmRyaXZlciwKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvdXNiL3R5cGVjL2J1cy5jIGIvZHJpdmVycy91c2IvdHlwZWMvYnVz
LmMKaW5kZXggN2YzYzlhOGUyYmYwLi43OGUwZTc4OTU0ZjIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
dXNiL3R5cGVjL2J1cy5jCisrKyBiL2RyaXZlcnMvdXNiL3R5cGVjL2J1cy5jCkBAIC0zODIsNyAr
MzgyLDcgQEAgc3RhdGljIGludCB0eXBlY19wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0
dXJuIHJldDsKIH0KIAotc3RhdGljIGludCB0eXBlY19yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2
KQorc3RhdGljIHZvaWQgdHlwZWNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1
Y3QgdHlwZWNfYWx0bW9kZV9kcml2ZXIgKmRydiA9IHRvX2FsdG1vZGVfZHJpdmVyKGRldi0+ZHJp
dmVyKTsKIAlzdHJ1Y3QgdHlwZWNfYWx0bW9kZSAqYWRldiA9IHRvX3R5cGVjX2FsdG1vZGUoZGV2
KTsKQEAgLTQwMCw4ICs0MDAsNiBAQCBzdGF0aWMgaW50IHR5cGVjX3JlbW92ZShzdHJ1Y3QgZGV2
aWNlICpkZXYpCiAKIAlhZGV2LT5kZXNjID0gTlVMTDsKIAlhZGV2LT5vcHMgPSBOVUxMOwotCi0J
cmV0dXJuIDA7CiB9CiAKIHN0cnVjdCBidXNfdHlwZSB0eXBlY19idXMgPSB7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL3ZkcGEvdmRwYS5jIGIvZHJpdmVycy92ZHBhL3ZkcGEuYwppbmRleCBiYjNmMWQx
ZjA0MjIuLjNmYzQ1MjVmYzA1YyAxMDA2NDQKLS0tIGEvZHJpdmVycy92ZHBhL3ZkcGEuYworKysg
Yi9kcml2ZXJzL3ZkcGEvdmRwYS5jCkBAIC0zNCwxNSArMzQsMTMgQEAgc3RhdGljIGludCB2ZHBh
X2Rldl9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkKQogCXJldHVybiByZXQ7CiB9CiAKLXN0YXRpYyBp
bnQgdmRwYV9kZXZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmQpCitzdGF0aWMgdm9pZCB2ZHBhX2Rl
dl9yZW1vdmUoc3RydWN0IGRldmljZSAqZCkKIHsKIAlzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkZXYg
PSBkZXZfdG9fdmRwYShkKTsKIAlzdHJ1Y3QgdmRwYV9kcml2ZXIgKmRydiA9IGRydl90b192ZHBh
KHZkZXYtPmRldi5kcml2ZXIpOwogCiAJaWYgKGRydiAmJiBkcnYtPnJlbW92ZSkKIAkJZHJ2LT5y
ZW1vdmUodmRldik7Ci0KLQlyZXR1cm4gMDsKIH0KIAogc3RhdGljIHN0cnVjdCBidXNfdHlwZSB2
ZHBhX2J1cyA9IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfZHJpdmVyLmMg
Yi9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2RyaXZlci5jCmluZGV4IGMzNjhlYzgyNGUyYi4uZTJj
YjFmZjU2ZjZjIDEwMDY0NAotLS0gYS9kcml2ZXJzL3ZmaW8vbWRldi9tZGV2X2RyaXZlci5jCisr
KyBiL2RyaXZlcnMvdmZpby9tZGV2L21kZXZfZHJpdmVyLmMKQEAgLTU3LDcgKzU3LDcgQEAgc3Rh
dGljIGludCBtZGV2X3Byb2JlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlyZXR1cm4gcmV0OwogfQog
Ci1zdGF0aWMgaW50IG1kZXZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRpYyB2b2lk
IG1kZXZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3QgbWRldl9kcml2ZXIg
KmRydiA9CiAJCWNvbnRhaW5lcl9vZihkZXYtPmRyaXZlciwgc3RydWN0IG1kZXZfZHJpdmVyLCBk
cml2ZXIpOwpAQCAtNjcsOCArNjcsNiBAQCBzdGF0aWMgaW50IG1kZXZfcmVtb3ZlKHN0cnVjdCBk
ZXZpY2UgKmRldikKIAkJZHJ2LT5yZW1vdmUobWRldik7CiAKIAltZGV2X2RldGFjaF9pb21tdSht
ZGV2KTsKLQotCXJldHVybiAwOwogfQogCiBzdGF0aWMgaW50IG1kZXZfbWF0Y2goc3RydWN0IGRl
dmljZSAqZGV2LCBzdHJ1Y3QgZGV2aWNlX2RyaXZlciAqZHJ2KQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy92aXJ0aW8vdmlydGlvLmMgYi9kcml2ZXJzL3ZpcnRpby92aXJ0aW8uYwppbmRleCA0YjE1YzAw
YzBhMGEuLjJhNjA1NWMwZDRkMyAxMDA2NDQKLS0tIGEvZHJpdmVycy92aXJ0aW8vdmlydGlvLmMK
KysrIGIvZHJpdmVycy92aXJ0aW8vdmlydGlvLmMKQEAgLTI3OCw3ICsyNzgsNyBAQCBzdGF0aWMg
aW50IHZpcnRpb19kZXZfcHJvYmUoc3RydWN0IGRldmljZSAqX2QpCiAKIH0KIAotc3RhdGljIGlu
dCB2aXJ0aW9fZGV2X3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpfZCkKK3N0YXRpYyB2b2lkIHZpcnRp
b19kZXZfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKl9kKQogewogCXN0cnVjdCB2aXJ0aW9fZGV2aWNl
ICpkZXYgPSBkZXZfdG9fdmlydGlvKF9kKTsKIAlzdHJ1Y3QgdmlydGlvX2RyaXZlciAqZHJ2ID0g
ZHJ2X3RvX3ZpcnRpbyhkZXYtPmRldi5kcml2ZXIpOwpAQCAtMjkyLDcgKzI5Miw2IEBAIHN0YXRp
YyBpbnQgdmlydGlvX2Rldl9yZW1vdmUoc3RydWN0IGRldmljZSAqX2QpCiAKIAkvKiBBY2tub3ds
ZWRnZSB0aGUgZGV2aWNlJ3MgZXhpc3RlbmNlIGFnYWluLiAqLwogCXZpcnRpb19hZGRfc3RhdHVz
KGRldiwgVklSVElPX0NPTkZJR19TX0FDS05PV0xFREdFKTsKLQlyZXR1cm4gMDsKIH0KIAogc3Rh
dGljIHN0cnVjdCBidXNfdHlwZSB2aXJ0aW9fYnVzID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy92
bHlucS92bHlucS5jIGIvZHJpdmVycy92bHlucS92bHlucS5jCmluZGV4IGU5NjY5ODFjMDIxNS4u
NGFmNjYxNTgwOGNjIDEwMDY0NAotLS0gYS9kcml2ZXJzL3ZseW5xL3ZseW5xLmMKKysrIGIvZHJp
dmVycy92bHlucS92bHlucS5jCkBAIC0zNDIsMTQgKzM0MiwxMiBAQCBzdGF0aWMgaW50IHZseW5x
X2RldmljZV9wcm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiAJcmV0dXJuIHJlc3VsdDsKIH0KIAot
c3RhdGljIGludCB2bHlucV9kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRp
YyB2b2lkIHZseW5xX2RldmljZV9yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVj
dCB2bHlucV9kcml2ZXIgKmRydiA9IHRvX3ZseW5xX2RyaXZlcihkZXYtPmRyaXZlcik7CiAKIAlp
ZiAoZHJ2LT5yZW1vdmUpCiAJCWRydi0+cmVtb3ZlKHRvX3ZseW5xX2RldmljZShkZXYpKTsKLQot
CXJldHVybiAwOwogfQogCiBpbnQgX192bHlucV9yZWdpc3Rlcl9kcml2ZXIoc3RydWN0IHZseW5x
X2RyaXZlciAqZHJpdmVyLCBzdHJ1Y3QgbW9kdWxlICpvd25lcikKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvdm1lL3ZtZS5jIGIvZHJpdmVycy92bWUvdm1lLmMKaW5kZXggMWIxNWFmZWEyOGVlLi44ZGJh
MjAxODZiZTMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvdm1lL3ZtZS5jCisrKyBiL2RyaXZlcnMvdm1l
L3ZtZS5jCkBAIC0xOTkwLDcgKzE5OTAsNyBAQCBzdGF0aWMgaW50IHZtZV9idXNfcHJvYmUoc3Ry
dWN0IGRldmljZSAqZGV2KQogCXJldHVybiAtRU5PREVWOwogfQogCi1zdGF0aWMgaW50IHZtZV9i
dXNfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHZtZV9idXNfcmVtb3Zl
KHN0cnVjdCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3Qgdm1lX2RyaXZlciAqZHJpdmVyOwogCXN0
cnVjdCB2bWVfZGV2ICp2ZGV2ID0gZGV2X3RvX3ZtZV9kZXYoZGV2KTsKQEAgLTE5OTgsOCArMTk5
OCw2IEBAIHN0YXRpYyBpbnQgdm1lX2J1c19yZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCWRy
aXZlciA9IGRldi0+cGxhdGZvcm1fZGF0YTsKIAlpZiAoZHJpdmVyLT5yZW1vdmUpCiAJCWRyaXZl
ci0+cmVtb3ZlKHZkZXYpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0cnVjdCBidXNfdHlwZSB2bWVf
YnVzX3R5cGUgPSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL3hlbi94ZW5idXMveGVuYnVzLmggYi9k
cml2ZXJzL3hlbi94ZW5idXMveGVuYnVzLmgKaW5kZXggMmE5M2I3YzljMTU5Li4yNzU0YmRmYWRj
YjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXMuaAorKysgYi9kcml2ZXJz
L3hlbi94ZW5idXMveGVuYnVzLmgKQEAgLTEwNiw3ICsxMDYsNyBAQCB2b2lkIHhzX3JlcXVlc3Rf
ZXhpdChzdHJ1Y3QgeGJfcmVxX2RhdGEgKnJlcSk7CiAKIGludCB4ZW5idXNfbWF0Y2goc3RydWN0
IGRldmljZSAqX2Rldiwgc3RydWN0IGRldmljZV9kcml2ZXIgKl9kcnYpOwogaW50IHhlbmJ1c19k
ZXZfcHJvYmUoc3RydWN0IGRldmljZSAqX2Rldik7Ci1pbnQgeGVuYnVzX2Rldl9yZW1vdmUoc3Ry
dWN0IGRldmljZSAqX2Rldik7Cit2b2lkIHhlbmJ1c19kZXZfcmVtb3ZlKHN0cnVjdCBkZXZpY2Ug
Kl9kZXYpOwogaW50IHhlbmJ1c19yZWdpc3Rlcl9kcml2ZXJfY29tbW9uKHN0cnVjdCB4ZW5idXNf
ZHJpdmVyICpkcnYsCiAJCQkJICBzdHJ1Y3QgeGVuX2J1c190eXBlICpidXMsCiAJCQkJICBzdHJ1
Y3QgbW9kdWxlICpvd25lciwKZGlmZiAtLWdpdCBhL2RyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXNf
cHJvYmUuYyBiL2RyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXNfcHJvYmUuYwppbmRleCAzM2QwOWIz
ZjYyMTEuLmJkMDAzY2E4YWNiZSAxMDA2NDQKLS0tIGEvZHJpdmVycy94ZW4veGVuYnVzL3hlbmJ1
c19wcm9iZS5jCisrKyBiL2RyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXNfcHJvYmUuYwpAQCAtMzI1
LDcgKzMyNSw3IEBAIGludCB4ZW5idXNfZGV2X3Byb2JlKHN0cnVjdCBkZXZpY2UgKl9kZXYpCiB9
CiBFWFBPUlRfU1lNQk9MX0dQTCh4ZW5idXNfZGV2X3Byb2JlKTsKIAotaW50IHhlbmJ1c19kZXZf
cmVtb3ZlKHN0cnVjdCBkZXZpY2UgKl9kZXYpCit2b2lkIHhlbmJ1c19kZXZfcmVtb3ZlKHN0cnVj
dCBkZXZpY2UgKl9kZXYpCiB7CiAJc3RydWN0IHhlbmJ1c19kZXZpY2UgKmRldiA9IHRvX3hlbmJ1
c19kZXZpY2UoX2Rldik7CiAJc3RydWN0IHhlbmJ1c19kcml2ZXIgKmRydiA9IHRvX3hlbmJ1c19k
cml2ZXIoX2Rldi0+ZHJpdmVyKTsKQEAgLTM1NSw4ICszNTUsNiBAQCBpbnQgeGVuYnVzX2Rldl9y
ZW1vdmUoc3RydWN0IGRldmljZSAqX2RldikKIAlpZiAoIWRydi0+YWxsb3dfcmViaW5kIHx8CiAJ
ICAgIHhlbmJ1c19yZWFkX2RyaXZlcl9zdGF0ZShkZXYtPm5vZGVuYW1lKSA9PSBYZW5idXNTdGF0
ZUNsb3NpbmcpCiAJCXhlbmJ1c19zd2l0Y2hfc3RhdGUoZGV2LCBYZW5idXNTdGF0ZUNsb3NlZCk7
Ci0KLQlyZXR1cm4gMDsKIH0KIEVYUE9SVF9TWU1CT0xfR1BMKHhlbmJ1c19kZXZfcmVtb3ZlKTsK
IApkaWZmIC0tZ2l0IGEvZHJpdmVycy96b3Jyby96b3Jyby1kcml2ZXIuYyBiL2RyaXZlcnMvem9y
cm8vem9ycm8tZHJpdmVyLmMKaW5kZXggMGRkN2NiY2VjMmIwLi5jMTg1MjRiYjhiMmEgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvem9ycm8vem9ycm8tZHJpdmVyLmMKKysrIGIvZHJpdmVycy96b3Jyby96
b3Jyby1kcml2ZXIuYwpAQCAtNjIsNyArNjIsNyBAQCBzdGF0aWMgaW50IHpvcnJvX2RldmljZV9w
cm9iZShzdHJ1Y3QgZGV2aWNlICpkZXYpCiB9CiAKIAotc3RhdGljIGludCB6b3Jyb19kZXZpY2Vf
cmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIHpvcnJvX2RldmljZV9yZW1v
dmUoc3RydWN0IGRldmljZSAqZGV2KQogewogCXN0cnVjdCB6b3Jyb19kZXYgKnogPSB0b196b3Jy
b19kZXYoZGV2KTsKIAlzdHJ1Y3Qgem9ycm9fZHJpdmVyICpkcnYgPSB0b196b3Jyb19kcml2ZXIo
ZGV2LT5kcml2ZXIpOwpAQCAtNzIsNyArNzIsNiBAQCBzdGF0aWMgaW50IHpvcnJvX2RldmljZV9y
ZW1vdmUoc3RydWN0IGRldmljZSAqZGV2KQogCQkJZHJ2LT5yZW1vdmUoeik7CiAJCXotPmRyaXZl
ciA9IE5VTEw7CiAJfQotCXJldHVybiAwOwogfQogCiAKZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGlu
dXgvZGV2aWNlL2J1cy5oIGIvaW5jbHVkZS9saW51eC9kZXZpY2UvYnVzLmgKaW5kZXggMWVhNWUx
ZDE1NDViLi4wNjI3NzdhNDVhNzQgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbGludXgvZGV2aWNlL2J1
cy5oCisrKyBiL2luY2x1ZGUvbGludXgvZGV2aWNlL2J1cy5oCkBAIC05MSw3ICs5MSw3IEBAIHN0
cnVjdCBidXNfdHlwZSB7CiAJaW50ICgqdWV2ZW50KShzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVj
dCBrb2JqX3VldmVudF9lbnYgKmVudik7CiAJaW50ICgqcHJvYmUpKHN0cnVjdCBkZXZpY2UgKmRl
dik7CiAJdm9pZCAoKnN5bmNfc3RhdGUpKHN0cnVjdCBkZXZpY2UgKmRldik7Ci0JaW50ICgqcmVt
b3ZlKShzdHJ1Y3QgZGV2aWNlICpkZXYpOworCXZvaWQgKCpyZW1vdmUpKHN0cnVjdCBkZXZpY2Ug
KmRldik7CiAJdm9pZCAoKnNodXRkb3duKShzdHJ1Y3QgZGV2aWNlICpkZXYpOwogCiAJaW50ICgq
b25saW5lKShzdHJ1Y3QgZGV2aWNlICpkZXYpOwpkaWZmIC0tZ2l0IGEvc291bmQvYWM5Ny9idXMu
YyBiL3NvdW5kL2FjOTcvYnVzLmMKaW5kZXggNmRkZjY0NmNkYTY1Li4wZDMxYTZkNzE0NjggMTAw
NjQ0Ci0tLSBhL3NvdW5kL2FjOTcvYnVzLmMKKysrIGIvc291bmQvYWM5Ny9idXMuYwpAQCAtNTE0
LDcgKzUxNCw3IEBAIHN0YXRpYyBpbnQgYWM5N19idXNfcHJvYmUoc3RydWN0IGRldmljZSAqZGV2
KQogCXJldHVybiByZXQ7CiB9CiAKLXN0YXRpYyBpbnQgYWM5N19idXNfcmVtb3ZlKHN0cnVjdCBk
ZXZpY2UgKmRldikKK3N0YXRpYyB2b2lkIGFjOTdfYnVzX3JlbW92ZShzdHJ1Y3QgZGV2aWNlICpk
ZXYpCiB7CiAJc3RydWN0IGFjOTdfY29kZWNfZGV2aWNlICphZGV2ID0gdG9fYWM5N19kZXZpY2Uo
ZGV2KTsKIAlzdHJ1Y3QgYWM5N19jb2RlY19kcml2ZXIgKmFkcnYgPSB0b19hYzk3X2RyaXZlcihk
ZXYtPmRyaXZlcik7CkBAIC01MjIsNyArNTIyLDcgQEAgc3RhdGljIGludCBhYzk3X2J1c19yZW1v
dmUoc3RydWN0IGRldmljZSAqZGV2KQogCiAJcmV0ID0gcG1fcnVudGltZV9yZXN1bWVfYW5kX2dl
dChkZXYpOwogCWlmIChyZXQgPCAwKQotCQlyZXR1cm4gcmV0OworCQlyZXR1cm47CiAKIAlyZXQg
PSBhZHJ2LT5yZW1vdmUoYWRldik7CiAJcG1fcnVudGltZV9wdXRfbm9pZGxlKGRldik7CkBAIC01
MzAsOCArNTMwLDYgQEAgc3RhdGljIGludCBhYzk3X2J1c19yZW1vdmUoc3RydWN0IGRldmljZSAq
ZGV2KQogCQlhYzk3X3B1dF9kaXNhYmxlX2NsayhhZGV2KTsKIAogCXBtX3J1bnRpbWVfZGlzYWJs
ZShkZXYpOwotCi0JcmV0dXJuIHJldDsKIH0KIAogc3RhdGljIHN0cnVjdCBidXNfdHlwZSBhYzk3
X2J1c190eXBlID0gewpkaWZmIC0tZ2l0IGEvc291bmQvYW9hL3NvdW5kYnVzL2NvcmUuYyBiL3Nv
dW5kL2FvYS9zb3VuZGJ1cy9jb3JlLmMKaW5kZXggMDAyZmI1YmYyMjBiLi5jOTU3OWQ5N2ZiYWIg
MTAwNjQ0Ci0tLSBhL3NvdW5kL2FvYS9zb3VuZGJ1cy9jb3JlLmMKKysrIGIvc291bmQvYW9hL3Nv
dW5kYnVzL2NvcmUuYwpAQCAtMTA0LDcgKzEwNCw3IEBAIHN0YXRpYyBpbnQgc291bmRidXNfdWV2
ZW50KHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGtvYmpfdWV2ZW50X2VudiAqZW52KQogCXJl
dHVybiByZXR2YWw7CiB9CiAKLXN0YXRpYyBpbnQgc291bmRidXNfZGV2aWNlX3JlbW92ZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCitzdGF0aWMgdm9pZCBzb3VuZGJ1c19kZXZpY2VfcmVtb3ZlKHN0cnVj
dCBkZXZpY2UgKmRldikKIHsKIAlzdHJ1Y3Qgc291bmRidXNfZGV2ICogc291bmRidXNfZGV2ID0g
dG9fc291bmRidXNfZGV2aWNlKGRldik7CiAJc3RydWN0IHNvdW5kYnVzX2RyaXZlciAqIGRydiA9
IHRvX3NvdW5kYnVzX2RyaXZlcihkZXYtPmRyaXZlcik7CkBAIC0xMTIsOCArMTEyLDYgQEAgc3Rh
dGljIGludCBzb3VuZGJ1c19kZXZpY2VfcmVtb3ZlKHN0cnVjdCBkZXZpY2UgKmRldikKIAlpZiAo
ZGV2LT5kcml2ZXIgJiYgZHJ2LT5yZW1vdmUpCiAJCWRydi0+cmVtb3ZlKHNvdW5kYnVzX2Rldik7
CiAJc291bmRidXNfZGV2X3B1dChzb3VuZGJ1c19kZXYpOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0
YXRpYyB2b2lkIHNvdW5kYnVzX2RldmljZV9zaHV0ZG93bihzdHJ1Y3QgZGV2aWNlICpkZXYpCi0t
IAoyLjMwLjIKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmdyZXlidXMtZGV2IG1haWxpbmcgbGlzdApncmV5YnVzLWRldkBsaXN0cy5saW5hcm8ub3JnCmh0
dHBzOi8vbGlzdHMubGluYXJvLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2dyZXlidXMtZGV2Cg==
