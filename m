Return-Path: <greybus-dev-bounces+lists+greybus-dev=lfdr.de@lists.linaro.org>
X-Original-To: lists+greybus-dev@lfdr.de
Delivered-To: lists+greybus-dev@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [3.208.193.21])
	by mail.lfdr.de (Postfix) with ESMTPS id 964F6AF9CF9
	for <lists+greybus-dev@lfdr.de>; Sat,  5 Jul 2025 02:41:16 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id B051E44452
	for <lists+greybus-dev@lfdr.de>; Sat,  5 Jul 2025 00:41:15 +0000 (UTC)
Received: from mx0a-0024c301.pphosted.com (mx0a-0024c301.pphosted.com [148.163.149.154])
	by lists.linaro.org (Postfix) with ESMTPS id A242841111
	for <greybus-dev@lists.linaro.org>; Sat,  5 Jul 2025 00:41:05 +0000 (UTC)
Authentication-Results: lists.linaro.org;
	dkim=pass header.d=silabs.com header.s=pps12202023 header.b=Q1e9F6FK;
	dkim=pass header.d=silabs.com header.s=selector1 header.b=ZYAsY7MA;
	arc=pass ("microsoft.com:s=arcselector10001:i=1");
	spf=pass (lists.linaro.org: domain of Damien.Riegel@silabs.com designates 148.163.149.154 as permitted sender) smtp.mailfrom=Damien.Riegel@silabs.com;
	dmarc=pass (policy=reject) header.from=silabs.com
Received: from pps.filterd (m0101743.ppops.net [127.0.0.1])
	by mx0a-0024c301.pphosted.com (8.18.1.2/8.18.1.2) with ESMTP id 564No2mG017370;
	Fri, 4 Jul 2025 19:40:55 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=silabs.com; h=cc
	:content-transfer-encoding:content-type:date:from:in-reply-to
	:message-id:mime-version:references:subject:to; s=pps12202023;
	 bh=DPVDcnaYDPf1dnPAmX8COJCxinBXAlcp5ymcU+3yntw=; b=Q1e9F6FKMWVk
	YIqeYGJHXf5URk5r8vixAJ97V2bR1AJOq1L5w3etx0ZRJOwNk+CsxMpkfcpbnzty
	pUOu65Ac7gu9agvNhV2Nz3o+jnfinJrhIHTFpXLvCLACgsQN+/9+lGZ/2YX3cIO6
	MDzZkkXr3vzzXMBP4qqhKc6kwpFxHDzNsRkrV25bHT9sEnL+P1L0ySrBoBqV+0Bi
	/fPTQlqIbIeOqRS4pAcLfZfsM77uYLlqfKtKRqDKnWZ+IsAJV0XX3ar9dU7TfPcc
	AUcr6mpQNHEp9St9z6IjJHTRwwJ6vAUC0NkbfAJ356JmjD5NcEKnB5GVFq9Lfp7B
	5UcmePjRlg==
Received: from nam12-mw2-obe.outbound.protection.outlook.com (mail-mw2nam12on2109.outbound.protection.outlook.com [40.107.244.109])
	by mx0a-0024c301.pphosted.com (PPS) with ESMTPS id 47p8pvhb7y-4
	(version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
	Fri, 04 Jul 2025 19:40:55 -0500 (CDT)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=Elg+Yh7m5gFHJBV/IbYcaN+/Ldq7996mYgVh7MyT+4Zn1VbT30pJ/4VnYUdC+QPC1zIVwyQCaarIkz6uRywclbw+G/brKteitwOs14RapTMRppujZwrEM1ZkFkVwEz2NGoRMQSk/CXcBJfr5RBP/5TdIzN/cGxtbHq1FKU24ZVTQyTITYsNzAoHX074DklWg08JoqUvGgNPpFcjeHHJfd5nJoJpNTK+5vKro8FVCTqcya4fHrIuV0rYiFTCYplYhokCZiz7soJxow8+Zz8PbbiWZ4yRj8D/SXc8eq9/MlOgAOTXZDHSpVQBWG6MkkmsfBzPCaUadQTVphHoJ5IR3+A==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=DPVDcnaYDPf1dnPAmX8COJCxinBXAlcp5ymcU+3yntw=;
 b=gXbZAK5MzLsYbOIjflEYlQh6DO8PyD7ETf5AfeVrgfeOsr5Jnx0XXkXm+A3mFCCsNMCkndWgar1P809jlt7NMIoqiAJ211Ce+CB9Uevg9reTmUhBY7danK1PsM1XPvEUFcgjgeSiBN66h0ZrDvSFipmHBh9hM/W9KNc1EEtfGHCE/SACJhs/dFC+u7DO5XHnGG5gd2jrR3whkZAP2wl7oKfosDxQwhHaP8HoQB4IWpfw/u53IK9TM8eCoDk12KtIpTvCjvhNuHVB2gHLMz1MNqn5gXm5HN4BO9tyhYMZVMkjFgRV4HzIRUCzrKHgDh5gdhAUpFlg5qng0KUQifxVlA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=silabs.com; dmarc=pass action=none header.from=silabs.com;
 dkim=pass header.d=silabs.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=silabs.com;
 s=selector1;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=DPVDcnaYDPf1dnPAmX8COJCxinBXAlcp5ymcU+3yntw=;
 b=ZYAsY7MAw2n6pGp19uhl64GBVzjpU7FbrO9kSy5Q6hII8CK40qyx0nn6bYwsg653jUlIm7OUMe5oqQsV2zE7kXxfwWOqPaccp1faHTiiJYm8nT1PaAWYNe7N8ifYMGFff9cflV75tZNdr4la8CradQrLKRucehZrinKZOMEerto=
Received: from DS0PR11MB8205.namprd11.prod.outlook.com (2603:10b6:8:162::17)
 by SA2PR11MB5068.namprd11.prod.outlook.com (2603:10b6:806:116::10) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.8901.23; Sat, 5 Jul
 2025 00:40:52 +0000
Received: from DS0PR11MB8205.namprd11.prod.outlook.com
 ([fe80::c508:9b04:3351:524a]) by DS0PR11MB8205.namprd11.prod.outlook.com
 ([fe80::c508:9b04:3351:524a%4]) with mapi id 15.20.8880.034; Sat, 5 Jul 2025
 00:40:52 +0000
From: =?UTF-8?q?Damien=20Ri=C3=A9gel?= <damien.riegel@silabs.com>
To: greybus-dev@lists.linaro.org
Date: Fri,  4 Jul 2025 20:40:33 -0400
Message-ID: <20250705004036.3828-4-damien.riegel@silabs.com>
X-Mailer: git-send-email 2.49.0
In-Reply-To: <20250705004036.3828-1-damien.riegel@silabs.com>
References: <20250705004036.3828-1-damien.riegel@silabs.com>
X-ClientProxiedBy: YQZPR01CA0029.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:c01:86::26) To DS0PR11MB8205.namprd11.prod.outlook.com
 (2603:10b6:8:162::17)
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic: DS0PR11MB8205:EE_|SA2PR11MB5068:EE_
X-MS-Office365-Filtering-Correlation-Id: 612c39c3-839b-40ec-6d8f-08ddbb5c9839
X-MS-Exchange-SenderADCheck: 1
X-MS-Exchange-AntiSpam-Relay: 0
X-Microsoft-Antispam: 
	BCL:0;ARA:13230040|52116014|376014|366016|1800799024|38350700014;
X-Microsoft-Antispam-Message-Info: 
	=?utf-8?B?QjE5SmhybTlvUVNQZm9DUFdrSExnNjZsR2RNTjdJOCtQZVc5a25mUU1zU0VT?=
 =?utf-8?B?Z3FCUzZOOXJqY2lITkcxMFhtWXBvaE1RY3RiVTgxOXZiNytsZ1Y0UVgwNWVo?=
 =?utf-8?B?YVhkdjl3QklxOEtkRmI2VWwxeFBReGVHS1FvSFRsTmgvaTFlVHhGRW9NYzhG?=
 =?utf-8?B?cHAyZFVJeE9vN0V4Y0d2alVYOFRIM3I5VDVIYjdvQWlRWk94OGZZL1h4bGVE?=
 =?utf-8?B?WjJtSmR2OHRXQlRTak1kSDJFUGN0eXJzVmFuZVZxS0FLbFVmQWNqK2MvZCtF?=
 =?utf-8?B?dlUwWWk2YkNvWUZ5TmtJL3FjbzZLVzlsMlBPNXRscnYxTlNzc0JYekZjdUVk?=
 =?utf-8?B?RDB1cHQxRGRxeG1TNW1iYXFmRU13MUo0cnM5b1pIcFZSUVUwTG11WUlHeFRM?=
 =?utf-8?B?U1oyWGxiS0QvRWduam04OFRFYlJmSm5UbjR3WUFZYllsRmlXVzMwcitkS2Ir?=
 =?utf-8?B?azJXV0dncEdzbDViUytlTFFNNmw0b1ZoNGxIeXJrVTVJdTZCWlBLYm1yOTBh?=
 =?utf-8?B?c2YvOERFU2RxZlRnLzRJcldTMUdwV2w5WGxUWXFldnpLeWhWaWdCblJSbTFi?=
 =?utf-8?B?UWZScEwyeGZMNWh3N3pUbWdSVlBMcmRnVVFaRXhYdlNUQk9WMGpzRGU3bkJJ?=
 =?utf-8?B?RUs4c1JzMnZSdFZBT3lMaWNTVUFKNTBpRVF5bnJicTF4NTY2cGI3WUtZeTNS?=
 =?utf-8?B?ZjEvK05nMkhIb0RxSmM5VDlUbUJNL1kwelNpdG1TU0hsMUlSazBLV3c5bUVl?=
 =?utf-8?B?d2lEeVFZMjhXSlJWZGZncmMzaFdrU3NkenBZQks5M3JEOG5BdkNvODR1M0lD?=
 =?utf-8?B?R2xHZHltZlE4RzNhQlVaSWt3Ri9vTnZOWFhDVHVTQ0dkUVdzUTBOZEhlUjVT?=
 =?utf-8?B?TGkvalUxUFN1T0ZLK3BVUk9DTFBGOTJGTnR6aXZ2dlp5Tm44NWMwUUwyd0th?=
 =?utf-8?B?OU9ka3M1R1htU1hKN01TQkpSSTMzRUVSZnFDTWhneXEvS3g2NHdUeUZ2WmxW?=
 =?utf-8?B?dHEweXBMbnpBV1V1R0hHa1cxRnNrT1oyTlY4Qk9aTDU0RDhDWkJMZWV5dXEz?=
 =?utf-8?B?WFpEejhQb1AxQmt3cW9maE1kUVVvTk0zaXNlN0ZheWVQOE9NZzUraThWRjZr?=
 =?utf-8?B?bU9EbnJNL2ZNRSt4dnMwQlJuVUhNWkZmd05pYjdEV2Q3MnJUTEl1aStNSHFS?=
 =?utf-8?B?aGwvVlJ4bmVDTWcxRExLbHBDRnlxTDRKR0RMS1p5eUVSQnF4ZVNaazNNVnY4?=
 =?utf-8?B?Y0loQ0tidi9OZFJ2dkwrM1ZUTXl6cEkrWjE1dDZLUGRXVUtQejBiUUZUVmI1?=
 =?utf-8?B?WjFTc01US0xFdHdzamZlaHFmK1JWYW1NNzJLS2V1bEEvemx4K1cySXlkRXI4?=
 =?utf-8?B?OHMvYkE5WWxyaUxueUdUUlplclFONk4wVHlUWEdOSEozTDdxRngzbWtkZVRj?=
 =?utf-8?B?cEExTU5iL1ZRcjZ6SjZvYVZHekVTQ3BvQzNlZ0ZPeHl6UUx6Q3gvN1JFTXgy?=
 =?utf-8?B?RnFVYmpqMGZxc0d1dVZ5TXpudlZ2VHlPREM1VEZ1YXVXWExwWHpjYTFtZWRr?=
 =?utf-8?B?VDRyMEt0c0ZCSkhPRFJ0YWF5Um1vakVXNklIb3ZtQlNaTGZ0cE5wMG0zRDZh?=
 =?utf-8?B?Z1YrTkYyNVlBN2c5R2VGK1ZiQkNib3Jsd21hV1hUQ0FvbDJUNWtVOXdwYldW?=
 =?utf-8?B?eUxRS2tuOWI5aCtmaDRtU0VOcnVnZVNzY1oyc09oNUtzV1BzWGNsUmNROVIr?=
 =?utf-8?B?bVArVi9QaE4yc2c1WEVCNUUzZDEva256SFd0SnRBMWtDS25MYVN3WHl2YjNw?=
 =?utf-8?B?eEM1a3cweE1SM1ZWQVVTZVJEYWVaQ3cxbWFEcGpaQ2lQQjk0cWpTVmpmdkRX?=
 =?utf-8?B?Q3NhQ3cwN2F3TlB3cXZ6WWc4TlNjUjZTdG1JZWxMQTNmN2t4b2VaQ2d0ek1I?=
 =?utf-8?B?QUJPbGdvTGdwNXM1dmpZek9GSzlSL3poWmdaZFlYbHhzL3UzOUhlVVVCT24w?=
 =?utf-8?B?WEdGdGo5dHFBPT0=?=
X-Forefront-Antispam-Report: 
	CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:DS0PR11MB8205.namprd11.prod.outlook.com;PTR:;CAT:NONE;SFS:(13230040)(52116014)(376014)(366016)(1800799024)(38350700014);DIR:OUT;SFP:1102;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0: 
	=?utf-8?B?VnR0Y1BNRDFCeUo5L3BIR3ZlL0N0VFZJMVFkMWFKTzBYUXBZRFNMYzlKNGtI?=
 =?utf-8?B?YmJENHozc0ZTRHRVb0JCM095bXJadS9qbWliZ0dWaWZGTzNKRDJCL21RRXFP?=
 =?utf-8?B?bWQ4Z2FWZllFbTNsc1ZVaDlOeXRMcFlCYWgxcWVGcldtb2FLbVhuMVhBZ1NL?=
 =?utf-8?B?NUxWeWI0bkUxTy9XS3IxVWJBTGwzMWN3WGpBQzJtQnU5a1N3eDZqeDhHN09W?=
 =?utf-8?B?Nmp4aDM4Ry82ZTAyZEszMXFBZnFmbzVKdEQvdkZkUEZNbnViamx1Y3RzYlI0?=
 =?utf-8?B?UzM4ZVEwdHJ3QzhJSFFSRGJzOGlZUU8wcVViYzdXcUppQXp3ZW9PWFBUTysz?=
 =?utf-8?B?ZXdKaU1SL3VKaHljMFdabmtia1ZoaURCUksxbmpDc1lNSm1uWVhUZmFUTWFZ?=
 =?utf-8?B?VDh1b2NRQ3gxbk5ibDNOMHFCMjMzS0JNRHNBV1BWTGpRYmpmNG9mZ1BaYWp1?=
 =?utf-8?B?R1YxN2x1Y2R2Q1pCS3hSTUxVL1N2dXM5UzI4UWlvN2VLT1RTeU0yN3V4cG1n?=
 =?utf-8?B?UUxGUXlPbUZUMk1NTnd3eUNXZzRRTW8xU3hYNVZNdUNxN0p5a0lmdW1MRktp?=
 =?utf-8?B?eDR6QjRnUm16SVc5QndFSzJIM01RVVdQNWhyVEpRTVVDUllhYWo4ekJtRUw4?=
 =?utf-8?B?Sk5VZi9hUEVpQ0pEYW12UXV4RXBhWHBZWGlmZXQ4N0ZBNkJMeDl0aUdtNGRY?=
 =?utf-8?B?bW5FVmdkK3BZOEt5K0phN0tWSVV1dEJrTnJ2WjIxWUlZMlpXRTBiY3ByMXJY?=
 =?utf-8?B?cWNUM3VvRUtaeWNaZ3BYdWd3YVBPZW1tekVwS0VEL3VaWkcwd3R2TlprUFVm?=
 =?utf-8?B?UTlTS2dsemZyZitUanpVeFRaU3B2Tlc1SkZaa000RW90MFRSSy93N2xHdkhK?=
 =?utf-8?B?OHhsMEZtRDNEbFZjZVdUOE0wWW93K1NMZ3YrczY2bktjeW9RcHM5VEJxdWUx?=
 =?utf-8?B?NHBmc1hQOHIvY2FXTEkxV1JQNXQvL1pQYTNoaTdVUUFJM3hKaFQ1RG9MeS9r?=
 =?utf-8?B?QUFqSFNUY2FWc2xjaU9EbHJBcFVPcXBXb2FaK1BzMlgzUTg0cWhoZHRSWHJ3?=
 =?utf-8?B?SHhnS2NoMitwNk1qTVk1MnlHTjQwYWxCUDlXTGU2dU83aGhNelA1UU91N1M5?=
 =?utf-8?B?VHoyWWtWWGFQYWk3QzJPckcyamxjN3pNT1ZUK1pFbHVyRkZVYkRTUVFJeWlE?=
 =?utf-8?B?eXdKeDNmSnVnT0RBUG9CUlR1d0JYYW0yd2FYWS91T2xpeUgvTzR6VnRtbnhj?=
 =?utf-8?B?ZVduZndiaDJHQ3pGM0xLNElWclN3M0x2VWZsa2ZQeEhUN3pucW5pNUNzVEhi?=
 =?utf-8?B?cFR0MnArU1htSk1UR0FPb2l4RFlFWE83SWVsYjljYWZJNFZEdE5oQTBLdTdm?=
 =?utf-8?B?ZVprUUNFdkNSeWh4ZHZtbW1wQmJtcFhsdm42ZlFTS1ByOU8vZ2Q1WDQzL3ls?=
 =?utf-8?B?bnpLQ2RlN3lWK2JtYUJIcHJHZUJYekpaWWJ3cnY4QmptUHBwTWNTdWIyQklQ?=
 =?utf-8?B?ZTJ6ZzdNc3NtNnZwbEc3b0Rxd0d2OHhEYkVzRjFjSDMrVDdTMW1qeHZkZGpS?=
 =?utf-8?B?RDdkSFhTVUl6NEVRWEpxS1JrT2dRNzViWXhmWkxEc3I0YzlFNXlBQW9sbHM3?=
 =?utf-8?B?N2xZWUVPakFJNkxZVG13OXJJWXlEQmthZjNSUWxkdzlwSGkyVFNkOFVWb1Fa?=
 =?utf-8?B?bmFzS01abU9rUm1xcGRFdDhET09DdHFqbFZ4TjBCdllBcHZTOUJQdVdDeFRw?=
 =?utf-8?B?ZnRudUEvMXBBcG9JOGQvZEJGeFJYN0N4WkJHcnlQMTliaFNHTHRzeWtvTFJv?=
 =?utf-8?B?dmZSY2hMeTlCcWRVcGJBN2lqUU9WcGdHRXo5emtsODR6T1JPQTRRVktxVzFs?=
 =?utf-8?B?V3JFa0lqMVlZMjlRQ1pxQW93NTJoTkdnY3hOYVV6Mk41b0NGQW5vTUVwU09r?=
 =?utf-8?B?ZFFDWWdrVzhwRXBNS3BrVVhHQzd5T1ZTY2ZoNzk4UHF1L2EveklvWm0xbTk3?=
 =?utf-8?B?TzEvZG5lcUJuY3BQTGlweUM3Y29IS3FvdTdRN2w0WGVtdzY4NVArRm9IYXZP?=
 =?utf-8?B?dWh3MGxiY3d5OEVtUldzVk5UQnN1SlhORERpaXpVOS82MnJZWUdDalBoU3Vt?=
 =?utf-8?Q?7EJh7DIirzzZX7JHTfwYAiNU6?=
X-OriginatorOrg: silabs.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 612c39c3-839b-40ec-6d8f-08ddbb5c9839
X-MS-Exchange-CrossTenant-AuthSource: DS0PR11MB8205.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 05 Jul 2025 00:40:52.3781
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 54dbd822-5231-4b20-944d-6f4abcd541fb
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: bP2FzxCdamjKDUGoWZTZsMBvzx7XlMQnN6QjpFv9GaZKQqMh8j31vYbu90DP5tJ4KZ1cqxefsU6gGIg8GYfTng==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SA2PR11MB5068
X-Authority-Analysis: v=2.4 cv=L4EdQ/T8 c=1 sm=1 tr=0 ts=68687497 cx=c_pps a=U259+el5m5zn0mdk/7qTUw==:117 a=6eWqkTHjU83fiwn7nKZWdM+Sl24=:19 a=lCpzRmAYbLLaTzLvsPZ7Mbvzbb8=:19 a=wKuvFiaSGQ0qltdbU6+NXLB8nM8=:19 a=Ol13hO9ccFRV9qXi2t6ftBPywas=:19
 a=xqWC_Br6kY4A:10 a=IkcTkHD0fZMA:10 a=Wb1JkmetP80A:10 a=M51BFTxLslgA:10 a=i1IsUcr2s-wA:10 a=2AEO0YjSAAAA:8 a=qtlJ5sXZiQzIo2tJRN0A:9 a=3ZKOabzyN94A:10 a=QEXdDO2ut3YA:10
X-Proofpoint-GUID: 9SCFJ6vtS2b6x7-vbN4jlJ-qnUXO_GeI
X-Proofpoint-ORIG-GUID: 9SCFJ6vtS2b6x7-vbN4jlJ-qnUXO_GeI
X-Proofpoint-Spam-Details-Enc: AW1haW4tMjUwNzA1MDAwMSBTYWx0ZWRfX7xoVnHUCYcB7 eloO8bbQvyWfYufKy0mCyf0SJ8/SdczyRz6e/s9bIy6WGOFiyJrX8M3YPj0CEbJL/3faiDGJ4PU S+Y7GcSqYXldrirCwl3Cf2Mc95dqTymyjS2j6qFPjtU6t2dEiO9Cl57KtQzPkoxR2UHpfmpk/Mw
 F+JrobCP0MOJktpy54kf38l/qwkVO841cfzrsa61rIYj9MrgoePQeBQoR+u4vJEX91/PsZH8zSF vwBVYHqaRm+fq6ACOrkR/uP51VAvQHuIYR2oQFhVZj2hx7LV2Ys5MMIHYCzYxwPY9MYiW3qq/A9 d4pxSfI7X04bBzYCkxO7brk3acVSyhj3MdajQkuYHUQmuxjbaSihrSEUYJXUaVHoOVZjio8nh7X
 1gdkT4ad8qAiOk6FTpIwBbvatYQsImErMSSTL1fetpsNfU8GUL61J+AoyDkYvdWJBBfR+WQH
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.293,Aquarius:18.0.1099,Hydra:6.1.7,FMLib:17.12.80.40
 definitions=2025-07-04_07,2025-07-04_01,2025-03-28_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0 lowpriorityscore=0
 mlxlogscore=999 priorityscore=1501 adultscore=0 malwarescore=0
 impostorscore=0 bulkscore=0 mlxscore=0 clxscore=1015 suspectscore=0
 spamscore=0 phishscore=0 classifier=spam authscore=0 authtc=n/a authcc=
 route=outbound adjust=0 reason=mlx scancount=1 engine=8.21.0-2505280000
 definitions=main-2507050001
X-Rspamd-Server: lists.linaro.org
X-Rspamd-Queue-Id: A242841111
X-Spamd-Bar: ----
X-Spamd-Result: default: False [-4.10 / 15.00];
	BAYES_HAM(-3.00)[100.00%];
	ARC_ALLOW(-1.00)[microsoft.com:s=arcselector10001:i=1];
	MID_CONTAINS_FROM(1.00)[];
	DMARC_POLICY_ALLOW(-0.50)[silabs.com,reject];
	R_SPF_ALLOW(-0.20)[+ip4:148.163.149.154];
	R_DKIM_ALLOW(-0.20)[silabs.com:s=pps12202023,silabs.com:s=selector1];
	MIME_GOOD(-0.10)[text/plain];
	RCVD_IN_DNSWL_LOW(-0.10)[148.163.149.154:from];
	MIME_TRACE(0.00)[0:+];
	TO_DN_SOME(0.00)[];
	ASN(0.00)[asn:26211, ipnet:148.163.148.0/22, country:US];
	NEURAL_HAM(-0.00)[-1.000];
	RCVD_IN_DNSWL_NONE(0.00)[40.107.244.109:received];
	FROM_EQ_ENVFROM(0.00)[];
	FROM_HAS_DN(0.00)[];
	RCPT_COUNT_SEVEN(0.00)[7];
	TO_MATCH_ENVRCPT_SOME(0.00)[];
	RCVD_COUNT_THREE(0.00)[4];
	RCVD_TLS_LAST(0.00)[];
	DKIM_TRACE(0.00)[silabs.com:+]
X-Rspamd-Action: no action
Message-ID-Hash: PEOWDRBTH4LB5K4WNJ7IIYEXRCJXGETC
X-Message-ID-Hash: PEOWDRBTH4LB5K4WNJ7IIYEXRCJXGETC
X-MailFrom: Damien.Riegel@silabs.com
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
CC: linux-kernel@vger.kernel.org, linux-devel@silabs.com, Alex Elder <elder@kernel.org>, Johan Hovold <johan@kernel.org>, =?UTF-8?q?Damien=20Ri=C3=A9gel?= <damien.riegel@silabs.com>
X-Mailman-Version: 3.3.5
Precedence: list
Subject: [greybus-dev] [RFC 3/6] greybus: cpc: add SPI driver
List-Id: Greybus Development Mail List <greybus-dev.lists.linaro.org>
Archived-At: <https://lists.linaro.org/archives/list/greybus-dev@lists.linaro.org/message/PEOWDRBTH4LB5K4WNJ7IIYEXRCJXGETC/>
List-Archive: <https://lists.linaro.org/archives/list/greybus-dev@lists.linaro.org/>
List-Help: <mailto:greybus-dev-request@lists.linaro.org?subject=help>
List-Owner: <mailto:greybus-dev-owner@lists.linaro.org>
List-Post: <mailto:greybus-dev@lists.linaro.org>
List-Subscribe: <mailto:greybus-dev-join@lists.linaro.org>
List-Unsubscribe: <mailto:greybus-dev-leave@lists.linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

SGVhZGVyIGZyYW1lcyBhcmUgYWx3YXlzIDEwIGJ5dGVzICg4IGJ5dGVzIG9mIGhlYWRlciBhbmQg
MiBieXRlcyBvZg0KY2hlY2tzdW0pLiBUaGUgaGVhZGVyIGNvbnRhaW5zIHRoZSBzaXplIG9mIHRo
ZSBwYXlsb2FkIHRvIHJlY2VpdmUgKHNpemUNCnRvIHRyYW5zbWl0IGlzIGFscmVhZHkga25vd24p
LiBBcyB0aGUgU1BJIGRldmljZSBhbHNvIGhhcyBzb21lDQpwcm9jZXNzaW5nIHRvIGRvIHdoZW4g
aXQgcmVjZWl2ZXMgYSBoZWFkZXIsIHRoZSBTUEkgZHJpdmVyIG11c3Qgd2FpdCBmb3INCnRoZSBp
bnRlcnJ1cHQgbGluZSB0byBiZSBhc3NlcnRlZCBiZWZvcmUgY2xvY2tpbmcgdGhlIHBheWxvYWQu
DQoNClRoZSBTUEkgZGV2aWNlIGFsd2F5cyBleHBlY3RzIHRoZSBjaGlwIHNlbGVjdCB0byBiZSBh
c3NlcnRlZCBhbmQNCmRlYXNzZXJ0ZWQgYWZ0ZXIgYSBoZWFkZXIsIGV2ZW4gaWYgdGhlcmUgYXJl
IG5vIHBheWxvYWRzIHRvIHRyYW5zbWl0Lg0KVGhpcyBpcyB1c2VkIHRvIGtlZXAgaGVhZGVycyB0
cmFuc21pc3Npb24gc3luY2hyb25pemVkIGJldHdlZW4gaG9zdCBhbmQNCmRldmljZS4gQXMgc29t
ZSBjb250cm9sbGVycyBkb24ndCBzdXBwb3J0IGRvaW5nIHRoYXQgaWYgdGhlcmUgaXMgbm90aGlu
Zw0KdG8gdHJhbnNtaXQsIGEgbnVsbCBieXRlIGlzIHRyYW5zbWl0dGVkIGluIHRoYXQgY2FzZSBh
bmQgaXQgd2lsbCBiZQ0KaWdub3JlZCBieSB0aGUgZGV2aWNlLg0KDQpJZiB0aGVyZSBhcmUgcGF5
bG9hZHMsIHRoZSBkcml2ZXIgd2lsbCBjbG9jayB0aGUgbWF4aW11bSBsZW5ndGggb2YgdGhlDQp0
d28gcGF5bG9hZHMuIFRoZSBwYXlsb2FkcyBhcmUgYWx3YXlzIEdyZXlidXMgbWVzc2FnZXMsIHNv
IHRoZXkgc2hvdWxkDQpiZSBhdCBsZWFzdCA4IGJ5dGVzIChHcmV5YnVzIGhlYWRlciksIHBsdXMg
YSB2YXJpYWJsZSBncmV5YnVzIHBheWxvYWQuDQoNClNpZ25lZC1vZmYtYnk6IERhbWllbiBSacOp
Z2VsIDxkYW1pZW4ucmllZ2VsQHNpbGFicy5jb20+DQotLS0NCiBkcml2ZXJzL2dyZXlidXMvY3Bj
L01ha2VmaWxlIHwgICAyICstDQogZHJpdmVycy9ncmV5YnVzL2NwYy9zcGkuYyAgICB8IDU4NSAr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKw0KIDIgZmlsZXMgY2hhbmdlZCwgNTg2
IGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkNCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVy
cy9ncmV5YnVzL2NwYy9zcGkuYw0KDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncmV5YnVzL2NwYy9N
YWtlZmlsZSBiL2RyaXZlcnMvZ3JleWJ1cy9jcGMvTWFrZWZpbGUNCmluZGV4IDA4ZWY3YzZkMjRi
Li40ZWUzN2VhNWY1MiAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3JleWJ1cy9jcGMvTWFrZWZpbGUN
CisrKyBiL2RyaXZlcnMvZ3JleWJ1cy9jcGMvTWFrZWZpbGUNCkBAIC0xLDYgKzEsNiBAQA0KICMg
U1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjANCiANCi1nYi1jcGMteSA6PSBlbmRwb2lu
dC5vIGhlYWRlci5vIGhvc3QubyBtYWluLm8gcHJvdG9jb2wubw0KK2diLWNwYy15IDo9IGVuZHBv
aW50Lm8gaGVhZGVyLm8gaG9zdC5vIG1haW4ubyBwcm90b2NvbC5vIHNwaS5vDQogDQogIyBDUEMg
Y29yZQ0KIG9iai0kKENPTkZJR19HUkVZQlVTX0NQQykJKz0gZ2ItY3BjLm8NCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dyZXlidXMvY3BjL3NwaS5jIGIvZHJpdmVycy9ncmV5YnVzL2NwYy9zcGkuYw0K
bmV3IGZpbGUgbW9kZSAxMDA2NDQNCmluZGV4IDAwMDAwMDAwMDAwLi5iOGYzODc3YmRlMQ0KLS0t
IC9kZXYvbnVsbA0KKysrIGIvZHJpdmVycy9ncmV5YnVzL2NwYy9zcGkuYw0KQEAgLTAsMCArMSw1
ODUgQEANCisvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMA0KKy8qDQorICogQ29w
eXJpZ2h0IChjKSAyMDI1LCBTaWxpY29uIExhYm9yYXRvcmllcywgSW5jLg0KKyAqLw0KKw0KKyNp
bmNsdWRlIDxsaW51eC9hdG9taWMuaD4NCisjaW5jbHVkZSA8bGludXgvY3JjLWl0dS10Lmg+DQor
I2luY2x1ZGUgPGxpbnV4L2RlbGF5Lmg+DQorI2luY2x1ZGUgPGxpbnV4L2RldmljZS5oPg0KKyNp
bmNsdWRlIDxsaW51eC9ncmV5YnVzLmg+DQorI2luY2x1ZGUgPGxpbnV4L2ludGVycnVwdC5oPg0K
KyNpbmNsdWRlIDxsaW51eC9rdGhyZWFkLmg+DQorI2luY2x1ZGUgPGxpbnV4L21pbm1heC5oPg0K
KyNpbmNsdWRlIDxsaW51eC9vZi5oPg0KKyNpbmNsdWRlIDxsaW51eC9za2J1ZmYuaD4NCisjaW5j
bHVkZSA8bGludXgvc2xhYi5oPg0KKyNpbmNsdWRlIDxsaW51eC9zcGkvc3BpLmg+DQorI2luY2x1
ZGUgPGxpbnV4L3VuYWxpZ25lZC5oPg0KKyNpbmNsdWRlIDxsaW51eC93YWl0Lmg+DQorDQorI2lu
Y2x1ZGUgImNwYy5oIg0KKyNpbmNsdWRlICJoZWFkZXIuaCINCisNCisjZGVmaW5lIENQQ19TUElf
Q1NVTV9TSVpFCQkJMg0KKyNkZWZpbmUgR0JfQ1BDX1NQSV9NU0dfU0laRV9NQVgJCQkyMDQ4DQor
I2RlZmluZSBDUENfU1BJX0lOVEVSUlVQVF9NQVhfV0FJVF9NUwkJNTAwDQorDQorc3RydWN0IGNw
Y19zcGkgew0KKwlzdHJ1Y3QgY3BjX2hvc3RfZGV2aWNlCWNwY19oZDsNCisNCisJc3RydWN0IHNw
aV9kZXZpY2UJKnNwaTsNCisNCisJc3RydWN0IHRhc2tfc3RydWN0ICp0YXNrOw0KKwl3YWl0X3F1
ZXVlX2hlYWRfdCBldmVudF9xdWV1ZTsNCisNCisJc3RydWN0IGNwY19mcmFtZSAqdHhfZnJhbWU7
DQorCXU4IHR4X2NzdW1bQ1BDX1NQSV9DU1VNX1NJWkVdOw0KKw0KKwlhdG9taWNfdCBldmVudF9j
b25kOw0KKw0KKwl1bnNpZ25lZCBpbnQgcnhfbGVuOw0KKwlzdHJ1Y3QgY3BjX2hlYWRlciByeF9o
ZWFkZXI7DQorCXU4IHJ4X2ZyYW1lW0dCX0NQQ19TUElfTVNHX1NJWkVfTUFYICsgQ1BDX1NQSV9D
U1VNX1NJWkVdOw0KKwl1OCByeF9jc3VtW0NQQ19TUElfQ1NVTV9TSVpFXTsNCit9Ow0KKw0KK3N0
cnVjdCBjcGNfeGZlciB7DQorCXU4CQkqZGF0YTsNCisJdW5zaWduZWQgaW50CXRvdGFsX2xlbjsN
CisJdW5zaWduZWQgaW50CXJlbWFpbmluZ19sZW47DQorfTsNCisNCitzdGF0aWMgaW5saW5lIHN0
cnVjdCBjcGNfc3BpICpnYl9oZF90b19jcGNfc3BpKHN0cnVjdCBnYl9ob3N0X2RldmljZSAqaGQp
DQorew0KKwlyZXR1cm4gKHN0cnVjdCBjcGNfc3BpICopJmhkLT5oZF9wcml2Ow0KK30NCisNCitz
dGF0aWMgaW5saW5lIHN0cnVjdCBjcGNfc3BpICpjcGNfaGRfdG9fY3BjX3NwaShzdHJ1Y3QgY3Bj
X2hvc3RfZGV2aWNlICpjcGNfaGQpDQorew0KKwlyZXR1cm4gY29udGFpbmVyX29mKGNwY19oZCwg
c3RydWN0IGNwY19zcGksIGNwY19oZCk7DQorfQ0KKw0KK3N0YXRpYyBpbnQgZ2JfY3BjX3NwaV93
YWtlX3R4KHN0cnVjdCBjcGNfaG9zdF9kZXZpY2UgKmNwY19oZCkNCit7DQorCXN0cnVjdCBjcGNf
c3BpICpjdHggPSBjcGNfaGRfdG9fY3BjX3NwaShjcGNfaGQpOw0KKw0KKwl3YWtlX3VwX2ludGVy
cnVwdGlibGUoJmN0eC0+ZXZlbnRfcXVldWUpOw0KKw0KKwlyZXR1cm4gMDsNCit9DQorDQorc3Rh
dGljIGJvb2wgYnVmZmVyX2lzX3plcm9lcyhjb25zdCB1OCAqYnVmZmVyLCBzaXplX3QgbGVuZ3Ro
KQ0KK3sNCisJZm9yIChzaXplX3QgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgew0KKwkJaWYgKGJ1
ZmZlcltpXSAhPSAwKQ0KKwkJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwlyZXR1cm4gdHJ1ZTsN
Cit9DQorDQorc3RhdGljIHUxNiBnYl9jcGNfc3BpX2NzdW0odTE2IHN0YXJ0LCBjb25zdCB1OCAq
YnVmZmVyLCBzaXplX3QgbGVuZ3RoKQ0KK3sNCisJcmV0dXJuIGNyY19pdHVfdChzdGFydCwgYnVm
ZmVyLCBsZW5ndGgpOw0KK30NCisNCitzdGF0aWMgaW50IGdiX2NwY19zcGlfZG9feGZlcl9oZWFk
ZXIoc3RydWN0IGNwY19zcGkgKmN0eCkNCit7DQorCXN0cnVjdCBzcGlfdHJhbnNmZXIgeGZlcl9o
ZWFkZXIgPSB7DQorCQkucnhfYnVmID0gKHU4ICopJmN0eC0+cnhfaGVhZGVyLA0KKwkJLmxlbiA9
IENQQ19IRUFERVJfU0laRSwNCisJCS5zcGVlZF9oeiA9IGN0eC0+c3BpLT5tYXhfc3BlZWRfaHos
DQorCX07DQorCXN0cnVjdCBzcGlfdHJhbnNmZXIgeGZlcl9jc3VtID0gew0KKwkJLnJ4X2J1ZiA9
ICZjdHgtPnJ4X2NzdW0sDQorCQkubGVuID0gc2l6ZW9mKGN0eC0+dHhfY3N1bSksDQorCQkuc3Bl
ZWRfaHogPSBjdHgtPnNwaS0+bWF4X3NwZWVkX2h6LA0KKwl9Ow0KKwllbnVtIGNwY19mcmFtZV90
eXBlIHR5cGU7DQorCXN0cnVjdCBzcGlfbWVzc2FnZSBtc2c7DQorCXNpemVfdCBwYXlsb2FkX2xl
biA9IDA7DQorCXUxNiByeF9jc3VtOw0KKwl1MTYgY3N1bTsNCisJaW50IHJldDsNCisNCisJaWYg
KGN0eC0+dHhfZnJhbWUpIHsNCisJCXUxNiB0eF9oZHJfY3N1bSA9IGdiX2NwY19zcGlfY3N1bSgw
LCAodTggKikmY3R4LT50eF9mcmFtZS0+aGVhZGVyLCBDUENfSEVBREVSX1NJWkUpOw0KKw0KKwkJ
cHV0X3VuYWxpZ25lZF9sZTE2KHR4X2hkcl9jc3VtLCBjdHgtPnR4X2NzdW0pOw0KKw0KKwkJeGZl
cl9oZWFkZXIudHhfYnVmID0gJmN0eC0+dHhfZnJhbWUtPmhlYWRlcjsNCisJCXhmZXJfY3N1bS50
eF9idWYgPSBjdHgtPnR4X2NzdW07DQorCX0NCisNCisJc3BpX21lc3NhZ2VfaW5pdCgmbXNnKTsN
CisJc3BpX21lc3NhZ2VfYWRkX3RhaWwoJnhmZXJfaGVhZGVyLCAmbXNnKTsNCisJc3BpX21lc3Nh
Z2VfYWRkX3RhaWwoJnhmZXJfY3N1bSwgJm1zZyk7DQorDQorCXJldCA9IHNwaV9zeW5jKGN0eC0+
c3BpLCAmbXNnKTsNCisJaWYgKHJldCkNCisJCXJldHVybiByZXQ7DQorDQorCWlmIChjdHgtPnR4
X2ZyYW1lKSB7DQorCQlpZiAoIWN0eC0+dHhfZnJhbWUtPm1lc3NhZ2UpIHsNCisJCQljcGNfZnJh
bWVfc2VudChjdHgtPnR4X2ZyYW1lLCByZXQpOw0KKwkJCWN0eC0+dHhfZnJhbWUgPSBOVUxMOw0K
KwkJfQ0KKwl9DQorDQorCWlmIChidWZmZXJfaXNfemVyb2VzKCh1OCAqKSZjdHgtPnJ4X2hlYWRl
ciwgQ1BDX0hFQURFUl9TSVpFKSkNCisJCXJldHVybiAwOw0KKw0KKwlyeF9jc3VtID0gZ2V0X3Vu
YWxpZ25lZF9sZTE2KCZjdHgtPnJ4X2NzdW0pOw0KKwljc3VtID0gZ2JfY3BjX3NwaV9jc3VtKDAs
ICh1OCAqKSZjdHgtPnJ4X2hlYWRlciwgQ1BDX0hFQURFUl9TSVpFKTsNCisNCisJaWYgKHJ4X2Nz
dW0gIT0gY3N1bSB8fCAhY3BjX2hlYWRlcl9nZXRfdHlwZSgmY3R4LT5yeF9oZWFkZXIsICZ0eXBl
KSkgew0KKwkJLyoNCisJCSAqIElmIHRoZSBoZWFkZXIgY2hlY2tzdW0gaXMgaW52YWxpZCwgaXRz
IGxlbmd0aCBjYW4ndCBiZSB0cnVzdGVkLCByZWNlaXZlDQorCQkgKiB0aGUgbWF4aW11bSBwYXls
b2FkIGxlbmd0aCB0byByZWNvdmVyIGZyb20gdGhhdCBzaXR1YXRpb24uIElmIHRoZSBmcmFtZQ0K
KwkJICogdHlwZSBjYW5ub3QgYmUgZXh0cmFjdGVkIGZyb20gdGhlIGhlYWRlciwgdXNlIHNhbWUg
cmVjb3ZlcnkgbWVjaGFuaXNtLg0KKwkJICovDQorCQljdHgtPnJ4X2xlbiA9IEdCX0NQQ19TUElf
TVNHX1NJWkVfTUFYOw0KKw0KKwkJcmV0dXJuIDA7DQorCX0NCisNCisJaWYgKHR5cGUgPT0gQ1BD
X0ZSQU1FX1RZUEVfREFUQSkNCisJCXBheWxvYWRfbGVuID0gY3BjX2hlYWRlcl9nZXRfcGF5bG9h
ZF9sZW4oJmN0eC0+cnhfaGVhZGVyKSArDQorCQkJICAgICAgc2l6ZW9mKGN0eC0+dHhfY3N1bSk7
DQorDQorCWlmIChwYXlsb2FkX2xlbikNCisJCWN0eC0+cnhfbGVuID0gcGF5bG9hZF9sZW47DQor
CWVsc2UNCisJCWNwY19oZF9yY3ZkKCZjdHgtPmNwY19oZCwgJmN0eC0+cnhfaGVhZGVyLCBOVUxM
LCAwKTsNCisNCisJcmV0dXJuIDA7DQorfQ0KKw0KK3N0YXRpYyBpbnQgZ2JfY3BjX3NwaV9kb194
ZmVyX25vdGNoKHN0cnVjdCBjcGNfc3BpICpjdHgpDQorew0KKwlzdHJ1Y3Qgc3BpX3RyYW5zZmVy
IHhmZXIgPSB7DQorCQkudHhfYnVmID0gY3R4LT50eF9jc3VtLA0KKwkJLmxlbiA9IDEsDQorCQku
c3BlZWRfaHogPSBjdHgtPnNwaS0+bWF4X3NwZWVkX2h6LA0KKwl9Ow0KKwlzdHJ1Y3Qgc3BpX21l
c3NhZ2UgbXNnOw0KKw0KKwljdHgtPnR4X2NzdW1bMF0gPSAwOw0KKw0KKwlzcGlfbWVzc2FnZV9p
bml0KCZtc2cpOw0KKwlzcGlfbWVzc2FnZV9hZGRfdGFpbCgmeGZlciwgJm1zZyk7DQorDQorCXJl
dHVybiBzcGlfc3luYyhjdHgtPnNwaSwgJm1zZyk7DQorfQ0KKw0KK3N0YXRpYyB1bnNpZ25lZCBp
bnQgZmlsbF94ZmVyKHN0cnVjdCBzcGlfdHJhbnNmZXIgKnhmZXIsDQorCQkJICAgICAgdTggKip0
eCwgdW5zaWduZWQgaW50ICp0eF9sZW4sDQorCQkJICAgICAgdTggKipyeCwgdW5zaWduZWQgaW50
ICpyeF9sZW4pDQorew0KKwl1bnNpZ25lZCBpbnQgeGZlcl9sZW4gPSAwOw0KKw0KKwlpZiAoKnR4
X2xlbiAmJiAqcnhfbGVuKQ0KKwkJeGZlcl9sZW4gPSAoKnR4X2xlbiA8ICpyeF9sZW4pID8gKnR4
X2xlbiA6ICpyeF9sZW47DQorCWVsc2UgaWYgKCp0eF9sZW4pDQorCQl4ZmVyX2xlbiA9ICp0eF9s
ZW47DQorCWVsc2UgaWYgKCpyeF9sZW4pDQorCQl4ZmVyX2xlbiA9ICpyeF9sZW47DQorCWVsc2UN
CisJCXJldHVybiAwOw0KKw0KKwl4ZmVyLT50eF9idWYgPSAqdHg7DQorCXhmZXItPnJ4X2J1ZiA9
ICpyeDsNCisJeGZlci0+bGVuID0geGZlcl9sZW47DQorDQorCWlmICgqdHgpIHsNCisJCSp0eCAr
PSB4ZmVyX2xlbjsNCisJCSp0eF9sZW4gLT0geGZlcl9sZW47DQorCX0NCisNCisJaWYgKCpyeCkg
ew0KKwkJKnJ4ICs9IHhmZXJfbGVuOw0KKwkJKnJ4X2xlbiAtPSB4ZmVyX2xlbjsNCisJfQ0KKw0K
KwlyZXR1cm4geGZlcl9sZW47DQorfQ0KKw0KK3N0YXRpYyBpbnQgZ2JfY3BjX3NwaV9kb194ZmVy
X3BheWxvYWQoc3RydWN0IGNwY19zcGkgKmN0eCkNCit7DQorCXVuc2lnbmVkIGludCByeF9sZW4g
PSBjdHgtPnJ4X2xlbiA/IGN0eC0+cnhfbGVuICsgQ1BDX1NQSV9DU1VNX1NJWkUgOiAwOw0KKwlz
dHJ1Y3Qgc3BpX3RyYW5zZmVyIHhmZXJzWzRdOw0KKwlzdHJ1Y3Qgc3BpX21lc3NhZ2UgbXNnOw0K
KwlpbnQgcmV0Ow0KKw0KKwl1bnNpZ25lZCBpbnQgdHhfbGVuc1szXSA9IHsgMCB9Ow0KKwl1OCAq
dHhfcHRyc1szXSA9IHsgTlVMTCB9Ow0KKw0KKwlzcGlfbWVzc2FnZV9pbml0KCZtc2cpOw0KKw0K
KwlpZiAoY3R4LT50eF9mcmFtZSAmJiBjdHgtPnR4X2ZyYW1lLT5tZXNzYWdlKSB7DQorCQlzdHJ1
Y3QgZ2JfbWVzc2FnZSAqbSA9IGN0eC0+dHhfZnJhbWUtPm1lc3NhZ2U7DQorCQl1bnNpZ25lZCBp
bnQgaWR4ID0gMDsNCisJCXUxNiBjc3VtID0gMDsNCisNCisJCXR4X3B0cnNbaWR4XSAgID0gKHU4
ICopbS0+aGVhZGVyOw0KKwkJdHhfbGVuc1tpZHgrK10gPSBzaXplb2Yoc3RydWN0IGdiX29wZXJh
dGlvbl9tc2dfaGRyKTsNCisJCWNzdW0gPSBnYl9jcGNfc3BpX2NzdW0oY3N1bSwgKHU4ICopbS0+
aGVhZGVyLCBzaXplb2Yoc3RydWN0IGdiX29wZXJhdGlvbl9tc2dfaGRyKSk7DQorDQorCQlpZiAo
bS0+cGF5bG9hZF9zaXplKSB7DQorCQkJdHhfcHRyc1tpZHhdICAgPSBtLT5wYXlsb2FkOw0KKwkJ
CXR4X2xlbnNbaWR4KytdID0gbS0+cGF5bG9hZF9zaXplOw0KKwkJCWNzdW0gPSBnYl9jcGNfc3Bp
X2NzdW0oY3N1bSwgbS0+cGF5bG9hZCwgbS0+cGF5bG9hZF9zaXplKTsNCisJCX0NCisNCisJCXB1
dF91bmFsaWduZWRfbGUxNihjc3VtLCBjdHgtPnR4X2NzdW0pOw0KKw0KKwkJdHhfcHRyc1tpZHhd
ICAgPSBjdHgtPnR4X2NzdW07DQorCQl0eF9sZW5zW2lkeCsrXSA9IENQQ19TUElfQ1NVTV9TSVpF
Ow0KKwl9DQorDQorCXVuc2lnbmVkIGludCB0eF9pZHggPSAwOw0KKwl1bnNpZ25lZCBpbnQgdHhf
bGVuID0gdHhfbGVuc1t0eF9pZHhdOw0KKwl1OCAqdHhfcHRyID0gdHhfcHRyc1t0eF9pZHhdOw0K
Kwl1OCAqcnhfcHRyID0gcnhfbGVuID8gY3R4LT5yeF9mcmFtZSA6IE5VTEw7DQorDQorCS8qDQor
CSAqIFRoaXMgbG9vcCBnb2VzIG92ZXIgYSBsaXN0IG9mIFRYIGVsZW1lbnRzIHRvIHNlbmQuIFRo
ZXJlIGNhbiBiZSAwLCAyIG9yIDMgKG5vdGhpbmcsDQorCSAqIGdyZXlidXMgaGVhZGVyICsgY3N1
bSwgYW5kIG9wdGlvbmFsbHkgZ3JleWJ1cyBwYXlsb2FkKS4NCisJICogUlgsIGlmIHByZXNlbnQs
IGNvbnNpc3RzIG9mIG9ubHkgb25lIGVsZW1lbnQuDQorCSAqCVsgdHhfcHRyMTsgdHhfbGVuMSBd
IC0tPiBbIHR4X3B0cjI7IHR4X2xlbjIgXSAtLT4gWyB0eF9wdHIzOyB0eF9sZW4zIF0NCisJICoJ
WyByeF9wdHIxOyByeF9sZW4xIF0NCisJICoNCisJICogVGhlIFJYIGJ1ZmZlciBjYW4gc3BhbiBv
dmVyIHNldmVyYWwgVFggYnVmZmVycywgdGhlIGxvb3AgdGFrZXMgY2FyZSBvZiBjaHVua2luZyBp
bnRvDQorCSAqIHNwaV90cmFuc2Zlci4NCisJICoNCisJICovDQorCWZvciAodW5zaWduZWQgaW50
IGkgPSAwOyBpIDwgQVJSQVlfU0laRSh4ZmVycyk7IGkrKykgew0KKwkJc3RydWN0IHNwaV90cmFu
c2ZlciAqeGZlciA9ICZ4ZmVyc1tpXTsNCisNCisJCWZpbGxfeGZlcih4ZmVyLCAmdHhfcHRyLCAm
dHhfbGVuLCAmcnhfcHRyLCAmcnhfbGVuKTsNCisNCisJCXNwaV9tZXNzYWdlX2FkZF90YWlsKHhm
ZXIsICZtc2cpOw0KKw0KKwkJLyoNCisJCSAqIElmIHRoZSByeCBwb2ludGVyIGlzIG5vdCBOVUxM
LCBidXQgdGhlIHJ4IGxlbmd0aCBpcyAwLCBpdCBtZWFucyB0aGF0IHRoZSByeA0KKwkJICogYnVm
ZmVyIHdhcyBmdWxseSB0cmFuc2ZlcnJlZCBpbiB0aGlzIGl0ZXJhdGlvbi4NCisJCSAqLw0KKwkJ
aWYgKHJ4X3B0ciAmJiAhcnhfbGVuKSB7DQorCQkJcnhfcHRyID0gTlVMTDsNCisNCisJCQkvKg0K
KwkJCSAqIEFuZCBpZiB0eF9wdHIgaXMgTlVMTCwgaXQgbWVhbnMgdGhlcmUgd2FzIG5vIFRYIGRh
dGEgdG8gc2VuZCwgc28gdGhlDQorCQkJICogdHJhbnNmZXIgaXMgZG9uZS4NCisJCQkgKi8NCisJ
CQlpZiAoIXR4X3B0cikNCisJCQkJYnJlYWs7DQorCQl9DQorDQorCQkvKg0KKwkJICogSWYgdHhf
bGVuIGlzIHplcm8sIGl0IG1lYW5zIHdlIGNhbiBnbyB0aGUgbmV4dCBUWCBlbGVtZW50IHRvIHRy
YW5zZmVyLg0KKwkJICovDQorCQlpZiAoIXR4X2xlbikgew0KKwkJCXR4X2lkeCsrOw0KKwkJCWlm
ICh0eF9pZHggPCBBUlJBWV9TSVpFKHR4X3B0cnMpKSB7DQorCQkJCXR4X2xlbiA9IHR4X2xlbnNb
dHhfaWR4XTsNCisJCQkJdHhfcHRyID0gdHhfcHRyc1t0eF9pZHhdOw0KKwkJCX0gZWxzZSB7DQor
CQkJCXR4X2xlbiA9IDA7DQorCQkJCXR4X3B0ciA9IE5VTEw7DQorCQkJfQ0KKw0KKwkJCS8qDQor
CQkJICogSWYgdGhlcmUncyBub3RoaW5nIGVsc2UgdG8gdHJhbnNmZXIgYW5kIHRoZSByeF9sZW4g
d2FzIGFsc28gTlVMTCwNCisJCQkgKiB0aGF0IG1lYW5zIHRoZSB0cmFuc2ZlciBpcyBmdWxseSBw
cmVwYXJlZC4NCisJCQkgKi8NCisJCQlpZiAoIXR4X2xlbiAmJiAhcnhfbGVuKQ0KKwkJCQlicmVh
azsNCisJCX0NCisJfQ0KKw0KKwlyZXQgPSBzcGlfc3luYyhjdHgtPnNwaSwgJm1zZyk7DQorCWlm
IChyZXQpDQorCQlnb3RvIGV4aXQ7DQorDQorCWlmIChjdHgtPnJ4X2xlbikgew0KKwkJdW5zaWdu
ZWQgY2hhciAqY3N1bV9wdHI7DQorCQl1MTYgZXhwZWN0ZWRfY3N1bTsNCisJCXUxNiBjc3VtOw0K
Kw0KKwkJaWYgKHJldCkNCisJCQlnb3RvIGV4aXQ7DQorDQorCQljc3VtX3B0ciA9IGN0eC0+cnhf
ZnJhbWUgKyBjdHgtPnJ4X2xlbjsNCisJCWNzdW0gPSBnZXRfdW5hbGlnbmVkX2xlMTYoY3N1bV9w
dHIpOw0KKw0KKwkJZXhwZWN0ZWRfY3N1bSA9IGdiX2NwY19zcGlfY3N1bSgwLCBjdHgtPnJ4X2Zy
YW1lLCBjdHgtPnJ4X2xlbik7DQorDQorCQlpZiAoY3N1bSA9PSBleHBlY3RlZF9jc3VtKQ0KKwkJ
CWNwY19oZF9yY3ZkKCZjdHgtPmNwY19oZCwgJmN0eC0+cnhfaGVhZGVyLCBjdHgtPnJ4X2ZyYW1l
LCBjdHgtPnJ4X2xlbik7DQorCX0NCisNCitleGl0Og0KKwljdHgtPnJ4X2xlbiA9IDA7DQorDQor
CXJldHVybiByZXQ7DQorfQ0KKw0KK3N0YXRpYyBpbnQgZ2JfY3BjX3NwaV9kb194ZmVyX3RocmVh
ZCh2b2lkICpkYXRhKQ0KK3sNCisJc3RydWN0IGNwY19zcGkgKmN0eCA9IGRhdGE7DQorCWJvb2wg
eGZlcl9pZGxlID0gdHJ1ZTsNCisJaW50IHJldDsNCisNCisJd2hpbGUgKCFrdGhyZWFkX3Nob3Vs
ZF9zdG9wKCkpIHsNCisJCWlmICh4ZmVyX2lkbGUpIHsNCisJCQlyZXQgPSB3YWl0X2V2ZW50X2lu
dGVycnVwdGlibGUoY3R4LT5ldmVudF9xdWV1ZSwNCisJCQkJCQkgICAgICAgKCFjcGNfaGRfdHhf
cXVldWVfZW1wdHkoJmN0eC0+Y3BjX2hkKSB8fA0KKwkJCQkJCQlhdG9taWNfcmVhZCgmY3R4LT5l
dmVudF9jb25kKSA9PSAxIHx8DQorCQkJCQkJCWt0aHJlYWRfc2hvdWxkX3N0b3AoKSkpOw0KKw0K
KwkJCWlmIChyZXQpDQorCQkJCWNvbnRpbnVlOw0KKw0KKwkJCWlmIChrdGhyZWFkX3Nob3VsZF9z
dG9wKCkpDQorCQkJCXJldHVybiAwOw0KKw0KKwkJCWlmICghY3R4LT50eF9mcmFtZSkNCisJCQkJ
Y3R4LT50eF9mcmFtZSA9IGNwY19oZF9kZXF1ZXVlKCZjdHgtPmNwY19oZCk7DQorDQorCQkJLyoN
CisJCQkgKiBSZXNldCB0aHJlYWQgZXZlbnQgcmlnaHQgYmVmb3JlIHRyYW5zbWlzc2lvbiB0byBw
cmV2ZW50IGludGVycnVwdHMgdGhhdA0KKwkJCSAqIGhhcHBlbmVkIHdoaWxlIHRoZSB0aHJlYWQg
d2FzIGFscmVhZHkgYXdha2UgdG8gd2FrZSB1cCB0aGUgdGhyZWFkIGFnYWluLA0KKwkJCSAqIGFz
IHRoZSBldmVudCBpcyBnb2luZyB0byBiZSBoYW5kbGVkIGJ5IHRoaXMgaXRlcmF0aW9uLg0KKwkJ
CSAqLw0KKwkJCWF0b21pY19zZXQoJmN0eC0+ZXZlbnRfY29uZCwgMCk7DQorDQorCQkJcmV0ID0g
Z2JfY3BjX3NwaV9kb194ZmVyX2hlYWRlcihjdHgpOw0KKwkJCWlmICghcmV0KQ0KKwkJCQl4ZmVy
X2lkbGUgPSBmYWxzZTsNCisJCX0gZWxzZSB7DQorCQkJcmV0ID0gd2FpdF9ldmVudF90aW1lb3V0
KGN0eC0+ZXZlbnRfcXVldWUsDQorCQkJCQkJIChhdG9taWNfcmVhZCgmY3R4LT5ldmVudF9jb25k
KSA9PSAxIHx8DQorCQkJCQkJICBrdGhyZWFkX3Nob3VsZF9zdG9wKCkpLA0KKwkJCQkJCSBtc2Vj
c190b19qaWZmaWVzKENQQ19TUElfSU5URVJSVVBUX01BWF9XQUlUX01TKSk7DQorCQkJaWYgKHJl
dCA9PSAwKSB7DQorCQkJCWRldl9lcnJfb25jZSgmY3R4LT5zcGktPmRldiwgImRldmljZSBkaWRu
J3QgYXNzZXJ0IGludGVycnVwdCBpbiBhIHRpbWVseSBtYW5uZXJcbiIpOw0KKwkJCQljb250aW51
ZTsNCisJCQl9DQorDQorCQkJYXRvbWljX3NldCgmY3R4LT5ldmVudF9jb25kLCAwKTsNCisNCisJ
CQlpZiAoIWN0eC0+dHhfZnJhbWUgJiYgIWN0eC0+cnhfbGVuKQ0KKwkJCQlyZXQgPSBnYl9jcGNf
c3BpX2RvX3hmZXJfbm90Y2goY3R4KTsNCisJCQllbHNlDQorCQkJCXJldCA9IGdiX2NwY19zcGlf
ZG9feGZlcl9wYXlsb2FkKGN0eCk7DQorDQorCQkJaWYgKCFyZXQpDQorCQkJCXhmZXJfaWRsZSA9
IHRydWU7DQorCQl9DQorCX0NCisNCisJcmV0dXJuIDA7DQorfQ0KKw0KK3N0YXRpYyBpcnFyZXR1
cm5fdCBnYl9jcGNfc3BpX2lycV9oYW5kbGVyKGludCBpcnEsIHZvaWQgKmRhdGEpDQorew0KKwlz
dHJ1Y3QgY3BjX3NwaSAqY3R4ID0gZGF0YTsNCisNCisJYXRvbWljX3NldCgmY3R4LT5ldmVudF9j
b25kLCAxKTsNCisJd2FrZV91cCgmY3R4LT5ldmVudF9xdWV1ZSk7DQorDQorCXJldHVybiBJUlFf
SEFORExFRDsNCit9DQorDQorc3RhdGljIGludCBnYl9jcGNfc3BpX2Nwb3J0X2FsbG9jYXRlKHN0
cnVjdCBnYl9ob3N0X2RldmljZSAqaGQsIGludCBjcG9ydF9pZCwgdW5zaWduZWQgbG9uZyBmbGFn
cykNCit7DQorCXN0cnVjdCBjcGNfc3BpICpjdHggPSBnYl9oZF90b19jcGNfc3BpKGhkKTsNCisJ
c3RydWN0IGNwY19lbmRwb2ludCAqZXA7DQorDQorCWZvciAoaW50IGkgPSAwOyBpIDwgQVJSQVlf
U0laRShjdHgtPmNwY19oZC5lbmRwb2ludHMpOyBpKyspIHsNCisJCWlmIChjdHgtPmNwY19oZC5l
bmRwb2ludHNbaV0gIT0gTlVMTCkNCisJCQljb250aW51ZTsNCisNCisJCWlmIChjcG9ydF9pZCA8
IDApDQorCQkJY3BvcnRfaWQgPSBpOw0KKw0KKwkJZXAgPSBjcGNfZW5kcG9pbnRfYWxsb2MoY3Bv
cnRfaWQsIEdGUF9LRVJORUwpOw0KKwkJaWYgKCFlcCkNCisJCQlyZXR1cm4gLUVOT01FTTsNCisN
CisJCWVwLT5jcGNfaGQgPSAmY3R4LT5jcGNfaGQ7DQorDQorCQljdHgtPmNwY19oZC5lbmRwb2lu
dHNbaV0gPSBlcDsNCisJCXJldHVybiBjcG9ydF9pZDsNCisJfQ0KKw0KKwlyZXR1cm4gLUVOT1NQ
QzsNCit9DQorDQorc3RhdGljIHZvaWQgZ2JfY3BjX3NwaV9jcG9ydF9yZWxlYXNlKHN0cnVjdCBn
Yl9ob3N0X2RldmljZSAqaGQsIHUxNiBjcG9ydF9pZCkNCit7DQorCXN0cnVjdCBjcGNfc3BpICpj
dHggPSBnYl9oZF90b19jcGNfc3BpKGhkKTsNCisJc3RydWN0IGNwY19lbmRwb2ludCAqZXA7DQor
DQorCWZvciAoaW50IGkgPSAwOyBpIDwgQVJSQVlfU0laRShjdHgtPmNwY19oZC5lbmRwb2ludHMp
OyBpKyspIHsNCisJCWVwID0gY3R4LT5jcGNfaGQuZW5kcG9pbnRzW2ldOw0KKwkJaWYgKGVwICYm
IGVwLT5pZCA9PSBjcG9ydF9pZCkgew0KKwkJCWNwY19lbmRwb2ludF9yZWxlYXNlKGVwKTsNCisJ
CQljdHgtPmNwY19oZC5lbmRwb2ludHNbaV0gPSBOVUxMOw0KKwkJCWJyZWFrOw0KKwkJfQ0KKwl9
DQorfQ0KKw0KK3N0YXRpYyBpbnQgZ2JfY3BjX3NwaV9jcG9ydF9lbmFibGUoc3RydWN0IGdiX2hv
c3RfZGV2aWNlICpoZCwgdTE2IGNwb3J0X2lkLA0KKwkJCQkgICB1bnNpZ25lZCBsb25nIGZsYWdz
KQ0KK3sNCisJc3RydWN0IGNwY19zcGkgKmN0eCA9IGdiX2hkX3RvX2NwY19zcGkoaGQpOw0KKwlz
dHJ1Y3QgY3BjX2VuZHBvaW50ICplcDsNCisNCisJZXAgPSBjcGNfaGRfZ2V0X2VuZHBvaW50KCZj
dHgtPmNwY19oZCwgY3BvcnRfaWQpOw0KKwlpZiAoIWVwKQ0KKwkJcmV0dXJuIC1FTk9ERVY7DQor
DQorCXJldHVybiBjcGNfZW5kcG9pbnRfY29ubmVjdChlcCk7DQorfQ0KKw0KK3N0YXRpYyBpbnQg
Z2JfY3BjX3NwaV9jcG9ydF9kaXNhYmxlKHN0cnVjdCBnYl9ob3N0X2RldmljZSAqaGQsIHUxNiBj
cG9ydF9pZCkNCit7DQorCXN0cnVjdCBjcGNfc3BpICpjdHggPSBnYl9oZF90b19jcGNfc3BpKGhk
KTsNCisJc3RydWN0IGNwY19lbmRwb2ludCAqZXA7DQorDQorCWVwID0gY3BjX2hkX2dldF9lbmRw
b2ludCgmY3R4LT5jcGNfaGQsIGNwb3J0X2lkKTsNCisJaWYgKCFlcCkNCisJCXJldHVybiAtRU5P
REVWOw0KKw0KKwlyZXR1cm4gY3BjX2VuZHBvaW50X2Rpc2Nvbm5lY3QoZXApOw0KK30NCisNCitz
dGF0aWMgaW50IGdiX2NwY19zcGlfbWVzc2FnZV9zZW5kKHN0cnVjdCBnYl9ob3N0X2RldmljZSAq
aGQsIHUxNiBjcG9ydF9pZCwNCisJCQkJICAgc3RydWN0IGdiX21lc3NhZ2UgKm1lc3NhZ2UsIGdm
cF90IGdmcF9tYXNrKQ0KK3sNCisJc3RydWN0IGNwY19zcGkgKmN0eCA9IGdiX2hkX3RvX2NwY19z
cGkoaGQpOw0KKwlzdHJ1Y3QgY3BjX2VuZHBvaW50ICplcDsNCisJc3RydWN0IGNwY19mcmFtZSAq
ZnJhbWU7DQorDQorCWZyYW1lID0gY3BjX2ZyYW1lX2FsbG9jKG1lc3NhZ2UsIGdmcF9tYXNrKTsN
CisJaWYgKCFmcmFtZSkNCisJCXJldHVybiAtRU5PTUVNOw0KKw0KKwllcCA9IGNwY19oZF9nZXRf
ZW5kcG9pbnQoJmN0eC0+Y3BjX2hkLCBjcG9ydF9pZCk7DQorCWlmICghZXApIHsNCisJCWNwY19m
cmFtZV9mcmVlKGZyYW1lKTsNCisJCXJldHVybiAtRU5PREVWOw0KKwl9DQorDQorCW1lc3NhZ2Ut
PmhjcHJpdiA9IGZyYW1lOw0KKw0KKwlyZXR1cm4gY3BjX2VuZHBvaW50X2ZyYW1lX3NlbmQoZXAs
IGZyYW1lKTsNCit9DQorDQorc3RhdGljIHZvaWQgZ2JfY3BjX3NwaV9tZXNzYWdlX2NhbmNlbChz
dHJ1Y3QgZ2JfbWVzc2FnZSAqbWVzc2FnZSkNCit7DQorCXN0cnVjdCBjcGNfZnJhbWUgKmZyYW1l
ID0gbWVzc2FnZS0+aGNwcml2Ow0KKw0KKwlmcmFtZS0+Y2FuY2VsbGVkID0gdHJ1ZTsNCit9DQor
DQorc3RhdGljIHN0cnVjdCBnYl9oZF9kcml2ZXIgZ2JfY3BjX2RyaXZlciA9IHsNCisJLmhkX3By
aXZfc2l6ZQkJCT0gc2l6ZW9mKHN0cnVjdCBjcGNfc3BpKSwNCisJLm1lc3NhZ2Vfc2VuZAkJCT0g
Z2JfY3BjX3NwaV9tZXNzYWdlX3NlbmQsDQorCS5tZXNzYWdlX2NhbmNlbAkJCT0gZ2JfY3BjX3Nw
aV9tZXNzYWdlX2NhbmNlbCwNCisJLmNwb3J0X2FsbG9jYXRlCQkJPSBnYl9jcGNfc3BpX2Nwb3J0
X2FsbG9jYXRlLA0KKwkuY3BvcnRfcmVsZWFzZQkJCT0gZ2JfY3BjX3NwaV9jcG9ydF9yZWxlYXNl
LA0KKwkuY3BvcnRfZW5hYmxlCQkJPSBnYl9jcGNfc3BpX2Nwb3J0X2VuYWJsZSwNCisJLmNwb3J0
X2Rpc2FibGUJCQk9IGdiX2NwY19zcGlfY3BvcnRfZGlzYWJsZSwNCit9Ow0KKw0KKw0KK3N0YXRp
YyBpbnQgY3BjX3NwaV9wcm9iZShzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpKQ0KK3sNCisJc3RydWN0
IGdiX2hvc3RfZGV2aWNlICpoZDsNCisJc3RydWN0IGNwY19zcGkgKmN0eDsNCisJaW50IHJldDsN
CisNCisJaWYgKCFzcGktPmlycSkgew0KKwkJZGV2X2Vycigmc3BpLT5kZXYsICJjYW5ub3QgZnVu
Y3Rpb24gd2l0aG91dCBJUlEsIHBsZWFzZSBwcm92aWRlIG9uZVxuIik7DQorCQlyZXR1cm4gLUVJ
TlZBTDsNCisJfQ0KKw0KKwloZCA9IGdiX2hkX2NyZWF0ZSgmZ2JfY3BjX2RyaXZlciwgJnNwaS0+
ZGV2LA0KKwkJCSAgR0JfQ1BDX1NQSV9NU0dfU0laRV9NQVgsIEdCX0NQQ19TUElfTlVNX0NQT1JU
Uyk7DQorCWlmIChJU19FUlIoaGQpKQ0KKwkJcmV0dXJuIFBUUl9FUlIoaGQpOw0KKw0KKwljdHgg
PSBnYl9oZF90b19jcGNfc3BpKGhkKTsNCisJY3R4LT5jcGNfaGQuZ2JfaGQgPSBoZDsNCisJY3R4
LT5jcGNfaGQud2FrZV90eCA9IGdiX2NwY19zcGlfd2FrZV90eDsNCisNCisJc3BpX3NldF9kcnZk
YXRhKHNwaSwgY3R4KTsNCisNCisJcmV0ID0gZ2JfaGRfYWRkKGhkKTsNCisJaWYgKHJldCkNCisJ
CWdvdG8gZXJyX2hkX2RlbDsNCisNCisJcmV0ID0gcmVxdWVzdF9pcnEoc3BpLT5pcnEsIGdiX2Nw
Y19zcGlfaXJxX2hhbmRsZXIsIElSUUZfVFJJR0dFUl9GQUxMSU5HLA0KKwkJCSAgZGV2X25hbWUo
JnNwaS0+ZGV2KSwgY3R4KTsNCisJaWYgKHJldCkNCisJCWdvdG8gZXJyX2hkX3JlbW92ZTsNCisN
CisJY3R4LT50YXNrID0ga3RocmVhZF9ydW4oZ2JfY3BjX3NwaV9kb194ZmVyX3RocmVhZCwgY3R4
LCAiJXMiLA0KKwkJCQkgICAgZGV2X25hbWUoJnNwaS0+ZGV2KSk7DQorCWlmIChJU19FUlIoY3R4
LT50YXNrKSkgew0KKwkJcmV0ID0gUFRSX0VSUihjdHgtPnRhc2spOw0KKwkJZ290byBmcmVlX2ly
cTsNCisJfQ0KKw0KKwlyZXR1cm4gMDsNCisNCitmcmVlX2lycToNCisJZnJlZV9pcnEoc3BpLT5p
cnEsIGN0eCk7DQorZXJyX2hkX3JlbW92ZToNCisJZ2JfaGRfZGVsKGhkKTsNCitlcnJfaGRfZGVs
Og0KKwlnYl9oZF9wdXQoaGQpOw0KKw0KKwlyZXR1cm4gcmV0Ow0KK30NCisNCitzdGF0aWMgdm9p
ZCBjcGNfc3BpX3JlbW92ZShzdHJ1Y3Qgc3BpX2RldmljZSAqc3BpKQ0KK3sNCisJc3RydWN0IGNw
Y19zcGkgKmN0eCA9IHNwaV9nZXRfZHJ2ZGF0YShzcGkpOw0KKw0KKwlrdGhyZWFkX3N0b3AoY3R4
LT50YXNrKTsNCisJZnJlZV9pcnEoc3BpLT5pcnEsIGN0eCk7DQorCWdiX2hkX2RlbChjdHgtPmNw
Y19oZC5nYl9oZCk7DQorCWdiX2hkX3B1dChjdHgtPmNwY19oZC5nYl9oZCk7DQorfQ0KKw0KK3N0
YXRpYyBjb25zdCBzdHJ1Y3Qgb2ZfZGV2aWNlX2lkIGNwY19kdF9pZHNbXSA9IHsNCisJeyAuY29t
cGF0aWJsZSA9ICJzaWxhYnMsY3BjLXNwaSIgfSwNCisJe30sDQorfTsNCitNT0RVTEVfREVWSUNF
X1RBQkxFKG9mLCBjcGNfZHRfaWRzKTsNCisNCitzdGF0aWMgY29uc3Qgc3RydWN0IHNwaV9kZXZp
Y2VfaWQgY3BjX3NwaV9pZHNbXSA9IHsNCisJeyAubmFtZSA9ICJjcGMtc3BpIiB9LA0KKwl7fSwN
Cit9Ow0KK01PRFVMRV9ERVZJQ0VfVEFCTEUoc3BpLCBjcGNfc3BpX2lkcyk7DQorDQorc3RhdGlj
IHN0cnVjdCBzcGlfZHJpdmVyIGdiX2NwY19zcGlfZHJpdmVyID0gew0KKwkuZHJpdmVyID0gew0K
KwkJLm5hbWUgPSAiY3BjLXNwaSIsDQorCQkub2ZfbWF0Y2hfdGFibGUgPSBjcGNfZHRfaWRzLA0K
Kwl9LA0KKwkucHJvYmUgPSBjcGNfc3BpX3Byb2JlLA0KKwkucmVtb3ZlID0gY3BjX3NwaV9yZW1v
dmUsDQorfTsNCisNCittb2R1bGVfc3BpX2RyaXZlcihnYl9jcGNfc3BpX2RyaXZlcik7DQorDQor
TU9EVUxFX0RFU0NSSVBUSU9OKCJHcmV5YnVzIEhvc3QgRHJpdmVyIGZvciBTaWxpY29uIExhYnMg
ZGV2aWNlcyB1c2luZyBTUEkiKTsNCitNT0RVTEVfTElDRU5TRSgiR1BMIik7DQorTU9EVUxFX0FV
VEhPUigiRGFtaWVuIFJpw6lnZWwgPGRhbWllbi5yaWVnZWxAc2lsYWJzLmNvbT4iKTsNCi0tIA0K
Mi40OS4wDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmdyZXlidXMtZGV2IG1haWxpbmcgbGlzdCAtLSBncmV5YnVzLWRldkBsaXN0cy5saW5hcm8ub3Jn
ClRvIHVuc3Vic2NyaWJlIHNlbmQgYW4gZW1haWwgdG8gZ3JleWJ1cy1kZXYtbGVhdmVAbGlzdHMu
bGluYXJvLm9yZwo=
