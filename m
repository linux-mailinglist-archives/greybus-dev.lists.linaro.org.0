Return-Path: <greybus-dev-bounces@lists.linaro.org>
X-Original-To: lists+greybus-dev@lfdr.de
Delivered-To: lists+greybus-dev@lfdr.de
Received: from lists.linaro.org (lists.linaro.org [107.22.173.205])
	by mail.lfdr.de (Postfix) with ESMTPS id 9C3D122DF2D
	for <lists+greybus-dev@lfdr.de>; Sun, 26 Jul 2020 14:49:39 +0200 (CEST)
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 372C660810
	for <lists+greybus-dev@lfdr.de>; Sun, 26 Jul 2020 12:49:38 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
	id 2A03F65FD7; Sun, 26 Jul 2020 12:49:38 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.2 (2018-09-13) on lists.linaro.org
X-Spam-Level: 
X-Spam-Status: No, score=-7.9 required=5.0 tests=BAYES_00,MAILING_LIST_MULTI,
	RCVD_IN_DNSWL_HI,RCVD_IN_MSPIKE_H2,SPF_HELO_NONE autolearn=disabled
	version=3.4.2
Received: from lists.linaro.org (localhost [127.0.0.1])
	by lists.linaro.org (Postfix) with ESMTP id 9497766539;
	Sun, 26 Jul 2020 12:48:20 +0000 (UTC)
X-Original-To: greybus-dev@lists.linaro.org
Delivered-To: greybus-dev@lists.linaro.org
Received: from lists.linaro.org (localhost [127.0.0.1])
 by lists.linaro.org (Postfix) with ESMTP id B3E1260810
 for <greybus-dev@lists.linaro.org>; Sun, 26 Jul 2020 12:48:14 +0000 (UTC)
Received: by lists.linaro.org (Postfix, from userid 109)
 id 934DE65FD7; Sun, 26 Jul 2020 12:48:14 +0000 (UTC)
Received: from mail-il1-f196.google.com (mail-il1-f196.google.com
 [209.85.166.196])
 by lists.linaro.org (Postfix) with ESMTPS id 1BB6460810
 for <greybus-dev@lists.linaro.org>; Sun, 26 Jul 2020 12:48:10 +0000 (UTC)
Received: by mail-il1-f196.google.com with SMTP id l17so627495ilq.13
 for <greybus-dev@lists.linaro.org>; Sun, 26 Jul 2020 05:48:10 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=O5a0EJ4RGcNtjMzNNE/xngpG9/rscezAWsoDAHnoOKg=;
 b=GzKBjR2smbg6j7dG8eHvq7uUarZ4ZZYm1TXvv00gVY3XjJnU7oo5Lhx6oex0Zgtn5m
 JkD0kI/rzlj8CTgIiu9UkVGEQx4/ZUbo3KIe4msP9l585Hhh46MDiRMPRDlPxa8+fs3K
 hoVlbUhNbsS+noFIwVaeIpCCBaYHPRPVDBX/9pm2YegDRYC+R9k+ZbLZjQKL4qX/Y5EU
 U4iqvPds949FQPIQ8jD4zvhqiJ71ekNV7NeN07qBBFwessF8FJfrUO1YM5ftv+rLawcb
 XgJJFe8v0oTiz9rgosJ4tprEB+0pBps6/Fe42razp7OJ1qP9P7wXZ0+tE649zL8Tj8RB
 h1Aw==
X-Gm-Message-State: AOAM532tEOrZDtdtlxvA0iKa8F+wv/bly/NXMItUcw07GKlnYHPXtfuj
 7N2kktipktA8JQo9NoVk+cRtmYkR
X-Google-Smtp-Source: ABdhPJwobj7hgJ86RD3FnKJHQOhNhT3EcRdYOeR41yDERf+bjhZ50StIB0jHJjVjIAZDXX5PMHM2+g==
X-Received: by 2002:a92:d2c2:: with SMTP id w2mr2712024ilg.139.1595767688994; 
 Sun, 26 Jul 2020 05:48:08 -0700 (PDT)
Received: from [172.22.22.26] (c-73-185-129-58.hsd1.mn.comcast.net.
 [73.185.129.58])
 by smtp.googlemail.com with ESMTPSA id l19sm1312713ioj.37.2020.07.26.05.48.07
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Sun, 26 Jul 2020 05:48:08 -0700 (PDT)
To: Vaishnav M A <vaishnav@beagleboard.org>, greybus-dev@lists.linaro.org,
 linux-kernel@vger.kernel.org, gregkh@linuxfoundation.org, arnd@arndb.de,
 johan@kernel.org, elder@kernel.org
References: <20200724120637.GA427284@vaishnav-VirtualBox>
From: Alex Elder <elder@linaro.org>
Message-ID: <b8887d88-8c3b-ef54-f24d-190b00697e97@linaro.org>
Date: Sun, 26 Jul 2020 07:48:07 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.10.0
MIME-Version: 1.0
In-Reply-To: <20200724120637.GA427284@vaishnav-VirtualBox>
Content-Language: en-US
X-Virus-Scanned: ClamAV using ClamSMTP
Cc: rajkovic@mikroe.com, robh@kernel.org, mchehab+huawei@kernel.org,
 robertcnelson@beagleboard.org, drew@beagleboard.org, davem@davemloft.net,
 zoran.stojsavljevic@gmail.com
Subject: Re: [greybus-dev] [PATCH] RFC : mikroBUS driver for add-on boards
X-BeenThere: greybus-dev@lists.linaro.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: Greybus Development Mail List <greybus-dev.lists.linaro.org>
List-Unsubscribe: <https://lists.linaro.org/mailman/options/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=unsubscribe>
List-Archive: <http://lists.linaro.org/pipermail/greybus-dev/>
List-Post: <mailto:greybus-dev@lists.linaro.org>
List-Help: <mailto:greybus-dev-request@lists.linaro.org?subject=help>
List-Subscribe: <https://lists.linaro.org/mailman/listinfo/greybus-dev>,
 <mailto:greybus-dev-request@lists.linaro.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: greybus-dev-bounces@lists.linaro.org
Sender: "greybus-dev" <greybus-dev-bounces@lists.linaro.org>
X-Virus-Scanned: ClamAV using ClamSMTP

T24gNy8yNC8yMCA3OjA2IEFNLCBWYWlzaG5hdiBNIEEgd3JvdGU6Cj4gQXR0YWNoZWQgaXMgYSBw
YXRjaCBmb3IgdGhlIG1pa3JvQlVTIGRyaXZlciB3aGljaCBoZWxwcyB0bwo+IGluc3RhbnRpYXRl
IGFuIGFkZC1vbiBib2FyZCBkZXZpY2Ugb24gYSBtaWtyb2J1cyBwb3J0IGJ5IGZldGNoaW5nCj4g
dGhlIGRldmljZSBpZGVudGlmaWVyIG1hbmlmZXN0IGJpbmFyeSBmcm9tIGFuIEVFUFJPTSBvbi1i
b2FyZAo+IHRoZSBkZXZpY2UuIG1pa3JvQlVTIGlzIGFuIGFkZC1vbiBib2FyZCBzb2NrZXQgc3Rh
bmRhcmQgYnkKPiBNaWtyb0VsZWt0cm9uaWthIHRoYXQgY2FuIGJlIGZyZWVseSB1c2VkIGJ5IGFu
eW9uZQo+IGZvbGxvd2luZyB0aGUgZ3VpZGVsaW5lcywgbW9yZSBkZXRhaWxzIGFuZCBkaXNjdXNz
aW9ucyBvbgo+IHRoZSBzdGF0dXMgb2YgdGhlIGRyaXZlciBjYW4gYmUgZm91bmQgaGVyZSBpbiB0
aGlzIGVMaW51eCB3aWtpOgo+IGh0dHBzOi8vZWxpbnV4Lm9yZy9NaWtyb2J1cwoKVmFpc2huYXYs
IEkgYW0gZmluYWxseSBsb29raW5nIGF0IHRoaXMgYSBsaXR0bGUgbW9yZSBjbG9zZWx5CnRvZGF5
LiAgTW9yZSB0aGFuIGFueXRoaW5nIEkgd2FudCB0byBjb21wbGltZW50IHlvdSBvbiBhbGwKdGhp
cyB3b3JrLiAgSSB0aGluayBpdCBsb29rcyBsaWtlIGEgZ3JlYXQgdXNlIG9mIEdyZXlidXMgZm9y
CmVzc2VudGlhbGx5IGl0cyBpbnRlbmRlZCBwdXJwb3NlLCBhbmQgSSB3b3VsZCBsb3ZlIHRvIHNl
ZQppdCBleHRlbmRlZCBhcyBuZWVkZWQgdG8gc3VwcG9ydCB3aGF0IHlvdSdyZSBkb2luZyBoZXJl
LgoKQXQgZmlyc3QgZ2xhbmNlIHlvdXIgcGF0Y2ggbG9va3MgZ29vZCwgYnV0IEkgd2FudCB0byB0
YWtlIHRoZQp0aW1lIHRvIGdpdmUgaXQgYSB0aG9yb3VnaCByZXZpZXcuICBVbmZvcnR1bmF0ZWx5
IEkgZGlkIG5vdApmb2xsb3cgeW91ciBwcm9ncmVzcyBvbiB0aGUgR1NvQyBwcm9qZWN0ICh3aGlj
aCB5b3UgcG9zdGVkCmFib3V0IGxhc3QgeWVhciBoZXJlKSwgYW5kIGhhdmUgbm90IGZvbGxvd2Vk
IGFueSBkaXNjdXNzaW9uCnNpbmNlIHRoZW4sIHNvIGl0J3MgdGFraW5nIG1lIGEgbGl0dGxlIHRp
bWUgdG8gY29tZSB1cCB0byBzcGVlZApvbiBpdC4gIEknbSBob3BpbmcgeW91IG1pZ2h0IGhlbHAg
bWUgKGFuZCBvdGhlcnMpIGRvIHRoaXMgbW9yZQpxdWlja2x5LgoKSSBhbSBzY2FubmluZyB0aHJv
dWdoIHNvbWUgb2YgdGhlIG1hdGVyaWFscyBvbmxpbmUgYW5kIEkgZmluZAp0aGVyZSBpcyBxdWl0
ZSBhIGxvdC4gIFRoYXQgaW5jbHVkZXMgaW5mb3JtYXRpb24gYWJvdXQgYm90aAp5b3VyIHByb2pl
Y3QgYW5kIGFib3V0IG1pa3JvQlVTLiAgWmVyb2luZyBpbiBvbiB0aGluZ3MgdGhhdApmYWlybHkg
Y29uY2lzZWx5IGRlc2NyaWJlIHRoZSB3YXkgdGhpbmdzIHJlYWxseSB3b3JrIHdvdWxkIGJlCnZl
cnkgdmFsdWFibGUuICBDYW4geW91IHBvaW50IG1lIGRpcmVjdGx5IGF0IHNvbWV0aGluZyB0aGF0
CmdpdmVzIGFuIG92ZXJ2aWV3IG9mIGJvdGggdGhlIGhhcmR3YXJlIGFuZCBzb2Z0d2FyZQphcmNo
aXRlY3R1cmUgKHNwZWNpZmljYWxseSBhcyBpdCdzIHVzZWQgd2l0aCBHcmV5YnVzKT8gIElmCm5v
dCwgSSdtIG9wZW4gdG8gZmluZGluZyBvdGhlciB3YXlzIHRvIGdldCBpbiBzeW5jaC4gIEknbGwK
ZXhwYW5kIG9uIHRoaXMgYSBsaXR0bGUgbW9yZSBiZWxvdy4KClRoaXMgaXNuJ3Qgc3RyaWN0bHkg
bmVjZXNzYXJ5LCBidXQgaWYgSSB3YW50ZWQgdG8gcmVwcm9kdWNlIHRoZQpoYXJkd2FyZSBzZXR1
cCB5b3UgdXNlIHRvIHZhbGlkYXRlIHRoaXMgY29kZSwgd2hhdCBoYXJkd2FyZQppcyByZXF1aXJl
ZD8gIEZvciBleGFtcGxlLCBpcyBpdCBwb3NzaWJsZSB0byB1c2UgYSBCZWFnbGVCb25lIEJsYWNr
CndpdGggYSBNaWtyb0J1cyBDYXBlIGZvciB0ZXN0aW5nLCBvciBtdXN0IGEgUG9ja3RCZWFnbGUg
YmUgdXNlZD8KSXMgdGhlcmUgb25lIG9yIHNldmVyYWwgTWlrcm9CdXMgY2xpY2tib2FyZHMgdGhh
dCB3b3VsZCBiZSB0aGUKYmVzdCBmb3IgYmFzaWMgdGVzdGluZz8KCkNhbiB5b3UgcHJvdmlkZSBh
IHNob3J0IHN1bW1hcnkgb2Ygd2h5IHRoZSBHcmV5YnVzIG1hbmlmZXN0CmZvcm1hdCBuZWVkZWQg
dG8gYmUgZXh0ZW5kZWQ/ICBDYW4geW91IHN1bW1hcml6ZSBob3cgYSBtaWtyb0JVUwphZGQtb24g
Ym9hcmQgZGlmZmVycyBmcm9tIGFuIEFyYSBtb2R1bGU/ICBBbmQgd2hhdCB0aGV5IGhhdmUgaW4K
Y29tbW9uPwoKVGhpcyBwYXRjaCBpcyBhbiBSRkMsIGFuZCB5b3Ugc2F5IHRoYXQgdjMgb2YgdGhl
IG1pa3JvQlVTIHNwZWMKaXMgYmVpbmcgZGV2ZWxvcGVkLiAgSXMgeW91ciBwbGFuIHRvIGhhdmUg
dGhlICJyZWFsIiBjb2RlICh3aGVuCnlvdSBzdWJtaXQgaXQpIGFkaGVyZSB0byB0aGUgbmV3ZXIg
dmVyc2lvbiBvZiB0aGUgc3BlYz8gIEFyZQp0aGVyZSBzcGVjaWZpYyB0aGluZ3MgdGhhdCB5b3Ug
ZXhwZWN0IHdpbGwgYmUgaW5jbHVkZWQgaW4gdjMKdGhhdCB3aWxsIGhvdyB0aGUgZHJpdmVyIHdv
cmtzIChjb21wYXJlZCB0byB0aGlzIFJGQyk/CgpQbGVhc2UgcmVhbGl6ZSBJJ20gYXNraW5nIHRo
ZXNlIHF1ZXN0aW9ucyBzbyBJIGNhbiBiZSBtb3JlCmVmZmVjdGl2ZSBpbiBldmFsdWF0aW5nIHdo
YXQgeW91J3JlIGRvaW5nIGhlcmUuICBJJ2QgbGlrZSB0bwpwcm92aWRlIGZlZWRiYWNrIG5vdCBq
dXN0IG9uIHRoZSBjb2RlLCBidXQgb24gdGhlIGRlc2lnbiB0aGF0CnVuZGVybGllcyBpdCwgYW5k
IGZvciB0aGF0IEkgbmVlZCB0byBnZXQgYmV0dGVyIGluZm9ybWVkLiAgTXkKaG9wZSBpcyB0aGF0
IHlvdSBjYW4gaGVscCBtZSBmaW5kIG9yIGdhdGhlciB0aGF0IGluZm9ybWF0aW9uCmFzIHF1aWNr
bHkgYXMgcG9zc2libGUuCgpBbmQgbm93IEknbGwgZ28gZ2l2ZSBhIHF1aWNrIGluaXRpYWwgcmV2
aWV3IG9mIHRoZSBjb2RlLi4uCgpUaGFua3MuCgoJCQkJCS1BbGV4Cgo+IEluIHRoZSBjdXJyZW50
IHN0YXRlIG9mIHRoZSBkcml2ZXIsIG1vcmUgdGhhbiA4MCBkaWZmZXJlbnQKPiBhZGQtb24gYm9h
cmRzIGhhdmUgYmVlbiB0ZXN0ZWQgb24gdGhlIEJlYWdsZUJvYXJkLm9yZwo+IFBvY2tldEJlYWds
ZSBhbmQgdGhlIG1hbmlmZXN0IGJpbmFyeSBpcyBnZW5lcmF0ZWQgdXNpbmcgdGhlIHNhbWUKPiBt
YW5pZmVzdG8gdG9vbCB1c2VkIHRvIGdlbmVyYXRlIEdyZXlidXMgbWFuaWZlc3QgYmluYXJpZXMs
Cj4gVGhlIHB1bGwgcmVxdWVzdCB0byBtYW5pZmVzdG8gdG8gYWRkIG5ldyBkZXNjcmlwdG9ycyBz
cGVjaWZpYwo+IHRvIG1pa3JvYnVzIGlzIGhlcmUgOiBodHRwczovL2dpdGh1Yi5jb20vcHJvamVj
dGFyYS9tYW5pZmVzdG8vcHVsbC8yCj4gVGhlIHV0aWxpemF0aW9uIG9mIEdyZXlidXMgbWFuaWZl
c3QgYmluYXJpZXMgaGVyZSBpcyBub3QgZW50aXJlbHkKPiBjb2luY2lkZW50YWwsIFdlIGFyZSBl
dmFsdWF0aW5nIHdheXMgdG8gYWRkIG1pa3JvQlVTIHNvY2tldHMgYW5kCj4gZGV2aWNlcyB2aWEg
R3JleWJ1cyBleHBhbnNpb24uCj4gCj4gVGhlIG1pa3JvQlVTIHN0YW5kYXJkIGluY2x1ZGVzIFNQ
SSwgSTJDLCBVQVJULCBQV00sIEFEQywgR1BJTwo+IGFuZCBwb3dlciAoMy4zViBhbmQgNVYpIGNv
bm5lY3Rpb25zIHRvIGludGVyZmFjZSBjb21tb24gZW1iZWRkZWQKPiBwZXJpcGhlcmFscywgVGhl
cmUgYXJlIG1vcmUgdGhhbiA3NTAgYWRkLW9uIGJvYXJkcyByYW5naW5nIGZyb20KPiB3aXJlbGVz
cyBjb25uZWN0aXZpdHkgYm9hcmRzIHRvIGh1bWFuLW1hY2hpbmUgaW50ZXJmYWNlIHNlbnNvcnMK
PiB3aGljaCBjb25mb3JtIHRvIHRoZSBtaWtyb0JVUyBzdGFuZGFyZCwgb3V0IG9mIHdoaWNoIG1v
cmUgdGhhbiAxNDAKPiBib2FyZHMgYWxyZWFkeSBoYXZlIHN1cHBvcnQgaW4gdGhlIExpbnV4IGtl
cm5lbC5Ub2RheSwgdGhlcmUgaXMgbm8KPiBtYWlubGluZXNvbHV0aW9uIGZvciBlbmFibGluZyBt
aWtyb0JVUyBhZGQtb24gYm9hcmRzIGF0IHJ1bi10aW1lLCB0aGUKPiBtb3N0IHN0cmFpZ2h0IGZv
cndhcmQgbWV0aG9kIGZvciBsb2FkaW5nIGRyaXZlcnMgaXMgdG8gcHJvdmlkZQo+IGRldmljZS10
cmVlIG92ZXJsYXkgZnJhZ21lbnRzIGF0IGJvb3QgdGltZSwgdGhpcyBtZXRob2Qgc3VmZmVycwo+
IGZyb20gdGhlIG5lZWQgdG8gbWFpbnRhaW4gYSBsYXJnZSBvdXQtb2YtdHJlZSBkYXRhYmFzZSBm
b3Igd2hpY2ggdGhlcmUKPiBpcyBuZWVkIHRvIG1haW50YWluIGFuIG92ZXJsYXkgZm9yIGV2ZXJ5
IG1pa3JvQlVTIGFkZC1vbiBib2FyZCBmb3IgZXZlcnkKPiBMaW51eCBzeXN0ZW0gYW5kIGZvciBl
dmVyeSBtaWtyb0JVUyBzb2NrZXQgb24gdGhhdCBzeXN0ZW0uCj4gCj4gVGhlIG1pa3JvQlVTIGRy
aXZlciB0cmllcyB0byBzb2x2ZSB0aGUgcHJvYmxlbSBieSB1c2luZyBleHRlbmRlZCB2ZXJzaW9u
Cj4gb2YgdGhlIGdyZXlidXMgbWFuaWZlc3QgdG8gZGVzY3JpYmUgdGhlIGFkZC1vbiBib2FyZCBk
ZXZpY2Ugc3BlY2lmaWMKPiBpbmZvcm1hdGlvbiByZXF1aXJlZCBieSB0aGUgZGV2aWNlIGRyaXZl
ciBhbmQgdXNlcyBpdCBhbG9uZyB3aXRoIHRoZSBmaXhlZAo+IHBvcnQgc3BlY2lmaWMgaW5mb3Jt
YXRpb24gdG8gcHJvYmUgdGhlIHNwZWNpZmljIGRldmljZSBkcml2ZXIuVGhlIG1hbmlmZXN0Cj4g
YmluYXJ5IGlzIG5vdyBmZXRjaGVkIGZyb20gYW4gSTJDIEVFUFJPTSBvdmVyIHRoZSBJMkMgYnVz
IG9uIHRoZSBtaWtyb0JVUwo+IHBvcnQoc3ViamVjdCB0byBjaGFuZ2UgaW4gbWlrcm9CVVMgdjMg
c3BlY2lmaWNhdGlvbikgYW5kIGVudW1lcmF0ZSBkcml2ZXJzCj4gZm9yIHRoZSBhZGQtb24gZGV2
aWNlcy5UaGVyZSBpcyBhbHNvIG9uZ29pbmcgd29yayB0byBkZWZpbmUgYSBtaWtyb0JVUwo+IHYz
IHN0YW5kYXJkIGluIHdoaWNoIHRoZSBhZGRvbiBib2FyZCBpbmNsdWRlcyBhIG5vbi12b2xhdGls
ZSBzdG9yYWdlIHRvCj4gc3RvcmUgdGhlIGRldmljZSBpZGVudGlmaWVyIG1hbmlmZXN0IGJpbmFy
eSwgb25jZSB0aGUgbWlrcm9CVVMgdjMgc3RhbmRhcmQKPiBpcyByZWxlYXNlZCwgdGhlIG1pa3Jv
QlVTIGNhbiBiZSBzZWVuIGFzIGEgcHJvYmVhYmxlIGJ1cyBzdWNoIHRoYXQgdGhlCj4ga2VybmVs
IGNhbiBkaXNjb3ZlciB0aGUgZGV2aWNlIG9uIHRoZSBidXMgYXQgYm9vdCB0aW1lLgo+IAo+IFRo
ZSBkcml2ZXIgYWxzbyBoYXMgYSBmZXcgZGVidWcgU3lzRlMgaW50ZXJmYWNlcyBmb3IgdGVzdGlu
ZyBvbiBhZGQtb24KPiBib2FyZHMgd2l0aG91dCBhbiBFRVBST00sIHRoZXNlIGNhbiBiZSB1c2Vk
IGluIHRoZSBmb2xsb3dpbmcgbWFubmVyOgo+IChleGFtcGxlIGZvciBtaWtyb0JVUyBwb3J0IDEg
b24gQmVhZ2xlQm9hcmQub3JnIFBvY2tldEJlYWdsZSk6Cj4gCj4gcHJpbnRmICIlYiIgJ1x4MDFc
eDAwXHgwMFx4NTlceDMyXHgxNycgPiAvc3lzL2J1cy9taWtyb2J1cy9hZGRfcG9ydAo+IAo+IFRo
ZSBieXRlcyBpbiB0aGUgYnl0ZSBhcnJheSBzZXF1ZW5jZSBhcmUgKGluIG9yZGVyKToKPiAKPiAJ
KiBpMmNfYWRhcF9ucgo+IAkqIHNwaV9tYXN0ZXJfbnIKPiAJKiBzZXJkZXZfY3Rscl9ucgo+IAkq
IHJzdF9ncGlvX25yCj4gCSogcHdtX2dwaW9fbnIKPiAJKiBpbnRfZ3Bpb19ucgo+ICogYWRkX3Bv
cnQgc3lzRlMgZW50cnkgaXMgcHVyZWx5IGZvciBkZWJ1ZyBhbmQgaW4gdGhlIGFjdHVhbCBzdGF0
ZQo+IG9mIHRoZSBkcml2ZXIsIHBvcnQgY29uZmlndXJhdGlvbiB3aWxsIGJlIGxvYWRlZCBmcm9t
IGEgc3VpdGFibGUKPiBkZXZpY2UgdHJlZSBvdmVybGF5IGZyYWdtZW50Lgo+IAo+IGVjaG8gMCA+
IC9zeXMvYnVzL21pa3JvYnVzL2RlbF9wb3J0ICh0byBkZWxldGUgdGhlIGF0dGFjaGVkIHBvcnQp
Cj4gZWNobyAxID4gIC9zeXMvY2xhc3MvbWlrcm9idXMtcG9ydC9taWtyb2J1cy0wL3Jlc2NhbiAo
dG8gcmVzY2FuIHRoZSBFRVBST00KPiBjb250ZW50cyBvbiB0aGUgSTJDIGJ1cyBvbiB0aGUgbWlr
cm9CVVMgcG9ydCkuCj4gCj4gY2F0IGJvYXJkX21hbmlmZXN0Lm1uZmIgPiAgL3N5cy9jbGFzcy9t
aWtyb2J1cy1wb3J0L21pa3JvYnVzLTAvbmV3X2RldmljZQo+ICogZGVidWcgaW50ZXJmYWNlIHRv
IHBhc3MgdGhlIG1hbmlmZXN0IGJpbmFyeSBpbiBjYXNlIGFuIEVFUFJPTSBpcyBhYnNlbnQKPiBl
Y2hvIDAgPiAgL3N5cy9jbGFzcy9taWtyb2J1cy1wb3J0L21pa3JvYnVzLTAvZGVsZXRlX2Rldmlj
ZQo+ICogdG8gdW5sb2FkIHRoZSBsb2FkZWQgYm9hcmQgb24gdGhlIG1pa3JvYnVzIHBvcnQKPiAK
PiBUaGVzZSBzeXNGUyBpbnRlcmZhY2VzIGFyZSBvbmx5IGltcGxlbWVudGVkIGZvciBkZWJ1ZyBw
dXJwb3NlcyBhbmQKPiBpbiB0aGUgYWN0dWFsIGltcGxlbWVudGF0aW9uIG9mIHRoZSBkcml2ZXIg
dGhlc2Ugd2lsbCBiZSByZW1vdmVkIGFuZAo+IHRoZSBtYW5pZmVzdCBiaW5hcnkgd2lsbCBiZSBm
ZXRjaGVkIGZyb20gdGhlIG5vbiB2b2xhdGlsZSBzdG9yYWdlIG9uLWJvYXJkCj4gdGhlIGRldmlj
ZS4KPiAKPiBUaGUgbWlrcm9CVVMgZHJpdmVyIGVuYWJsZSB0aGUgbWlrcm9CVVMgdG8gYmUgYSBw
cm9iZWFibGUgYnVzIHN1Y2ggdGhhdAo+IHRoZSBrZXJuZWwgY2FuIGRpc2NvdmVyIHRoZSBkZXZp
Y2UgYW5kIGF1dG9tYXRpY2FsbHkgbG9hZCB0aGUgZHJpdmVycy4KPiBUaGVyZSBhcmUgYWxyZWFk
eSBzZXZlcmFsIExpbnV4IHBsYXRmb3JtcyB3aXRoIG1pa3JvQlVTIHNvY2tldHMgYW5kIHRoZQo+
IG1pa3JvQlVTIGRyaXZlciBoZWxwcyB0byByZWR1Y2UgdGhlIHRpbWUgdG8gZGV2ZWxvcCBhbmQg
ZGVidWcKPiBzdXBwb3J0IGZvciB2YXJpb3VzIG1pa3JvQlVTIGFkZC1vbiBib2FyZHMuIEZ1cnRo
ZXIsIGl0IG9wZW5zIHVwCj4gdGhlIHBvc3NpYmlsaXR5IGZvciBzdXBwb3J0IHVuZGVyIGR5bmFt
aWNhbGx5IGluc3RhbnRpYXRlZCBidXNlcwo+IHN1Y2ggYXMgd2l0aCBHcmV5YnVzLgo+IAo+IFBs
ZWFzZSBsZXQga25vdyB0aGUgZmVlZGJhY2sgeW91IGhhdmUgb24gdGhpcyBwYXRjaCBvciB0aGUg
YXBwcm9hY2ggdXNlZC4KPiAKPiBUaGFua3MsCj4gCj4gVmFpc2huYXYgTSBBCj4gCj4gU2lnbmVk
LW9mZi1ieTogVmFpc2huYXYgTSBBIDx2YWlzaG5hdkBiZWFnbGVib2FyZC5vcmc+Cj4gLS0tCj4g
IE1BSU5UQUlORVJTICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICA2ICsKPiAgZHJp
dmVycy9taXNjL0tjb25maWcgICAgICAgICAgICAgICAgICAgICAgfCAgIDEgKwo+ICBkcml2ZXJz
L21pc2MvTWFrZWZpbGUgICAgICAgICAgICAgICAgICAgICB8ICAgMSArCj4gIGRyaXZlcnMvbWlz
Yy9taWtyb2J1cy9LY29uZmlnICAgICAgICAgICAgIHwgIDE2ICsKPiAgZHJpdmVycy9taXNjL21p
a3JvYnVzL01ha2VmaWxlICAgICAgICAgICAgfCAgIDUgKwo+ICBkcml2ZXJzL21pc2MvbWlrcm9i
dXMvbWlrcm9idXNfY29yZS5jICAgICB8IDY0OSArKysrKysrKysrKysrKysrKysrKysrCj4gIGRy
aXZlcnMvbWlzYy9taWtyb2J1cy9taWtyb2J1c19jb3JlLmggICAgIHwgMTMwICsrKysrCj4gIGRy
aXZlcnMvbWlzYy9taWtyb2J1cy9taWtyb2J1c19tYW5pZmVzdC5jIHwgMzkwICsrKysrKysrKysr
KysKPiAgZHJpdmVycy9taXNjL21pa3JvYnVzL21pa3JvYnVzX21hbmlmZXN0LmggfCAgMjEgKwo+
ICBpbmNsdWRlL2xpbnV4L2dyZXlidXMvZ3JleWJ1c19tYW5pZmVzdC5oICB8ICA1MyArKwo+ICAx
MCBmaWxlcyBjaGFuZ2VkLCAxMjcyIGluc2VydGlvbnMoKykKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0
IGRyaXZlcnMvbWlzYy9taWtyb2J1cy9LY29uZmlnCj4gIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2
ZXJzL21pc2MvbWlrcm9idXMvTWFrZWZpbGUKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMv
bWlzYy9taWtyb2J1cy9taWtyb2J1c19jb3JlLmMKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZl
cnMvbWlzYy9taWtyb2J1cy9taWtyb2J1c19jb3JlLmgKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRy
aXZlcnMvbWlzYy9taWtyb2J1cy9taWtyb2J1c19tYW5pZmVzdC5jCj4gIGNyZWF0ZSBtb2RlIDEw
MDY0NCBkcml2ZXJzL21pc2MvbWlrcm9idXMvbWlrcm9idXNfbWFuaWZlc3QuaAo+IAo+IGRpZmYg
LS1naXQgYS9NQUlOVEFJTkVSUyBiL01BSU5UQUlORVJTCj4gaW5kZXggZDUzZGIzMGQxMzY1Li45
YTA0OTc0NjIwM2YgMTAwNjQ0Cj4gLS0tIGEvTUFJTlRBSU5FUlMKPiArKysgYi9NQUlOVEFJTkVS
Uwo+IEBAIC0xMTQwMiw2ICsxMTQwMiwxMiBAQCBNOglPbGl2ZXIgTmV1a3VtIDxvbGl2ZXJAbmV1
a3VtLm9yZz4KPiAgUzoJTWFpbnRhaW5lZAo+ICBGOglkcml2ZXJzL3VzYi9pbWFnZS9taWNyb3Rl
ay4qCj4gIAo+ICtNSUtST0JVUyBBRERPTiBCT0FSRCBEUklWRVIKPiArTToJVmFpc2huYXYgTSBB
IDx2YWlzaG5hdkBiZWFnbGVib2FyZC5vcmc+Cj4gK1M6CU1haW50YWluZWQKPiArVzoJaHR0cHM6
Ly9lbGludXgub3JnL01pa3JvYnVzCj4gK0Y6CWRyaXZlcnMvbWlzYy9taWtyb2J1cy8KPiArCj4g
IE1JUFMKPiAgTToJVGhvbWFzIEJvZ2VuZG9lcmZlciA8dHNib2dlbmRAYWxwaGEuZnJhbmtlbi5k
ZT4KPiAgTDoJbGludXgtbWlwc0B2Z2VyLmtlcm5lbC5vcmcKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9taXNjL0tjb25maWcgYi9kcml2ZXJzL21pc2MvS2NvbmZpZwo+IGluZGV4IGUxYjFiYTVlMmI5
Mi4uMzM0ZjBjMzlkNTZiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvbWlzYy9LY29uZmlnCj4gKysr
IGIvZHJpdmVycy9taXNjL0tjb25maWcKPiBAQCAtNDcyLDQgKzQ3Miw1IEBAIHNvdXJjZSAiZHJp
dmVycy9taXNjL29jeGwvS2NvbmZpZyIKPiAgc291cmNlICJkcml2ZXJzL21pc2MvY2FyZHJlYWRl
ci9LY29uZmlnIgo+ICBzb3VyY2UgImRyaXZlcnMvbWlzYy9oYWJhbmFsYWJzL0tjb25maWciCj4g
IHNvdXJjZSAiZHJpdmVycy9taXNjL3VhY2NlL0tjb25maWciCj4gK3NvdXJjZSAiZHJpdmVycy9t
aXNjL21pa3JvYnVzL0tjb25maWciCj4gIGVuZG1lbnUKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9t
aXNjL01ha2VmaWxlIGIvZHJpdmVycy9taXNjL01ha2VmaWxlCj4gaW5kZXggYzdiZDAxYWM2Mjkx
Li40NTQ4NmRkNzdkYTUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9taXNjL01ha2VmaWxlCj4gKysr
IGIvZHJpdmVycy9taXNjL01ha2VmaWxlCj4gQEAgLTQwLDYgKzQwLDcgQEAgb2JqLSQoQ09ORklH
X1ZNV0FSRV9CQUxMT09OKQkrPSB2bXdfYmFsbG9vbi5vCj4gIG9iai0kKENPTkZJR19QQ0hfUEhV
QikJCSs9IHBjaF9waHViLm8KPiAgb2JqLXkJCQkJKz0gdGktc3QvCj4gIG9iai15CQkJCSs9IGxp
czNsdjAyZC8KPiArb2JqLXkJCQkJKz0gbWlrcm9idXMvCj4gIG9iai0kKENPTkZJR19BTFRFUkFf
U1RBUEwpCSs9YWx0ZXJhLXN0YXBsLwo+ICBvYmotJChDT05GSUdfSU5URUxfTUVJKQkJKz0gbWVp
Lwo+ICBvYmotJChDT05GSUdfVk1XQVJFX1ZNQ0kpCSs9IHZtd192bWNpLwo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL21pc2MvbWlrcm9idXMvS2NvbmZpZyBiL2RyaXZlcnMvbWlzYy9taWtyb2J1cy9L
Y29uZmlnCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLmMzYjkz
ZTEyZGFhZAo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL21pc2MvbWlrcm9idXMvS2Nv
bmZpZwo+IEBAIC0wLDAgKzEsMTYgQEAKPiArbWVudWNvbmZpZyBNSUtST0JVUwo+ICsJdHJpc3Rh
dGUgIk1vZHVsZSBmb3IgaW5zdGFudGlhdGluZyBkZXZpY2VzIG9uIG1pa3JvQlVTIHBvcnRzIgo+
ICsJaGVscAo+ICsJICBUaGlzIG9wdGlvbiBlbmFibGVzIHRoZSBtaWtyb0JVUyBkcml2ZXIuIG1p
a3JvQlVTIGlzIGFuIGFkZC1vbgo+ICsJICBib2FyZCBzb2NrZXQgc3RhbmRhcmQgdGhhdCBvZmZl
cnMgbWF4aW11bSBleHBhbmRhYmlsaXR5IHdpdGgKPiArCSAgdGhlIHNtYWxsZXN0IG51bWJlciBv
ZiBwaW5zLiBUaGUgbWlrcm9CVVMgZHJpdmVyIGhlbHBzIGluCj4gKwkgIGluc3RhbnRpYXRpbmcg
ZGV2aWNlcyBvbiB0aGUgbWlrcm9CVVMgcG9ydCB3aXRoIGlkZW50aWZpZXIKPiArCSAgZGF0YSBm
ZXRjaGVkIGZyb20gYW4gRUVQUk9NIG9uIHRoZSBkZXZpY2UsIG1vcmUgZGV0YWlscyBvbgo+ICsJ
ICB0aGUgbWlrcm9CVVMgZHJpdmVyIHN1cHBvcnQgYW5kIGRpc2N1c3Npb24gY2FuIGJlIGZvdW5k
IGluCj4gKwkgIHRoaXMgZUxpbnV4IHdpa2kgOiBlbGludXgub3JnL01pa3JvYnVzCj4gKwo+ICsK
PiArCSAgU2F5IFkgaGVyZSB0byBlbmFibGUgc3VwcG9ydCBmb3IgdGhpcyBkcml2ZXIuCj4gKwo+
ICsJICBUbyBjb21waWxlIHRoaXMgY29kZSBhcyBhIG1vZHVsZSwgY2hvc2UgTSBoZXJlOiB0aGUg
bW9kdWxlCj4gKwkgIHdpbGwgYmUgY2FsbGVkIG1pa3JvYnVzLmtvCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvbWlzYy9taWtyb2J1cy9NYWtlZmlsZSBiL2RyaXZlcnMvbWlzYy9taWtyb2J1cy9NYWtl
ZmlsZQo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi4xZjgwZWQ0
MDY0ZDgKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9taXNjL21pa3JvYnVzL01ha2Vm
aWxlCj4gQEAgLTAsMCArMSw1IEBACj4gKyMgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0y
LjAKPiArIyBtaWtyb0JVUyBDb3JlCj4gKwo+ICttaWtyb2J1cy15IDo9CW1pa3JvYnVzX2NvcmUu
bwltaWtyb2J1c19tYW5pZmVzdC5vCj4gK29iai0kKENPTkZJR19NSUtST0JVUykgKz0gbWlrcm9i
dXMubwo+IFwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L21pc2MvbWlrcm9idXMvbWlrcm9idXNfY29yZS5jIGIvZHJpdmVycy9taXNjL21pa3JvYnVzL21p
a3JvYnVzX2NvcmUuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAw
Li43OGM5NmM2Mzc2MzIKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9taXNjL21pa3Jv
YnVzL21pa3JvYnVzX2NvcmUuYwo+IEBAIC0wLDAgKzEsNjQ5IEBACj4gKy8vIFNQRFgtTGljZW5z
ZS1JZGVudGlmaWVyOiBHUEwtMi4wCj4gKy8qCj4gKyAqIG1pa3JvQlVTIGRyaXZlciBmb3IgaW5z
dGFudGlhdGluZyBhZGQtb24KPiArICogYm9hcmQgZGV2aWNlcyB3aXRoIGFuIGlkZW50aWZpZXIg
RUVQUk9NCj4gKyAqCj4gKyAqIENvcHlyaWdodCAyMDIwIFZhaXNobmF2IE0gQSwgQmVhZ2xlQm9h
cmQub3JnIEZvdW5kYXRpb24uCj4gKyAqLwo+ICsKPiArI2RlZmluZSBwcl9mbXQoZm10KSAibWlr
cm9idXM6ICIgZm10Cj4gKwo+ICsjaW5jbHVkZSA8bGludXgvZXJyLmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9lcnJuby5oPgo+ICsjaW5jbHVkZSA8bGludXgvaWRyLmg+Cj4gKyNpbmNsdWRlIDxsaW51
eC9pbml0Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9qdW1wX2xhYmVsLmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9rZXJuZWwuaD4KPiArI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPgo+ICsjaW5jbHVkZSA8
bGludXgvZ3Bpby9jb25zdW1lci5oPgo+ICsjaW5jbHVkZSA8bGludXgvbXV0ZXguaD4KPiArI2lu
Y2x1ZGUgPGxpbnV4L2RldmljZS5oPgo+ICsjaW5jbHVkZSA8bGludXgvb2YuaD4KPiArI2luY2x1
ZGUgPGxpbnV4L29mX2RldmljZS5oPgo+ICsjaW5jbHVkZSA8bGludXgvaTJjLmg+Cj4gKyNpbmNs
dWRlIDxsaW51eC9ncGlvLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9ncGlvL21hY2hpbmUuaD4KPiAr
I2luY2x1ZGUgPGxpbnV4L252bWVtLWNvbnN1bWVyLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9udm1l
bS1wcm92aWRlci5oPgo+ICsjaW5jbHVkZSA8bGludXgvaW50ZXJydXB0Lmg+Cj4gKyNpbmNsdWRl
IDxsaW51eC9zcGkvc3BpLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9zZXJkZXYuaD4KPiArI2luY2x1
ZGUgPGxpbnV4L3Byb3BlcnR5Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9zbGFiLmg+Cj4gKwo+ICsj
aW5jbHVkZSAibWlrcm9idXNfY29yZS5oIgo+ICsjaW5jbHVkZSAibWlrcm9idXNfbWFuaWZlc3Qu
aCIKPiArCj4gKyNkZWZpbmUgQVRNRUxfMjRDMzJfSTJDX0FERFIgMHg1Nwo+ICsKPiArc3RhdGlj
IERFRklORV9JRFIobWlrcm9idXNfcG9ydF9pZHIpOwo+ICtzdGF0aWMgc3RydWN0IGNsYXNzX2Nv
bXBhdCAqbWlrcm9idXNfcG9ydF9jb21wYXRfY2xhc3M7Cj4gK3N0YXRpYyBib29sIGlzX3JlZ2lz
dGVyZWQ7Cj4gKwo+ICtzdGF0aWMgc3NpemVfdCBhZGRfcG9ydF9zdG9yZShzdHJ1Y3QgYnVzX3R5
cGUgKmJ0LCBjb25zdCBjaGFyICpidWYsCj4gKwkJCSAgICAgIHNpemVfdCBjb3VudCkKPiArewo+
ICsJc3RydWN0IG1pa3JvYnVzX3BvcnRfY29uZmlnICpjZmc7Cj4gKwo+ICsJaWYgKGNvdW50IDwg
c2l6ZW9mKCpjZmcpKSB7Cj4gKwkJcHJfZXJyKCJhZGRfcG9ydDogaW5jb3JyZWN0IGNvbmZpZyBk
YXRhIHJlY2VpdmVkOiAlc1xuIiwgYnVmKTsKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCX0KPiAr
CW1pa3JvYnVzX3JlZ2lzdGVyX3BvcnRfY29uZmlnKCh2b2lkICopYnVmKTsKPiArCXJldHVybiBj
b3VudDsKPiArfQo+ICtCVVNfQVRUUl9XTyhhZGRfcG9ydCk7Cj4gKwo+ICtzdGF0aWMgc3NpemVf
dCBkZWxfcG9ydF9zdG9yZShzdHJ1Y3QgYnVzX3R5cGUgKmJ0LCBjb25zdCBjaGFyICpidWYsCj4g
KwkJCQkJCQkgIHNpemVfdCBjb3VudCkKPiArewo+ICsJaW50IGlkOwo+ICsJY2hhciBlbmQ7Cj4g
KwlpbnQgcmVzOwo+ICsKPiArCXJlcyA9IHNzY2FuZihidWYsICIlZCVjIiwgJmlkLCAmZW5kKTsK
PiArCWlmIChyZXMgPCAxKSB7Cj4gKwkJcHJfZXJyKCJkZWxldGVfcG9ydDogY2Fubm90IHBhcnNl
IG1pa3JvYnVzIHBvcnQgSURcbiIpOwo+ICsJCXJldHVybiAtRUlOVkFMOwo+ICsJfQo+ICsJaWYg
KCFpZHJfZmluZCgmbWlrcm9idXNfcG9ydF9pZHIsIGlkKSkgewo+ICsJCXByX2VycigiYXR0ZW1w
dGluZyB0byBkZWxldGUgdW5yZWdpc3RlcmVkIHBvcnQgWyVkXVxuIiwgaWQpOwo+ICsJCXJldHVy
biAtRUlOVkFMOwo+ICsJfQo+ICsJbWlrcm9idXNfZGVsX3BvcnQoaWRyX2ZpbmQoJm1pa3JvYnVz
X3BvcnRfaWRyLCBpZCkpOwo+ICsJcmV0dXJuIGNvdW50Owo+ICt9Cj4gK0JVU19BVFRSX1dPKGRl
bF9wb3J0KTsKPiArCj4gK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlICptaWtyb2J1c19hdHRyc1td
ID0gewo+ICsJJmJ1c19hdHRyX2FkZF9wb3J0LmF0dHIsCj4gKwkmYnVzX2F0dHJfZGVsX3BvcnQu
YXR0ciwKPiArCSBOVUxMCj4gK307Cj4gK0FUVFJJQlVURV9HUk9VUFMobWlrcm9idXMpOwo+ICsK
PiArc3RydWN0IGJ1c190eXBlIG1pa3JvYnVzX2J1c190eXBlID0gewo+ICsJLm5hbWUgPSAibWlr
cm9idXMiLAo+ICsJLmJ1c19ncm91cHMgPSBtaWtyb2J1c19ncm91cHMsCj4gK307Cj4gK0VYUE9S
VF9TWU1CT0xfR1BMKG1pa3JvYnVzX2J1c190eXBlKTsKPiArCj4gK3N0YXRpYyBpbnQgbWlrcm9i
dXNfcG9ydF9zY2FuX2VlcHJvbShzdHJ1Y3QgbWlrcm9idXNfcG9ydCAqcG9ydCkKPiArewo+ICsJ
Y2hhciBoZWFkZXJbMTJdOwo+ICsJc3RydWN0IGFkZG9uX2JvYXJkX2luZm8gKmJvYXJkOwo+ICsJ
aW50IG1hbmlmZXN0X3NpemU7Cj4gKwlpbnQgcmV0dmFsOwo+ICsJY2hhciAqYnVmOwo+ICsKPiAr
CW52bWVtX2RldmljZV9yZWFkKHBvcnQtPmVlcHJvbSwgMCwgMTIsIGhlYWRlcik7Cj4gKwltYW5p
ZmVzdF9zaXplID0gbWlrcm9idXNfbWFuaWZlc3RfaGVhZGVyX3ZhbGlkYXRlKGhlYWRlciwgMTIp
Owo+ICsJaWYgKG1hbmlmZXN0X3NpemUgPiAwKSB7Cj4gKwkJYnVmID0ga3phbGxvYyhtYW5pZmVz
dF9zaXplLCBHRlBfS0VSTkVMKTsKPiArCQludm1lbV9kZXZpY2VfcmVhZChwb3J0LT5lZXByb20s
IDAsIG1hbmlmZXN0X3NpemUsIGJ1Zik7Cj4gKwkJYm9hcmQgPSBremFsbG9jKHNpemVvZigqYm9h
cmQpLCBHRlBfS0VSTkVMKTsKPiArCQlpZiAoIWJvYXJkKQo+ICsJCQlyZXR1cm4gLUVOT01FTTsK
PiArCQlJTklUX0xJU1RfSEVBRCgmYm9hcmQtPm1hbmlmZXN0X2Rlc2NzKTsKPiArCQlJTklUX0xJ
U1RfSEVBRCgmYm9hcmQtPmRldmljZXMpOwo+ICsJCXJldHZhbCA9IG1pa3JvYnVzX21hbmlmZXN0
X3BhcnNlKGJvYXJkLCAodm9pZCAqKWJ1ZiwgbWFuaWZlc3Rfc2l6ZSk7Cj4gKwkJaWYgKCFyZXR2
YWwpIHsKPiArCQkJcHJfZXJyKCJmYWlsZWQgdG8gcGFyc2UgbWFuaWZlc3QsIHNpemU6ICVkIiwg
bWFuaWZlc3Rfc2l6ZSk7Cj4gKwkJCXJldHVybiAtRUlOVkFMOwo+ICsJCX0KPiArCQlyZXR2YWwg
PSBtaWtyb2J1c19yZWdpc3Rlcl9ib2FyZChwb3J0LCBib2FyZCk7Cj4gKwkJaWYgKHJldHZhbCkg
ewo+ICsJCQlwcl9lcnIoImZhaWxlZCB0byByZWdpc3RlciBib2FyZDogJXMiLCBib2FyZC0+bmFt
ZSk7Cj4gKwkJCXJldHVybiAtRUlOVkFMOwo+ICsJCX0KPiArCQlrZnJlZShidWYpOwo+ICsJfSBl
bHNlIHsKPiArCQlwcl9lcnIoImluYXZsaWRlIG1hbmlmZXN0IHBvcnQgJWQiLCBwb3J0LT5pZCk7
Cj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwl9Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3Rh
dGljIHNzaXplX3QgbmFtZV9zaG93KHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZV9h
dHRyaWJ1dGUgKmF0dHIsCj4gKwkJCQkJCSBjaGFyICpidWYpCj4gK3sKPiArCXJldHVybiBzcHJp
bnRmKGJ1ZiwgIiVzXG4iLCB0b19taWtyb2J1c19wb3J0KGRldiktPm5hbWUpOwo+ICt9Cj4gK3N0
YXRpYyBERVZJQ0VfQVRUUl9STyhuYW1lKTsKPiArCj4gK3N0YXRpYyBzc2l6ZV90IG5ld19kZXZp
Y2Vfc3RvcmUoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3QgZGV2aWNlX2F0dHJpYnV0ZSAqYXR0
ciwKPiArCQkJCQkgY29uc3QgY2hhciAqYnVmLCBzaXplX3QgY291bnQpCj4gK3sKPiArCXN0cnVj
dCBtaWtyb2J1c19wb3J0ICpwb3J0ID0gdG9fbWlrcm9idXNfcG9ydChkZXYpOwo+ICsJc3RydWN0
IGFkZG9uX2JvYXJkX2luZm8gKmJvYXJkOwo+ICsJaW50IHJldHZhbDsKPiArCj4gKwlpZiAocG9y
dC0+Ym9hcmQgPT0gTlVMTCkgewo+ICsJCWJvYXJkID0ga3phbGxvYyhzaXplb2YoKmJvYXJkKSwg
R0ZQX0tFUk5FTCk7Cj4gKwkJaWYgKCFib2FyZCkKPiArCQkJcmV0dXJuIC1FSU5WQUw7Cj4gKwkJ
SU5JVF9MSVNUX0hFQUQoJmJvYXJkLT5tYW5pZmVzdF9kZXNjcyk7Cj4gKwkJSU5JVF9MSVNUX0hF
QUQoJmJvYXJkLT5kZXZpY2VzKTsKPiArCX0gZWxzZSB7Cj4gKwkJcHJfZXJyKCJwb3J0ICVkIGFs
cmVhZHkgaGFzIGJvYXJkIHJlZ2lzdGVyZWQiLCBwb3J0LT5pZCk7Cj4gKwkJcmV0dXJuIC1FSU5W
QUw7Cj4gKwl9Cj4gKwlyZXR2YWwgPSBtaWtyb2J1c19tYW5pZmVzdF9wYXJzZShib2FyZCwgKHZv
aWQgKilidWYsIGNvdW50KTsKPiArCWlmICghcmV0dmFsKSB7Cj4gKwkJcHJfZXJyKCJmYWlsZWQg
dG8gcGFyc2UgbWFuaWZlc3QiKTsKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCX0KPiArCXJldHZh
bCA9IG1pa3JvYnVzX3JlZ2lzdGVyX2JvYXJkKHBvcnQsIGJvYXJkKTsKPiArCWlmIChyZXR2YWwp
IHsKPiArCQlwcl9lcnIoImZhaWxlZCB0byByZWdpc3RlciBib2FyZDogJXMiLCBib2FyZC0+bmFt
ZSk7Cj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwl9Cj4gKwlyZXR1cm4gY291bnQ7Cj4gK30KPiAr
c3RhdGljIERFVklDRV9BVFRSX1dPKG5ld19kZXZpY2UpOwo+ICsKPiArc3RhdGljIHNzaXplX3Qg
cmVzY2FuX3N0b3JlKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUg
KmF0dHIsCj4gKwkJCQkJCQljb25zdCBjaGFyICpidWYsIHNpemVfdCBjb3VudCkKPiArewo+ICsJ
c3RydWN0IG1pa3JvYnVzX3BvcnQgKnBvcnQgPSB0b19taWtyb2J1c19wb3J0KGRldik7Cj4gKwlp
bnQgaWQ7Cj4gKwljaGFyIGVuZDsKPiArCWludCByZXM7Cj4gKwlpbnQgcmV0dmFsOwo+ICsKPiAr
CXJlcyA9IHNzY2FuZihidWYsICIlZCVjIiwgJmlkLCAmZW5kKTsKPiArCWlmIChyZXMgPCAxKSB7
Cj4gKwkJcHJfZXJyKCJyZXNjYW46IENhbid0IHBhcnNlIHRyaWdnZXJcbiIpOwo+ICsJCXJldHVy
biAtRUlOVkFMOwo+ICsJfQo+ICsJaWYgKHBvcnQtPmJvYXJkICE9IE5VTEwpIHsKPiArCQlwcl9l
cnIoInBvcnQgJWQgYWxyZWFkeSBoYXMgYm9hcmQgcmVnaXN0ZXJlZCIsIHBvcnQtPmlkKTsKPiAr
CQlyZXR1cm4gLUVJTlZBTDsKPiArCX0KPiArCXJldHZhbCA9IG1pa3JvYnVzX3BvcnRfc2Nhbl9l
ZXByb20ocG9ydCk7Cj4gKwlpZiAocmV0dmFsKSB7Cj4gKwkJcHJfZXJyKCJwb3J0ICVkIGJvYXJk
IHJlZ2lzdGVyIGZyb20gbWFuaWZlc3QgZmFpbGVkIiwgcG9ydC0+aWQpOwo+ICsJCXJldHVybiAt
RUlOVkFMOwo+ICsJfQo+ICsJcmV0dXJuIGNvdW50Owo+ICt9Cj4gK3N0YXRpYyBERVZJQ0VfQVRU
Ul9XTyhyZXNjYW4pOwo+ICsKPiArc3RhdGljIHNzaXplX3QgZGVsZXRlX2RldmljZV9zdG9yZShz
dHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZpY2VfYXR0cmlidXRlICphdHRyLAo+ICsJCQkJ
CQkJY29uc3QgY2hhciAqYnVmLCBzaXplX3QgY291bnQpCj4gK3sKPiArCWludCBpZDsKPiArCWNo
YXIgZW5kOwo+ICsJaW50IHJlczsKPiArCXN0cnVjdCBtaWtyb2J1c19wb3J0ICpwb3J0ID0gdG9f
bWlrcm9idXNfcG9ydChkZXYpOwo+ICsKPiArCXJlcyA9IHNzY2FuZihidWYsICIlZCVjIiwgJmlk
LCAmZW5kKTsKPiArCWlmIChyZXMgPCAxKSB7Cj4gKwkJcHJfZXJyKCJkZWxldGVfYm9hcmQ6IENh
bid0IHBhcnNlIGJvYXJkIElEXG4iKTsKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCX0KPiArCWlm
IChwb3J0LT5ib2FyZCA9PSBOVUxMKSB7Cj4gKwkJcHJfZXJyKCJkZWxldGVfYm9hcmQ6IHBvcnQg
ZG9lcyBub3QgaGF2ZSBhbnkgYm9hcmRzIHJlZ2lzdGVyZWRcbiIpOwo+ICsJCXJldHVybiAtRUlO
VkFMOwo+ICsJfQo+ICsJbWlrcm9idXNfdW5yZWdpc3Rlcl9ib2FyZChwb3J0LCBwb3J0LT5ib2Fy
ZCk7Cj4gKwlyZXR1cm4gY291bnQ7Cj4gK30KPiArc3RhdGljIERFVklDRV9BVFRSX0lHTk9SRV9M
T0NLREVQKGRlbGV0ZV9kZXZpY2UsIDAyMDAsIE5VTEwsIGRlbGV0ZV9kZXZpY2Vfc3RvcmUpOwo+
ICsKPiArc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGUgKm1pa3JvYnVzX3BvcnRfYXR0cnNbXSA9IHsK
PiArCSZkZXZfYXR0cl9uZXdfZGV2aWNlLmF0dHIsICZkZXZfYXR0cl9yZXNjYW4uYXR0ciwKPiAr
CSZkZXZfYXR0cl9kZWxldGVfZGV2aWNlLmF0dHIsICZkZXZfYXR0cl9uYW1lLmF0dHIsIE5VTEx9
Owo+ICtBVFRSSUJVVEVfR1JPVVBTKG1pa3JvYnVzX3BvcnQpOwo+ICsKPiArc3RhdGljIHZvaWQg
bWlrcm9idXNfZGV2X3JlbGVhc2Uoc3RydWN0IGRldmljZSAqZGV2KQo+ICt7Cj4gKwlzdHJ1Y3Qg
bWlrcm9idXNfcG9ydCAqcG9ydCA9IHRvX21pa3JvYnVzX3BvcnQoZGV2KTsKPiArCj4gKwlpZHJf
cmVtb3ZlKCZtaWtyb2J1c19wb3J0X2lkciwgcG9ydC0+aWQpOwo+ICsJa2ZyZWUocG9ydCk7Cj4g
K30KPiArCj4gK3N0cnVjdCBkZXZpY2VfdHlwZSBtaWtyb2J1c19wb3J0X3R5cGUgPSB7Cj4gKwku
Z3JvdXBzID0gbWlrcm9idXNfcG9ydF9ncm91cHMsCj4gKwkucmVsZWFzZSA9IG1pa3JvYnVzX2Rl
dl9yZWxlYXNlLAo+ICt9Owo+ICtFWFBPUlRfU1lNQk9MX0dQTChtaWtyb2J1c19wb3J0X3R5cGUp
Owo+ICsKPiArc3RhdGljIGludCBtaWtyb2J1c19nZXRfaXJxKHN0cnVjdCBtaWtyb2J1c19wb3J0
ICpwb3J0LCBpbnQgaXJxbm8sCj4gKwkJCQkJCQlpbnQgaXJxX3R5cGUpCj4gK3sKPiArCWludCBp
cnE7Cj4gKwo+ICsJc3dpdGNoIChpcnFubykgewo+ICsJY2FzZSBNSUtST0JVU19HUElPX0lOVDoK
PiArCWlycSA9IGdwaW9kX3RvX2lycShwb3J0LT5pbnRfZ3Bpbyk7Cj4gKwlicmVhazsKPiArCWNh
c2UgTUlLUk9CVVNfR1BJT19SU1Q6Cj4gKwlpcnEgPSBncGlvZF90b19pcnEocG9ydC0+cnN0X2dw
aW8pOwo+ICsJYnJlYWs7Cj4gKwljYXNlIE1JS1JPQlVTX0dQSU9fUFdNOgo+ICsJaXJxID0gZ3Bp
b2RfdG9faXJxKHBvcnQtPnB3bV9ncGlvKTsKPiArCWJyZWFrOwo+ICsJZGVmYXVsdDoKPiArCXJl
dHVybiAtRUlOVkFMOwo+ICsJfQo+ICsJaWYgKGlycSA8IDApIHsKPiArCQlwcl9lcnIoIkNvdWxk
IG5vdCBnZXQgaXJxIGZvciBpcnEgdHlwZTogJWQiLCBpcnFubyk7Cj4gKwkJcmV0dXJuIC1FSU5W
QUw7Cj4gKwl9Cj4gKwlpcnFfc2V0X2lycV90eXBlKGlycSwgaXJxX3R5cGUpOwo+ICsJcmV0dXJu
IGlycTsKPiArfQo+ICsKPiArc3RhdGljIGludCBtaWtyb2J1c19zZXR1cF9ncGlvKHN0cnVjdCBn
cGlvX2Rlc2MgKmdwaW8sIGludCBncGlvX3N0YXRlKQo+ICt7Cj4gKwlpbnQgcmV0dmFsOwo+ICsK
PiArCWlmIChncGlvX3N0YXRlID09IE1JS1JPQlVTX0dQSU9fVU5VU0VEKQo+ICsJCXJldHVybiAw
Owo+ICsJc3dpdGNoIChncGlvX3N0YXRlKSB7Cj4gKwljYXNlIE1JS1JPQlVTX0dQSU9fSU5QVVQ6
Cj4gKwlyZXR2YWwgPSBncGlvZF9kaXJlY3Rpb25faW5wdXQoZ3Bpbyk7Cj4gKwlicmVhazsKPiAr
CWNhc2UgTUlLUk9CVVNfR1BJT19PVVRQVVRfSElHSDoKPiArCXJldHZhbCA9IGdwaW9kX2RpcmVj
dGlvbl9vdXRwdXQoZ3BpbywgMSk7Cj4gKwlncGlvZF9zZXRfdmFsdWVfY2Fuc2xlZXAoZ3Bpbywg
MSk7Cj4gKwlicmVhazsKPiArCWNhc2UgTUlLUk9CVVNfR1BJT19PVVRQVVRfTE9XOgo+ICsJcmV0
dmFsID0gZ3Bpb2RfZGlyZWN0aW9uX291dHB1dChncGlvLCAwKTsKPiArCWdwaW9kX3NldF92YWx1
ZV9jYW5zbGVlcChncGlvLCAwKTsKPiArCWJyZWFrOwo+ICsJZGVmYXVsdDoKPiArCXJldHVybiAt
RUlOVkFMOwo+ICsJfQo+ICsJcmV0dXJuIHJldHZhbDsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQg
bWlrcm9idXNfc3BpX2RldmljZV9kZWxldGUoc3RydWN0IHNwaV9tYXN0ZXIgKm1hc3RlciwgdW5z
aWduZWQgaW50IGNzKQo+ICt7Cj4gKwlzdHJ1Y3QgZGV2aWNlICpkZXY7Cj4gKwljaGFyIHN0clsz
Ml07Cj4gKwo+ICsJc25wcmludGYoc3RyLCBzaXplb2Yoc3RyKSwgIiVzLiV1IiwgZGV2X25hbWUo
Jm1hc3Rlci0+ZGV2KSwgY3MpOwo+ICsJZGV2ID0gYnVzX2ZpbmRfZGV2aWNlX2J5X25hbWUoJnNw
aV9idXNfdHlwZSwgTlVMTCwgc3RyKTsKPiArCWlmIChkZXYgIT0gTlVMTCkgewo+ICsJCXNwaV91
bnJlZ2lzdGVyX2RldmljZSh0b19zcGlfZGV2aWNlKGRldikpOwo+ICsJCXB1dF9kZXZpY2UoZGV2
KTsKPiArCX0KPiArfQo+ICsKPiArc3RhdGljIGNoYXIgKm1pa3JvYnVzX2dldF9ncGlvX2NoaXBf
bmFtZShzdHJ1Y3QgbWlrcm9idXNfcG9ydCAqcG9ydCwgaW50IGdwaW8pCj4gK3sKPiArCWNoYXIg
Km5hbWU7Cj4gKwlzdHJ1Y3QgZ3Bpb19jaGlwICpncGlvY2hpcDsKPiArCj4gKwlzd2l0Y2ggKGdw
aW8pIHsKPiArCWNhc2UgTUlLUk9CVVNfR1BJT19JTlQ6Cj4gKwlncGlvY2hpcCA9IGdwaW9kX3Rv
X2NoaXAocG9ydC0+aW50X2dwaW8pOwo+ICsJbmFtZSA9IGttZW1kdXAoZ3Bpb2NoaXAtPmxhYmVs
LCA0MCwgR0ZQX0tFUk5FTCk7Cj4gKwlicmVhazsKPiArCWNhc2UgTUlLUk9CVVNfR1BJT19SU1Q6
Cj4gKwlncGlvY2hpcCA9IGdwaW9kX3RvX2NoaXAocG9ydC0+cnN0X2dwaW8pOwo+ICsJbmFtZSA9
IGttZW1kdXAoZ3Bpb2NoaXAtPmxhYmVsLCA0MCwgR0ZQX0tFUk5FTCk7Cj4gKwlicmVhazsKPiAr
CWNhc2UgTUlLUk9CVVNfR1BJT19QV006Cj4gKwlncGlvY2hpcCA9IGdwaW9kX3RvX2NoaXAocG9y
dC0+cHdtX2dwaW8pOwo+ICsJbmFtZSA9IGttZW1kdXAoZ3Bpb2NoaXAtPmxhYmVsLCA0MCwgR0ZQ
X0tFUk5FTCk7Cj4gKwlicmVhazsKPiArCX0KPiArCXJldHVybiBuYW1lOwo+ICt9Cj4gKwo+ICtz
dGF0aWMgaW50IG1pa3JvYnVzX2dldF9ncGlvX2h3bnVtKHN0cnVjdCBtaWtyb2J1c19wb3J0ICpw
b3J0LCBpbnQgZ3BpbykKPiArewo+ICsJaW50IGh3bnVtOwo+ICsJc3RydWN0IGdwaW9fY2hpcCAq
Z3Bpb2NoaXA7Cj4gKwo+ICsJc3dpdGNoIChncGlvKSB7Cj4gKwljYXNlIE1JS1JPQlVTX0dQSU9f
SU5UOgo+ICsJZ3Bpb2NoaXAgPSBncGlvZF90b19jaGlwKHBvcnQtPmludF9ncGlvKTsKPiArCWh3
bnVtID0gZGVzY190b19ncGlvKHBvcnQtPmludF9ncGlvKSAtIGdwaW9jaGlwLT5iYXNlOwo+ICsJ
YnJlYWs7Cj4gKwljYXNlIE1JS1JPQlVTX0dQSU9fUlNUOgo+ICsJZ3Bpb2NoaXAgPSBncGlvZF90
b19jaGlwKHBvcnQtPnJzdF9ncGlvKTsKPiArCWh3bnVtID0gZGVzY190b19ncGlvKHBvcnQtPnJz
dF9ncGlvKSAtIGdwaW9jaGlwLT5iYXNlOwo+ICsJYnJlYWs7Cj4gKwljYXNlIE1JS1JPQlVTX0dQ
SU9fUFdNOgo+ICsJZ3Bpb2NoaXAgPSBncGlvZF90b19jaGlwKHBvcnQtPnB3bV9ncGlvKTsKPiAr
CWh3bnVtID0gZGVzY190b19ncGlvKHBvcnQtPnB3bV9ncGlvKSAtIGdwaW9jaGlwLT5iYXNlOwo+
ICsJYnJlYWs7Cj4gKwl9Cj4gKwlyZXR1cm4gaHdudW07Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lk
IHJlbGVhc2VfbWlrcm9idXNfZGV2aWNlKHN0cnVjdCBib2FyZF9kZXZpY2VfaW5mbyAqZGV2KQo+
ICt7Cj4gKwlsaXN0X2RlbCgmZGV2LT5saW5rcyk7Cj4gKwlrZnJlZShkZXYpOwo+ICt9Cj4gKwo+
ICtzdGF0aWMgdm9pZCByZWxlYXNlX2JvYXJkX2RldmljZXMoc3RydWN0IGFkZG9uX2JvYXJkX2lu
Zm8gKmluZm8pCj4gK3sKPiArCXN0cnVjdCBib2FyZF9kZXZpY2VfaW5mbyAqZGV2Owo+ICsJc3Ry
dWN0IGJvYXJkX2RldmljZV9pbmZvICpuZXh0Owo+ICsKPiArCWxpc3RfZm9yX2VhY2hfZW50cnlf
c2FmZShkZXYsIG5leHQsICZpbmZvLT5kZXZpY2VzLCBsaW5rcykKPiArCQlyZWxlYXNlX21pa3Jv
YnVzX2RldmljZShkZXYpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IG1pa3JvYnVzX3JlZ2lzdGVy
X2RldmljZShzdHJ1Y3QgbWlrcm9idXNfcG9ydCAqcG9ydCwKPiArCQkJCQlzdHJ1Y3QgYm9hcmRf
ZGV2aWNlX2luZm8gKmRldiwgY2hhciAqYm9hcmRfbmFtZSkKPiArewo+ICsJc3RydWN0IGkyY19i
b2FyZF9pbmZvICppMmM7Cj4gKwlzdHJ1Y3Qgc3BpX2JvYXJkX2luZm8gKnNwaTsKPiArCXN0cnVj
dCBncGlvZF9sb29rdXBfdGFibGUgKmxvb2t1cDsKPiArCWNoYXIgZGV2bmFtZVs0MF07Cj4gKwlp
bnQgaTsKPiArCj4gKwlwcl9pbmZvKCIgcmVnaXN0ZXJpbmcgZGV2aWNlIDogJXNcbiIsIGRldi0+
ZHJ2X25hbWUpOwo+ICsKPiArCWlmIChkZXYtPmdwaW9fbG9va3VwICE9IE5VTEwpIHsKPiArCQls
b29rdXAgPSBkZXYtPmdwaW9fbG9va3VwOwo+ICsJCWlmIChkZXYtPnByb3RvY29sID09IE1JS1JP
QlVTX1BST1RPQ09MX1NQSSkgewo+ICsJCQlzbnByaW50ZihkZXZuYW1lLCBzaXplb2YoZGV2bmFt
ZSksICIlcy4ldSIsCj4gKwkJCQlkZXZfbmFtZSgmcG9ydC0+c3BpX21zdHItPmRldiksIGRldi0+
cmVnKTsKPiArCQkJbG9va3VwLT5kZXZfaWQgPSBrbWVtZHVwKGRldm5hbWUsIDQwLCBHRlBfS0VS
TkVMKTsKPiArCQl9IGVsc2UgaWYgKGRldi0+cHJvdG9jb2wgPT0gTUlLUk9CVVNfUFJPVE9DT0xf
STJDKQo+ICsJCQlsb29rdXAtPmRldl9pZCA9IGRldi0+ZHJ2X25hbWU7Cj4gKwkJcHJfaW5mbygi
IGFkZGluZyBsb29rdXAgdGFibGUgOiAlc1xuIiwgbG9va3VwLT5kZXZfaWQpOwo+ICsJCWZvciAo
aSA9IDA7IGkgPCBkZXYtPm51bV9ncGlvX3Jlc291cmNlczsgaSsrKSB7Cj4gKwkJCWxvb2t1cC0+
dGFibGVbaV0ua2V5ID0KPiArCQkJbWlrcm9idXNfZ2V0X2dwaW9fY2hpcF9uYW1lKHBvcnQsIGxv
b2t1cC0+dGFibGVbaV0uY2hpcF9od251bSk7Cj4gKwkJCWxvb2t1cC0+dGFibGVbaV0uY2hpcF9o
d251bSA9Cj4gKwkJCW1pa3JvYnVzX2dldF9ncGlvX2h3bnVtKHBvcnQsIGxvb2t1cC0+dGFibGVb
aV0uY2hpcF9od251bSk7Cj4gKwkJCWxvb2t1cC0+dGFibGVbaV0uZmxhZ3MgPSBHUElPX0FDVElW
RV9ISUdIOwo+ICsJCX0KPiArCQlncGlvZF9hZGRfbG9va3VwX3RhYmxlKGxvb2t1cCk7Cj4gKwl9
Cj4gKwlzd2l0Y2ggKGRldi0+cHJvdG9jb2wpIHsKPiArCWNhc2UgTUlLUk9CVVNfUFJPVE9DT0xf
U1BJOgo+ICsJc3BpID0ga3phbGxvYyhzaXplb2YoKnNwaSksIEdGUF9LRVJORUwpOwo+ICsJaWYg
KCFzcGkpCj4gKwkJcmV0dXJuIC1FTk9NRU07Cj4gKwlzdHJuY3B5KHNwaS0+bW9kYWxpYXMsIGRl
di0+ZHJ2X25hbWUsIHNpemVvZihzcGktPm1vZGFsaWFzKSAtIDEpOwo+ICsJaWYgKGRldi0+aXJx
KQo+ICsJCXNwaS0+aXJxID0gbWlrcm9idXNfZ2V0X2lycShwb3J0LCBkZXYtPmlycSwgZGV2LT5p
cnFfdHlwZSk7Cj4gKwlpZiAoZGV2LT5wcm9wZXJ0aWVzKQo+ICsJCXNwaS0+cHJvcGVydGllcyA9
IGRldi0+cHJvcGVydGllczsKPiArCXNwaS0+Y2hpcF9zZWxlY3QgPSBkZXYtPnJlZzsKPiArCXNw
aS0+bWF4X3NwZWVkX2h6ID0gZGV2LT5tYXhfc3BlZWRfaHo7Cj4gKwlzcGktPm1vZGUgPSBkZXYt
Pm1vZGU7Cj4gKwltaWtyb2J1c19zcGlfZGV2aWNlX2RlbGV0ZShwb3J0LT5zcGlfbXN0ciwgZGV2
LT5yZWcpOwo+ICsJZGV2LT5kZXZfY2xpZW50ID0gKHZvaWQgKilzcGlfbmV3X2RldmljZShwb3J0
LT5zcGlfbXN0ciwgc3BpKTsKPiArCWJyZWFrOwo+ICsJY2FzZSBNSUtST0JVU19QUk9UT0NPTF9J
MkM6Cj4gKwlpMmMgPSBremFsbG9jKHNpemVvZigqaTJjKSwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAo
IWkyYykKPiArCQlyZXR1cm4gLUVOT01FTTsKPiArCXN0cm5jcHkoaTJjLT50eXBlLCBkZXYtPmRy
dl9uYW1lLCBzaXplb2YoaTJjLT50eXBlKSAtIDEpOwo+ICsJaWYgKGRldi0+aXJxKQo+ICsJCWky
Yy0+aXJxID0gbWlrcm9idXNfZ2V0X2lycShwb3J0LCBkZXYtPmlycSwgZGV2LT5pcnFfdHlwZSk7
Cj4gKwlpZiAoZGV2LT5wcm9wZXJ0aWVzKQo+ICsJCWkyYy0+cHJvcGVydGllcyA9IGRldi0+cHJv
cGVydGllczsKPiArCWkyYy0+YWRkciA9IGRldi0+cmVnOwo+ICsJZGV2LT5kZXZfY2xpZW50ID0g
KHZvaWQgKilpMmNfbmV3X2NsaWVudF9kZXZpY2UocG9ydC0+aTJjX2FkYXAsIGkyYyk7Cj4gKwli
cmVhazsKPiArCWNhc2UgTUlLUk9CVVNfUFJPVE9DT0xfVUFSVDoKPiArCXByX2luZm8oIlNFUkRF
ViBkZXZpY2VzIHN1cHBvcnQgbm90IHlldCBhZGRlZCIpOwo+ICsJYnJlYWs7Cj4gKwlkZWZhdWx0
Ogo+ICsJcmV0dXJuIC1FSU5WQUw7Cj4gKwl9Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3Rh
dGljIHZvaWQgbWlrcm9idXNfdW5yZWdpc3Rlcl9kZXZpY2Uoc3RydWN0IG1pa3JvYnVzX3BvcnQg
KnBvcnQsIHN0cnVjdCBib2FyZF9kZXZpY2VfaW5mbyAqZGV2LAo+ICsJCQkJCQkJCQkJY2hhciAq
Ym9hcmRfbmFtZSkKPiArewo+ICsJcHJfaW5mbygiIHJlbW92aW5nIGRldmljZSA6ICVzXG4iLCBk
ZXYtPmRydl9uYW1lKTsKPiArCWlmIChkZXYtPmdwaW9fbG9va3VwICE9IE5VTEwpIHsKPiArCQln
cGlvZF9yZW1vdmVfbG9va3VwX3RhYmxlKGRldi0+Z3Bpb19sb29rdXApOwo+ICsJCWtmcmVlKGRl
di0+Z3Bpb19sb29rdXApOwo+ICsJfQo+ICsJaWYgKGRldi0+cHJvcGVydGllcyAhPSBOVUxMKQo+
ICsJCWtmcmVlKGRldi0+cHJvcGVydGllcyk7Cj4gKwlzd2l0Y2ggKGRldi0+cHJvdG9jb2wpIHsK
PiArCWNhc2UgTUlLUk9CVVNfUFJPVE9DT0xfU1BJOgo+ICsJc3BpX3VucmVnaXN0ZXJfZGV2aWNl
KChzdHJ1Y3Qgc3BpX2RldmljZSAqKWRldi0+ZGV2X2NsaWVudCk7Cj4gKwlicmVhazsKPiArCWNh
c2UgTUlLUk9CVVNfUFJPVE9DT0xfSTJDOgo+ICsJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKChzdHJ1
Y3QgaTJjX2NsaWVudCAqKWRldi0+ZGV2X2NsaWVudCk7Cj4gKwlicmVhazsKPiArCWNhc2UgTUlL
Uk9CVVNfUFJPVE9DT0xfVUFSVDoKPiArCXByX2VycigiU0VSREVWIGRldmljZXMgc3VwcG9ydCBu
b3QgeWV0IGFkZGVkIik7Cj4gKwlicmVhazsKPiArCX0KPiArfQo+ICsKPiAraW50IG1pa3JvYnVz
X3JlZ2lzdGVyX2JvYXJkKHN0cnVjdCBtaWtyb2J1c19wb3J0ICpwb3J0LAlzdHJ1Y3QgYWRkb25f
Ym9hcmRfaW5mbyAqYm9hcmQpCj4gK3sKPiArCXN0cnVjdCBib2FyZF9kZXZpY2VfaW5mbyAqZGV2
aW5mbzsKPiArCXN0cnVjdCBib2FyZF9kZXZpY2VfaW5mbyAqbmV4dDsKPiArCWludCByZXR2YWw7
Cj4gKwo+ICsJaWYgKFdBUk5fT04obGlzdF9lbXB0eSgmYm9hcmQtPmRldmljZXMpKSkKPiArCQly
ZXR1cm4gZmFsc2U7Cj4gKwo+ICsJcmV0dmFsID0gbWlrcm9idXNfc2V0dXBfZ3Bpbyhwb3J0LT5w
d21fZ3BpbywgYm9hcmQtPnB3bV9ncGlvX3N0YXRlKTsKPiArCWlmIChyZXR2YWwpIHsKPiArCQlw
cl9lcnIoIm1pa3JvYnVzX3NldHVwX2dwaW8gOiBjYW4ndCBzZXR1cCBwd20gZ3BpbyBzdGF0ZTog
KCVkKVxuIiwgcmV0dmFsKTsKPiArCQlyZXR1cm4gcmV0dmFsOwo+ICsJfQo+ICsJcmV0dmFsID0g
bWlrcm9idXNfc2V0dXBfZ3Bpbyhwb3J0LT5pbnRfZ3BpbywgYm9hcmQtPmludF9ncGlvX3N0YXRl
KTsKPiArCWlmIChyZXR2YWwpIHsKPiArCQlwcl9lcnIoIm1pa3JvYnVzX3NldHVwX2dwaW8gOiBj
YW4ndCBzZXR1cCBpbnQgZ3BpbyBzdGF0ZTogKCVkKVxuIiwgcmV0dmFsKTsKPiArCQlyZXR1cm4g
cmV0dmFsOwo+ICsJfQo+ICsJcmV0dmFsID0gbWlrcm9idXNfc2V0dXBfZ3Bpbyhwb3J0LT5yc3Rf
Z3BpbywgYm9hcmQtPnJzdF9ncGlvX3N0YXRlKTsKPiArCWlmIChyZXR2YWwpIHsKPiArCQlwcl9l
cnIoIm1pa3JvYnVzX3NldHVwX2dwaW8gOiBjYW4ndCBzZXR1cCByc3QgZ3BpbyBzdGF0ZTogKCVk
KVxuIiwgcmV0dmFsKTsKPiArCQlyZXR1cm4gcmV0dmFsOwo+ICsJfQo+ICsJbGlzdF9mb3JfZWFj
aF9lbnRyeV9zYWZlKGRldmluZm8sIG5leHQsICZib2FyZC0+ZGV2aWNlcywgbGlua3MpCj4gKwkJ
bWlrcm9idXNfcmVnaXN0ZXJfZGV2aWNlKHBvcnQsIGRldmluZm8sIGJvYXJkLT5uYW1lKTsKPiAr
CXBvcnQtPmJvYXJkID0gYm9hcmQ7Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICtFWFBPUlRfU1lNQk9M
X0dQTChtaWtyb2J1c19yZWdpc3Rlcl9ib2FyZCk7Cj4gKwo+ICt2b2lkIG1pa3JvYnVzX3VucmVn
aXN0ZXJfYm9hcmQoc3RydWN0IG1pa3JvYnVzX3BvcnQgKnBvcnQsIHN0cnVjdCBhZGRvbl9ib2Fy
ZF9pbmZvICpib2FyZCkKPiArewo+ICsJc3RydWN0IGJvYXJkX2RldmljZV9pbmZvICpkZXZpbmZv
Owo+ICsJc3RydWN0IGJvYXJkX2RldmljZV9pbmZvICpuZXh0Owo+ICsKPiArCWlmIChXQVJOX09O
KGxpc3RfZW1wdHkoJmJvYXJkLT5kZXZpY2VzKSkpCj4gKwkJcmV0dXJuOwo+ICsJcG9ydC0+Ym9h
cmQgPSBOVUxMOwo+ICsJbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKGRldmluZm8sIG5leHQsICZi
b2FyZC0+ZGV2aWNlcywgbGlua3MpCj4gKwkJbWlrcm9idXNfdW5yZWdpc3Rlcl9kZXZpY2UocG9y
dCwgZGV2aW5mbywgYm9hcmQtPm5hbWUpOwo+ICsJcmVsZWFzZV9ib2FyZF9kZXZpY2VzKGJvYXJk
KTsKPiArCWtmcmVlKGJvYXJkKTsKPiArCXBvcnQtPmJvYXJkID0gTlVMTDsKPiArfQo+ICtFWFBP
UlRfU1lNQk9MX0dQTChtaWtyb2J1c191bnJlZ2lzdGVyX2JvYXJkKTsKPiArCj4gK2ludCBtaWty
b2J1c19yZWdpc3Rlcl9wb3J0X2NvbmZpZyhzdHJ1Y3QgbWlrcm9idXNfcG9ydF9jb25maWcgKmNm
ZykKPiArewo+ICsJc3RydWN0IG1pa3JvYnVzX3BvcnQgKnBvcnQ7Cj4gKwlpbnQgcmV0dmFsOwo+
ICsKPiArCWlmIChXQVJOX09OKCFpc19yZWdpc3RlcmVkKSkKPiArCQlyZXR1cm4gLUVBR0FJTjsK
PiArCXBvcnQgPSBremFsbG9jKHNpemVvZigqcG9ydCksIEdGUF9LRVJORUwpOwo+ICsJaWYgKCFw
b3J0KQo+ICsJCXJldHVybiAtRU5PTUVNOwo+ICsJcG9ydC0+cHdtX2dwaW8gPSBncGlvX3RvX2Rl
c2MoY2ZnLT5wd21fZ3Bpb19ucik7Cj4gKwlwb3J0LT5pbnRfZ3BpbyA9IGdwaW9fdG9fZGVzYyhj
ZmctPmludF9ncGlvX25yKTsKPiArCXBvcnQtPnJzdF9ncGlvID0gZ3Bpb190b19kZXNjKGNmZy0+
cnN0X2dwaW9fbnIpOwo+ICsJcG9ydC0+c3BpX21zdHIgPSBzcGlfYnVzbnVtX3RvX21hc3Rlcihj
ZmctPnNwaV9tYXN0ZXJfbnIpOwo+ICsJcG9ydC0+aTJjX2FkYXAgPSBpMmNfZ2V0X2FkYXB0ZXIo
Y2ZnLT5pMmNfYWRhcF9ucik7Cj4gKwlyZXR2YWwgPSBtaWtyb2J1c19yZWdpc3Rlcl9wb3J0KHBv
cnQpOwo+ICsJaWYgKHJldHZhbCkgewo+ICsJCXByX2VycigicG9ydCA6IGNhbid0IHJlZ2lzdGVy
IHBvcnQgZnJvbSBjb25maWcgKCVkKVxuIiwgcmV0dmFsKTsKPiArCQlyZXR1cm4gcmV0dmFsOwo+
ICsJfQo+ICsJcmV0dXJuIHJldHZhbDsKPiArfQo+ICtFWFBPUlRfU1lNQk9MX0dQTChtaWtyb2J1
c19yZWdpc3Rlcl9wb3J0X2NvbmZpZyk7Cj4gKwo+ICtzdGF0aWMgc3RydWN0IGkyY19ib2FyZF9p
bmZvIG1pa3JvYnVzX2VlcHJvbV9pbmZvID0gewo+ICsJSTJDX0JPQVJEX0lORk8oIjI0YzMyIiwg
QVRNRUxfMjRDMzJfSTJDX0FERFIpLAo+ICt9Owo+ICsKPiArc3RhdGljIGludCBtaWtyb2J1c19w
b3J0X3Byb2JlX2VlcHJvbShzdHJ1Y3QgbWlrcm9idXNfcG9ydCAqcG9ydCkKPiArewo+ICsJc3Ry
dWN0IGkyY19jbGllbnQgKmVlcHJvbV9jbGllbnQ7Cj4gKwlzdHJ1Y3QgbnZtZW1fZGV2aWNlICpl
ZXByb207Cj4gKwljaGFyIGRldl9uYW1lWzQwXTsKPiArCj4gKwllZXByb21fY2xpZW50ID0gaTJj
X25ld19jbGllbnRfZGV2aWNlKHBvcnQtPmkyY19hZGFwLCAmbWlrcm9idXNfZWVwcm9tX2luZm8p
Owo+ICsJaWYgKCFJU19FUlIoZWVwcm9tX2NsaWVudCkpIHsKPiArCQlwcl9pbmZvKCIgbWlrcm9i
dXMgcG9ydCAlZCBkZWZhdWx0IGVlcHJvbSBpcyBwcm9iZWQgYXQgJTAyeFxuIiwgcG9ydC0+aWQs
Cj4gKwkJCQkJCQkJCWVlcHJvbV9jbGllbnQtPmFkZHIpOwo+ICsJCXNucHJpbnRmKGRldl9uYW1l
LCBzaXplb2YoZGV2X25hbWUpLCAiJWQtJTA0eDAiLCBwb3J0LT5pMmNfYWRhcC0+bnIsCj4gKwkJ
CQkgZWVwcm9tX2NsaWVudC0+YWRkcik7Cj4gKwkJZWVwcm9tID0gbnZtZW1fZGV2aWNlX2dldCgm
ZWVwcm9tX2NsaWVudC0+ZGV2LCBkZXZfbmFtZSk7Cj4gKwkJaWYgKElTX0VSUihlZXByb20pKSB7
Cj4gKwkJCXByX2VycigiIG1pa3JvYnVzIHBvcnQgJWQgZWVwcm9tIG52bWVtIGRldmljZSBwcm9i
ZSBmYWlsZWRcbiIsIHBvcnQtPmlkKTsKPiArCQkJaTJjX3VucmVnaXN0ZXJfZGV2aWNlKGVlcHJv
bV9jbGllbnQpOwo+ICsJCQlwb3J0LT5lZXByb20gPSBOVUxMOwo+ICsJCQlyZXR1cm4gMDsKPiAr
CQl9Cj4gKwl9IGVsc2Ugewo+ICsJCXByX2luZm8oIiBtaWtyb2J1cyBwb3J0ICVkIGRlZmF1bHQg
ZWVwcm9tIHByb2JlIGZhaWxlZFxuIiwgcG9ydC0+aWQpOwo+ICsJCXJldHVybiAwOwo+ICsJfQo+
ICsJcG9ydC0+ZWVwcm9tID0gZWVwcm9tOwo+ICsJcG9ydC0+ZWVwcm9tX2NsaWVudCA9IGVlcHJv
bV9jbGllbnQ7Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiAraW50IG1pa3JvYnVzX3JlZ2lzdGVy
X3BvcnQoc3RydWN0IG1pa3JvYnVzX3BvcnQgKnBvcnQpCj4gK3sKPiArCWludCByZXR2YWw7Cj4g
KwlpbnQgaWQ7Cj4gKwo+ICsJaWYgKFdBUk5fT04oIWlzX3JlZ2lzdGVyZWQpKQo+ICsJCXJldHVy
biAtRUFHQUlOOwo+ICsJaWQgPSBpZHJfYWxsb2MoJm1pa3JvYnVzX3BvcnRfaWRyLCBwb3J0LCAw
LCAwLCBHRlBfS0VSTkVMKTsKPiArCWlmIChpZCA8IDApCj4gKwkJcmV0dXJuIGlkOwo+ICsJcG9y
dC0+aWQgPSBpZDsKPiArCXBvcnQtPmRldi5idXMgPSAmbWlrcm9idXNfYnVzX3R5cGU7Cj4gKwlw
b3J0LT5kZXYudHlwZSA9ICZtaWtyb2J1c19wb3J0X3R5cGU7Cj4gKwlzdHJuY3B5KHBvcnQtPm5h
bWUsICJtaWtyb2J1cy1wb3J0Iiwgc2l6ZW9mKHBvcnQtPm5hbWUpIC0gMSk7Cj4gKwlkZXZfc2V0
X25hbWUoJnBvcnQtPmRldiwgIm1pa3JvYnVzLSVkIiwgcG9ydC0+aWQpOwo+ICsJcHJfaW5mbygi
cmVnaXN0ZXJpbmcgcG9ydCBtaWtyb2J1cy0lZFxuICIsIHBvcnQtPmlkKTsKPiArCXJldHZhbCA9
IGRldmljZV9yZWdpc3RlcigmcG9ydC0+ZGV2KTsKPiArCWlmIChyZXR2YWwpIHsKPiArCQlwcl9l
cnIoInBvcnQgJyVkJzogY2FuJ3QgcmVnaXN0ZXIgZGV2aWNlICglZClcbiIsIHBvcnQtPmlkLCBy
ZXR2YWwpOwo+ICsJCXB1dF9kZXZpY2UoJnBvcnQtPmRldik7Cj4gKwkJcmV0dXJuIHJldHZhbDsK
PiArCX0KPiArCXJldHZhbCA9IGNsYXNzX2NvbXBhdF9jcmVhdGVfbGluayhtaWtyb2J1c19wb3J0
X2NvbXBhdF9jbGFzcywgJnBvcnQtPmRldiwKPiArCQkJCQkJCQlwb3J0LT5kZXYucGFyZW50KTsK
PiArCWlmIChyZXR2YWwpCj4gKwkJZGV2X3dhcm4oJnBvcnQtPmRldiwgImZhaWxlZCB0byBjcmVh
dGUgY29tcGF0aWJpbGl0eSBjbGFzcyBsaW5rXG4iKTsKPiArCWlmICghcG9ydC0+ZWVwcm9tKSB7
Cj4gKwkJcHJfaW5mbygibWlrcm9idXMgcG9ydCAlZCBlZXByb20gZW1wdHkgcHJvYmluZyBkZWZh
dWx0IGVlcHJvbVxuIiwgcG9ydC0+aWQpOwo+ICsJCXJldHZhbCA9IG1pa3JvYnVzX3BvcnRfcHJv
YmVfZWVwcm9tKHBvcnQpOwo+ICsJfQo+ICsJaWYgKHBvcnQtPmVlcHJvbSkgewo+ICsJCXJldHZh
bCA9IG1pa3JvYnVzX3BvcnRfc2Nhbl9lZXByb20ocG9ydCk7Cj4gKwkJaWYgKHJldHZhbCkKPiAr
CQkJZGV2X3dhcm4oJnBvcnQtPmRldiwgImZhaWxlZCB0byByZWdpc3RlciBib2FyZCBmcm9tIG1h
bmlmZXN0XG4iKTsKPiArCX0KPiArCXJldHVybiByZXR2YWw7Cj4gK30KPiArRVhQT1JUX1NZTUJP
TF9HUEwobWlrcm9idXNfcmVnaXN0ZXJfcG9ydCk7Cj4gKwo+ICt2b2lkIG1pa3JvYnVzX2RlbF9w
b3J0KHN0cnVjdCBtaWtyb2J1c19wb3J0ICpwb3J0KQo+ICt7Cj4gKwlzdHJ1Y3QgbWlrcm9idXNf
cG9ydCAqZm91bmQ7Cj4gKwo+ICsJZm91bmQgPSBpZHJfZmluZCgmbWlrcm9idXNfcG9ydF9pZHIs
IHBvcnQtPmlkKTsKPiArCWlmIChmb3VuZCAhPSBwb3J0KSB7Cj4gKwkJcHJfZXJyKCJhdHRlbXB0
aW5nIHRvIGRlbGV0ZSB1bnJlZ2lzdGVyZWQgcG9ydCBbJXNdXG4iLCBwb3J0LT5uYW1lKTsKPiAr
CQlyZXR1cm47Cj4gKwl9Cj4gKwlpZiAocG9ydC0+Ym9hcmQgIT0gTlVMTCkgewo+ICsJCXByX2Vy
cigiYXR0ZW1wdGluZyB0byBkZWxldGUgcG9ydCB3aXRoIHJlZ2lzdGVyZWQgYm9hcmRzLCBwb3J0
IFslc11cbiIsCj4gKwkJCQkJCQkJCXBvcnQtPm5hbWUpOwo+ICsJCXJldHVybjsKPiArCX0KPiAr
Cj4gKwlpZiAocG9ydC0+ZWVwcm9tKSB7Cj4gKwkJbnZtZW1fZGV2aWNlX3B1dChwb3J0LT5lZXBy
b20pOwo+ICsJCWkyY191bnJlZ2lzdGVyX2RldmljZShwb3J0LT5lZXByb21fY2xpZW50KTsKPiAr
CX0KPiArCj4gKwljbGFzc19jb21wYXRfcmVtb3ZlX2xpbmsobWlrcm9idXNfcG9ydF9jb21wYXRf
Y2xhc3MsICZwb3J0LT5kZXYsCj4gKwkJCQkJCQlwb3J0LT5kZXYucGFyZW50KTsKPiArCWRldmlj
ZV91bnJlZ2lzdGVyKCZwb3J0LT5kZXYpOwo+ICsJaWRyX3JlbW92ZSgmbWlrcm9idXNfcG9ydF9p
ZHIsIHBvcnQtPmlkKTsKPiArCW1lbXNldCgmcG9ydC0+ZGV2LCAwLCBzaXplb2YocG9ydC0+ZGV2
KSk7Cj4gK30KPiArRVhQT1JUX1NZTUJPTF9HUEwobWlrcm9idXNfZGVsX3BvcnQpOwo+ICsKPiAr
c3RhdGljIGludCBfX2luaXQgbWlrcm9idXNfaW5pdCh2b2lkKQo+ICt7Cj4gKwlpbnQgcmV0dmFs
Owo+ICsKPiArCXJldHZhbCA9IGJ1c19yZWdpc3RlcigmbWlrcm9idXNfYnVzX3R5cGUpOwo+ICsJ
aWYgKHJldHZhbCkgewo+ICsJCXByX2VycigiYnVzX3JlZ2lzdGVyIGZhaWxlZCAoJWQpXG4iLCBy
ZXR2YWwpOwo+ICsJCXJldHVybiByZXR2YWw7Cj4gKwl9Cj4gKwltaWtyb2J1c19wb3J0X2NvbXBh
dF9jbGFzcyA9IGNsYXNzX2NvbXBhdF9yZWdpc3RlcigibWlrcm9idXMtcG9ydCIpOwo+ICsJaWYg
KCFtaWtyb2J1c19wb3J0X2NvbXBhdF9jbGFzcykgewo+ICsJCXByX2VycigiY2xhc3NfY29tcGF0
IHJlZ2lzdGVyIGZhaWxlZCAoJWQpXG4iLCByZXR2YWwpOwo+ICsJCXJldHZhbCA9IC1FTk9NRU07
Cj4gKwkJZ290byBjbGFzc19lcnI7Cj4gKwl9Cj4gKwlpc19yZWdpc3RlcmVkID0gdHJ1ZTsKPiAr
CXJldHVybiAwOwo+ICtjbGFzc19lcnI6Cj4gKwlidXNfdW5yZWdpc3RlcigmbWlrcm9idXNfYnVz
X3R5cGUpOwo+ICsJaWRyX2Rlc3Ryb3koJm1pa3JvYnVzX3BvcnRfaWRyKTsKPiArCWlzX3JlZ2lz
dGVyZWQgPSBmYWxzZTsKPiArCXJldHVybiByZXR2YWw7Cj4gK30KPiArc3Vic3lzX2luaXRjYWxs
KG1pa3JvYnVzX2luaXQpOwo+ICsKPiArc3RhdGljIHZvaWQgX19leGl0IG1pa3JvYnVzX2V4aXQo
dm9pZCkKPiArewo+ICsJYnVzX3VucmVnaXN0ZXIoJm1pa3JvYnVzX2J1c190eXBlKTsKPiArCWNs
YXNzX2NvbXBhdF91bnJlZ2lzdGVyKG1pa3JvYnVzX3BvcnRfY29tcGF0X2NsYXNzKTsKPiArCWlk
cl9kZXN0cm95KCZtaWtyb2J1c19wb3J0X2lkcik7Cj4gK30KPiArbW9kdWxlX2V4aXQobWlrcm9i
dXNfZXhpdCk7Cj4gKwo+ICtNT0RVTEVfQVVUSE9SKCJWYWlzaG5hdiBNIEEgPHZhaXNobmF2QGJl
YWdsZWJvYXJkLm9yZz4iKTsKPiArTU9EVUxFX0RFU0NSSVBUSU9OKCJtaWtyb0JVUyBtYWluIG1v
ZHVsZSIpOwo+ICtNT0RVTEVfTElDRU5TRSgiR1BMIHYyIik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvbWlzYy9taWtyb2J1cy9taWtyb2J1c19jb3JlLmggYi9kcml2ZXJzL21pc2MvbWlrcm9idXMv
bWlrcm9idXNfY29yZS5oCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAw
MDAuLjk2ODRkMzE1ZjU2NAo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL21pc2MvbWlr
cm9idXMvbWlrcm9idXNfY29yZS5oCj4gQEAgLTAsMCArMSwxMzAgQEAKPiArLyogU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAgKi8KPiArLyoKPiArICogbWlrcm9CVVMgRHJpdmVyIGZv
ciBpbnN0YW50aWF0aW5nIGFkZC1vbgo+ICsgKiBib2FyZCBkZXZpY2VzIHdpdGggYW4gaWRlbnRp
ZmllciBFRVBST00KPiArICoKPiArICogQ29weXJpZ2h0IDIwMjAgVmFpc2huYXYgTSBBLCBCZWFn
bGVCb2FyZC5vcmcgRm91bmRhdGlvbi4KPiArICovCj4gKwo+ICsjaWZuZGVmIF9fTUlLUk9CVVNf
SAo+ICsjZGVmaW5lIF9fTUlLUk9CVVNfSAo+ICsKPiArI2luY2x1ZGUgPGxpbnV4L2Vyci5oPgo+
ICsjaW5jbHVkZSA8bGludXgvZXJybm8uaD4KPiArI2luY2x1ZGUgPGxpbnV4L2kyYy5oPgo+ICsj
aW5jbHVkZSA8bGludXgvZ3Bpby5oPgo+ICsjaW5jbHVkZSA8bGludXgvZ3Bpby9jb25zdW1lci5o
Pgo+ICsjaW5jbHVkZSA8bGludXgvZ3Bpby9tYWNoaW5lLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9z
cGkvc3BpLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9pZHIuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2lu
aXQuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2p1bXBfbGFiZWwuaD4KPiArI2luY2x1ZGUgPGxpbnV4
L2tlcm5lbC5oPgo+ICsjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cj4gKyNpbmNsdWRlIDxsaW51
eC9tdXRleC5oPgo+ICsjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+Cj4gKyNpbmNsdWRlIDxsaW51
eC9vZl9kZXZpY2UuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3NlcmRldi5oPgo+ICsjaW5jbHVkZSA8
bGludXgvb2YuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3Byb3BlcnR5Lmg+Cj4gKyNpbmNsdWRlIDxs
aW51eC9zbGFiLmg+Cj4gKwo+ICsjZGVmaW5lIE1JS1JPQlVTX1ZFUlNJT05fTUFKT1IgMHgwMAo+
ICsjZGVmaW5lIE1JS1JPQlVTX1ZFUlNJT05fTUlOT1IgMHgwMgo+ICsKPiArZXh0ZXJuIHN0cnVj
dCBidXNfdHlwZSBtaWtyb2J1c19idXNfdHlwZTsKPiArZXh0ZXJuIHN0cnVjdCBkZXZpY2VfdHlw
ZSBtaWtyb2J1c19wb3J0X3R5cGU7Cj4gKwo+ICtlbnVtIG1pa3JvYnVzX3Byb3BlcnR5X3R5cGUg
ewo+ICsJTUlLUk9CVVNfUFJPUEVSVFlfVFlQRV9MSU5LID0gMHgwMCwKPiArCU1JS1JPQlVTX1BS
T1BFUlRZX1RZUEVfR1BJTyA9IDB4MDEsCj4gKwlNSUtST0JVU19QUk9QRVJUWV9UWVBFX1U4ID0g
MHgwMiwKPiArCU1JS1JPQlVTX1BST1BFUlRZX1RZUEVfVTE2ID0gMHgwMywKPiArCU1JS1JPQlVT
X1BST1BFUlRZX1RZUEVfVTMyID0gMHgwNCwKPiArCU1JS1JPQlVTX1BST1BFUlRZX1RZUEVfVTY0
ID0gMHgwNSwKPiArfTsKPiArCj4gK2VudW0gbWlrcm9idXNfZ3Bpb19waW4gewo+ICsJTUlLUk9C
VVNfR1BJT19JTlZBTElEID0gMHgwMCwKPiArCU1JS1JPQlVTX0dQSU9fSU5UID0gMHgwMSwKPiAr
CU1JS1JPQlVTX0dQSU9fUlNUID0gMHgwMiwKPiArCU1JS1JPQlVTX0dQSU9fUFdNID0gMHgwMywK
PiArfTsKPiArCj4gK2VudW0gbWlrcm9idXNfcHJvdG9jb2wgewo+ICsJTUlLUk9CVVNfUFJPVE9D
T0xfU1BJID0gMHgwMSwKPiArCU1JS1JPQlVTX1BST1RPQ09MX0kyQyA9IDB4MDIsCj4gKwlNSUtS
T0JVU19QUk9UT0NPTF9VQVJUID0gMHgwMywKPiArCU1JS1JPQlVTX1BST1RPQ09MX1NQSV9HUElP
Q1MgPSAweDA0LAo+ICsJTUlLUk9CVVNfUFJPVE9DT0xfSTJDX01VWCA9IDB4MDUKPiArfTsKPiAr
Cj4gK2VudW0gbWlrcm9idXNfZ3Bpb19zdGF0ZSB7Cj4gKwlNSUtST0JVU19HUElPX1VOVVNFRCA9
IDB4MDAsCj4gKwlNSUtST0JVU19HUElPX0lOUFVUID0gMHgwMSwKPiArCU1JS1JPQlVTX0dQSU9f
T1VUUFVUX0hJR0ggPSAweDAyLAo+ICsJTUlLUk9CVVNfR1BJT19PVVRQVVRfTE9XID0gMHgwMywK
PiArfTsKPiArCj4gK3N0cnVjdCBtaWtyb2J1c19wb3J0X2NvbmZpZyB7Cj4gKwlfX3U4IGkyY19h
ZGFwX25yOwo+ICsJX191OCBzcGlfbWFzdGVyX25yOwo+ICsJX191OCBzZXJkZXZfY3Rscl9ucjsK
PiArCV9fdTggcnN0X2dwaW9fbnI7Cj4gKwlfX3U4IHB3bV9ncGlvX25yOwo+ICsJX191OCBpbnRf
Z3Bpb19ucjsKPiArfSBfX3BhY2tlZDsKPiArCj4gK3N0cnVjdCBib2FyZF9kZXZpY2VfaW5mbyB7
Cj4gKwlzdHJ1Y3QgbGlzdF9oZWFkIGxpbmtzOwo+ICsJaW50IGlkOwo+ICsJY2hhciAqZHJ2X25h
bWU7Cj4gKwl1bnNpZ25lZCBzaG9ydCBwcm90b2NvbDsKPiArCXVuc2lnbmVkIHNob3J0IHJlZzsK
PiArCXUzMiBtYXhfc3BlZWRfaHo7Cj4gKwl1bnNpZ25lZCBpbnQgbW9kZTsKPiArCWludCBpcnE7
Cj4gKwlpbnQgaXJxX3R5cGU7Cj4gKwlpbnQgY3NfZ3BpbzsKPiArCXVuc2lnbmVkIHNob3J0IG51
bV9ncGlvX3Jlc291cmNlczsKPiArCXVuc2lnbmVkIHNob3J0IG51bV9wcm9wZXJ0aWVzOwo+ICsJ
c3RydWN0IHByb3BlcnR5X2VudHJ5ICpwcm9wZXJ0aWVzOwo+ICsJc3RydWN0IGdwaW9kX2xvb2t1
cF90YWJsZSAqZ3Bpb19sb29rdXA7Cj4gKwl2b2lkICpkZXZfY2xpZW50Owo+ICt9Owo+ICsKPiAr
c3RydWN0IGFkZG9uX2JvYXJkX2luZm8gewo+ICsJY2hhciAqbmFtZTsKPiArCXVuc2lnbmVkIHNo
b3J0IG51bV9kZXZpY2VzOwo+ICsJdW5zaWduZWQgc2hvcnQgcnN0X2dwaW9fc3RhdGU7Cj4gKwl1
bnNpZ25lZCBzaG9ydCBwd21fZ3Bpb19zdGF0ZTsKPiArCXVuc2lnbmVkIHNob3J0IGludF9ncGlv
X3N0YXRlOwo+ICsJc3RydWN0IGxpc3RfaGVhZCBtYW5pZmVzdF9kZXNjczsKPiArCXN0cnVjdCBs
aXN0X2hlYWQgZGV2aWNlczsKPiArfTsKPiArCj4gK3N0cnVjdCBtaWtyb2J1c19wb3J0IHsKPiAr
CWNoYXIgbmFtZVs0OF07Cj4gKwlzdHJ1Y3QgbW9kdWxlICpvd25lcjsKPiArCXN0cnVjdCBkZXZp
Y2UgZGV2Owo+ICsJaW50IGlkOwo+ICsJc3RydWN0IGdwaW9fZGVzYyAqcHdtX2dwaW87Cj4gKwlz
dHJ1Y3QgZ3Bpb19kZXNjICppbnRfZ3BpbzsKPiArCXN0cnVjdCBncGlvX2Rlc2MgKnJzdF9ncGlv
Owo+ICsJc3RydWN0IHNwaV9tYXN0ZXIgKnNwaV9tc3RyOwo+ICsJc3RydWN0IGkyY19hZGFwdGVy
ICppMmNfYWRhcDsKPiArCXN0cnVjdCBhZGRvbl9ib2FyZF9pbmZvICpib2FyZDsKPiArCXN0cnVj
dCBpMmNfY2xpZW50ICplZXByb21fY2xpZW50Owo+ICsJc3RydWN0IG52bWVtX2RldmljZSAqZWVw
cm9tOwo+ICt9Owo+ICsjZGVmaW5lIHRvX21pa3JvYnVzX3BvcnQoZCkgY29udGFpbmVyX29mKGQs
IHN0cnVjdCBtaWtyb2J1c19wb3J0LCBkZXYpCj4gKwo+ICtpbnQgbWlrcm9idXNfcmVnaXN0ZXJf
Ym9hcmQoc3RydWN0IG1pa3JvYnVzX3BvcnQgKnBvcnQsCj4gKwkJCQkJCQlzdHJ1Y3QgYWRkb25f
Ym9hcmRfaW5mbyAqYm9hcmQpOwo+ICt2b2lkIG1pa3JvYnVzX3VucmVnaXN0ZXJfYm9hcmQoc3Ry
dWN0IG1pa3JvYnVzX3BvcnQgKnBvcnQsCj4gKwkJCQkJCQkgICBzdHJ1Y3QgYWRkb25fYm9hcmRf
aW5mbyAqYm9hcmQpOwo+ICtpbnQgbWlrcm9idXNfcmVnaXN0ZXJfcG9ydF9jb25maWcoc3RydWN0
IG1pa3JvYnVzX3BvcnRfY29uZmlnICpjZmcpOwo+ICtpbnQgbWlrcm9idXNfcmVnaXN0ZXJfcG9y
dChzdHJ1Y3QgbWlrcm9idXNfcG9ydCAqcG9ydCk7Cj4gK3ZvaWQgbWlrcm9idXNfZGVsX3BvcnQo
c3RydWN0IG1pa3JvYnVzX3BvcnQgKnBvcnQpOwo+ICsKPiArI2VuZGlmIC8qIF9fTUlLUk9CVVNf
SCAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL21pc2MvbWlrcm9idXMvbWlrcm9idXNfbWFuaWZl
c3QuYyBiL2RyaXZlcnMvbWlzYy9taWtyb2J1cy9taWtyb2J1c19tYW5pZmVzdC5jCj4gbmV3IGZp
bGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLjYwZWJjYTU2MGYwZAo+IC0tLSAv
ZGV2L251bGwKPiArKysgYi9kcml2ZXJzL21pc2MvbWlrcm9idXMvbWlrcm9idXNfbWFuaWZlc3Qu
Ywo+IEBAIC0wLDAgKzEsMzkwIEBACj4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwt
Mi4wCj4gKy8qCj4gKyAqIG1pa3JvQlVTIG1hbmlmZXN0IHBhcnNpbmcsIGFuCj4gKyAqIGV4dGVu
c2lvbiB0byBHcmV5YnVzIE1hbmlmZXN0IFBhcnNpbmcKPiArICogdW5kZXIgZHJpdmVycy9ncmV5
YnVzL21hbmlmZXN0LmMKPiArICoKPiArICogQ29weXJpZ2h0IDIwMTQtMjAxNSBHb29nbGUgSW5j
Lgo+ICsgKiBDb3B5cmlnaHQgMjAxNC0yMDE1IExpbmFybyBMdGQuCj4gKyAqLwo+ICsKPiArI2Rl
ZmluZSBwcl9mbXQoZm10KSAibWlrcm9idXNfbWFuaWZlc3Q6ICIgZm10Cj4gKwo+ICsjaW5jbHVk
ZSA8bGludXgvYml0cy5oPgo+ICsjaW5jbHVkZSA8bGludXgvdHlwZXMuaD4KPiArI2luY2x1ZGUg
PGxpbnV4L3Byb3BlcnR5Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9ncmV5YnVzL2dyZXlidXNfbWFu
aWZlc3QuaD4KPiArCj4gKyNpbmNsdWRlICJtaWtyb2J1c19tYW5pZmVzdC5oIgo+ICsKPiArc3Ry
dWN0IG1hbmlmZXN0X2Rlc2Mgewo+ICsJc3RydWN0IGxpc3RfaGVhZCBsaW5rczsKPiArCXNpemVf
dCBzaXplOwo+ICsJdm9pZCAqZGF0YTsKPiArCWVudW0gZ3JleWJ1c19kZXNjcmlwdG9yX3R5cGUg
dHlwZTsKPiArfTsKPiArCj4gK3N0YXRpYyB2b2lkIHJlbGVhc2VfbWFuaWZlc3RfZGVzY3JpcHRv
cihzdHJ1Y3QgbWFuaWZlc3RfZGVzYyAqZGVzY3JpcHRvcikKPiArewo+ICsJbGlzdF9kZWwoJmRl
c2NyaXB0b3ItPmxpbmtzKTsKPiArCWtmcmVlKGRlc2NyaXB0b3IpOwo+ICt9Cj4gKwo+ICtzdGF0
aWMgdm9pZCByZWxlYXNlX21hbmlmZXN0X2Rlc2NyaXB0b3JzKHN0cnVjdCBhZGRvbl9ib2FyZF9p
bmZvICppbmZvKQo+ICt7Cj4gKwlzdHJ1Y3QgbWFuaWZlc3RfZGVzYyAqZGVzY3JpcHRvcjsKPiAr
CXN0cnVjdCBtYW5pZmVzdF9kZXNjICpuZXh0Owo+ICsKPiArCWxpc3RfZm9yX2VhY2hfZW50cnlf
c2FmZShkZXNjcmlwdG9yLCBuZXh0LCAmaW5mby0+bWFuaWZlc3RfZGVzY3MsIGxpbmtzKQo+ICsJ
CXJlbGVhc2VfbWFuaWZlc3RfZGVzY3JpcHRvcihkZXNjcmlwdG9yKTsKPiArfQo+ICsKPiArc3Rh
dGljIGludCBpZGVudGlmeV9kZXNjcmlwdG9yKHN0cnVjdCBhZGRvbl9ib2FyZF9pbmZvICppbmZv
LCBzdHJ1Y3QgZ3JleWJ1c19kZXNjcmlwdG9yICpkZXNjLAo+ICsJCQkJCQkJCQkJIHNpemVfdCBz
aXplKQo+ICt7Cj4gKwlzdHJ1Y3QgZ3JleWJ1c19kZXNjcmlwdG9yX2hlYWRlciAqZGVzY19oZWFk
ZXIgPSAmZGVzYy0+aGVhZGVyOwo+ICsJc3RydWN0IG1hbmlmZXN0X2Rlc2MgKmRlc2NyaXB0b3I7
Cj4gKwlzaXplX3QgZGVzY19zaXplOwo+ICsJc2l6ZV90IGV4cGVjdGVkX3NpemU7Cj4gKwo+ICsJ
aWYgKHNpemUgPCBzaXplb2YoKmRlc2NfaGVhZGVyKSkKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiAr
CWRlc2Nfc2l6ZSA9IGxlMTZfdG9fY3B1KGRlc2NfaGVhZGVyLT5zaXplKTsKPiArCWlmIChkZXNj
X3NpemUgPiBzaXplKQo+ICsJCXJldHVybiAtRUlOVkFMOwo+ICsJZXhwZWN0ZWRfc2l6ZSA9IHNp
emVvZigqZGVzY19oZWFkZXIpOwo+ICsJc3dpdGNoIChkZXNjX2hlYWRlci0+dHlwZSkgewo+ICsJ
Y2FzZSBHUkVZQlVTX1RZUEVfU1RSSU5HOgo+ICsJZXhwZWN0ZWRfc2l6ZSArPSBzaXplb2Yoc3Ry
dWN0IGdyZXlidXNfZGVzY3JpcHRvcl9zdHJpbmcpOwo+ICsJZXhwZWN0ZWRfc2l6ZSArPSBkZXNj
LT5zdHJpbmcubGVuZ3RoOwo+ICsJZXhwZWN0ZWRfc2l6ZSA9IEFMSUdOKGV4cGVjdGVkX3NpemUs
IDQpOwo+ICsJYnJlYWs7Cj4gKwljYXNlIEdSRVlCVVNfVFlQRV9QUk9QRVJUWToKPiArCWV4cGVj
dGVkX3NpemUgKz0gc2l6ZW9mKHN0cnVjdCBncmV5YnVzX2Rlc2NyaXB0b3JfcHJvcGVydHkpOwo+
ICsJZXhwZWN0ZWRfc2l6ZSArPSBkZXNjLT5wcm9wZXJ0eS5sZW5ndGg7Cj4gKwlleHBlY3RlZF9z
aXplID0gQUxJR04oZXhwZWN0ZWRfc2l6ZSwgNCk7Cj4gKwlicmVhazsKPiArCWNhc2UgR1JFWUJV
U19UWVBFX0RFVklDRToKPiArCWV4cGVjdGVkX3NpemUgKz0gc2l6ZW9mKHN0cnVjdCBncmV5YnVz
X2Rlc2NyaXB0b3JfZGV2aWNlKTsKPiArCWJyZWFrOwo+ICsJY2FzZSBHUkVZQlVTX1RZUEVfTUlL
Uk9CVVM6Cj4gKwlleHBlY3RlZF9zaXplICs9IHNpemVvZihzdHJ1Y3QgZ3JleWJ1c19kZXNjcmlw
dG9yX21pa3JvYnVzKTsKPiArCWJyZWFrOwo+ICsJY2FzZSBHUkVZQlVTX1RZUEVfSU5URVJGQUNF
Ogo+ICsJZXhwZWN0ZWRfc2l6ZSArPSBzaXplb2Yoc3RydWN0IGdyZXlidXNfZGVzY3JpcHRvcl9p
bnRlcmZhY2UpOwo+ICsJYnJlYWs7Cj4gKwljYXNlIEdSRVlCVVNfVFlQRV9DUE9SVDoKPiArCWV4
cGVjdGVkX3NpemUgKz0gc2l6ZW9mKHN0cnVjdCBncmV5YnVzX2Rlc2NyaXB0b3JfY3BvcnQpOwo+
ICsJYnJlYWs7Cj4gKwljYXNlIEdSRVlCVVNfVFlQRV9CVU5ETEU6Cj4gKwlleHBlY3RlZF9zaXpl
ICs9IHNpemVvZihzdHJ1Y3QgZ3JleWJ1c19kZXNjcmlwdG9yX2J1bmRsZSk7Cj4gKwlicmVhazsK
PiArCWNhc2UgR1JFWUJVU19UWVBFX0lOVkFMSUQ6Cj4gKwlkZWZhdWx0Ogo+ICsJcmV0dXJuIC1F
SU5WQUw7Cj4gKwl9Cj4gKwo+ICsJZGVzY3JpcHRvciA9IGt6YWxsb2Moc2l6ZW9mKCpkZXNjcmlw
dG9yKSwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAoIWRlc2NyaXB0b3IpCj4gKwkJcmV0dXJuIC1FTk9N
RU07Cj4gKwlkZXNjcmlwdG9yLT5zaXplID0gZGVzY19zaXplOwo+ICsJZGVzY3JpcHRvci0+ZGF0
YSA9IChjaGFyICopZGVzYyArIHNpemVvZigqZGVzY19oZWFkZXIpOwo+ICsJZGVzY3JpcHRvci0+
dHlwZSA9IGRlc2NfaGVhZGVyLT50eXBlOwo+ICsJbGlzdF9hZGRfdGFpbCgmZGVzY3JpcHRvci0+
bGlua3MsICZpbmZvLT5tYW5pZmVzdF9kZXNjcyk7Cj4gKwlyZXR1cm4gZGVzY19zaXplOwo+ICt9
Cj4gKwo+ICtzdGF0aWMgY2hhciAqbWlrcm9idXNfc3RyaW5nX2dldChzdHJ1Y3QgYWRkb25fYm9h
cmRfaW5mbyAqaW5mbywgdTggc3RyaW5nX2lkKQo+ICt7Cj4gKwlzdHJ1Y3QgZ3JleWJ1c19kZXNj
cmlwdG9yX3N0cmluZyAqZGVzY19zdHJpbmc7Cj4gKwlzdHJ1Y3QgbWFuaWZlc3RfZGVzYyAqZGVz
Y3JpcHRvcjsKPiArCWJvb2wgZm91bmQgPSBmYWxzZTsKPiArCWNoYXIgKnN0cmluZzsKPiArCj4g
KwlpZiAoIXN0cmluZ19pZCkKPiArCQlyZXR1cm4gTlVMTDsKPiArCj4gKwlsaXN0X2Zvcl9lYWNo
X2VudHJ5KGRlc2NyaXB0b3IsICZpbmZvLT5tYW5pZmVzdF9kZXNjcywgbGlua3MpIHsKPiArCQlp
ZiAoZGVzY3JpcHRvci0+dHlwZSAhPSBHUkVZQlVTX1RZUEVfU1RSSU5HKQo+ICsJCQljb250aW51
ZTsKPiArCQlkZXNjX3N0cmluZyA9IGRlc2NyaXB0b3ItPmRhdGE7Cj4gKwkJaWYgKGRlc2Nfc3Ry
aW5nLT5pZCA9PSBzdHJpbmdfaWQpIHsKPiArCQkJZm91bmQgPSB0cnVlOwo+ICsJCQlicmVhazsK
PiArCQl9Cj4gKwl9Cj4gKwlpZiAoIWZvdW5kKQo+ICsJCXJldHVybiBFUlJfUFRSKC1FTk9FTlQp
Owo+ICsJc3RyaW5nID0ga21lbWR1cCgmZGVzY19zdHJpbmctPnN0cmluZywgZGVzY19zdHJpbmct
Pmxlbmd0aCArIDEsIEdGUF9LRVJORUwpOwo+ICsJaWYgKCFzdHJpbmcpCj4gKwkJcmV0dXJuIEVS
Ul9QVFIoLUVOT01FTSk7Cj4gKwlzdHJpbmdbZGVzY19zdHJpbmctPmxlbmd0aF0gPSAnXDAnOwo+
ICsJcmV0dXJuIHN0cmluZzsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgbWlrcm9idXNfc3RhdGVf
Z2V0KHN0cnVjdCBhZGRvbl9ib2FyZF9pbmZvICppbmZvKQo+ICt7Cj4gKwlzdHJ1Y3QgZ3JleWJ1
c19kZXNjcmlwdG9yX21pa3JvYnVzICptaWtyb2J1czsKPiArCXN0cnVjdCBncmV5YnVzX2Rlc2Ny
aXB0b3JfaW50ZXJmYWNlICppbnRlcmZhY2U7Cj4gKwlzdHJ1Y3QgbWFuaWZlc3RfZGVzYyAqZGVz
Y3JpcHRvcjsKPiArCWJvb2wgZm91bmQgPSBmYWxzZTsKPiArCj4gKwlsaXN0X2Zvcl9lYWNoX2Vu
dHJ5KGRlc2NyaXB0b3IsICZpbmZvLT5tYW5pZmVzdF9kZXNjcywgbGlua3MpIHsKPiArCQlpZiAo
ZGVzY3JpcHRvci0+dHlwZSA9PSBHUkVZQlVTX1RZUEVfTUlLUk9CVVMpIHsKPiArCQkJbWlrcm9i
dXMgPSBkZXNjcmlwdG9yLT5kYXRhOwo+ICsJCQlmb3VuZCA9IHRydWU7Cj4gKwkJCWJyZWFrOwo+
ICsJCX0KPiArCX0KPiArCj4gKwlpZiAoZm91bmQpIHsKPiArCQlpbmZvLT5udW1fZGV2aWNlcyA9
IG1pa3JvYnVzLT5udW1fZGV2aWNlczsKPiArCQlpbmZvLT5yc3RfZ3Bpb19zdGF0ZSA9IG1pa3Jv
YnVzLT5yc3RfZ3Bpb19zdGF0ZTsKPiArCQlpbmZvLT5wd21fZ3Bpb19zdGF0ZSA9IG1pa3JvYnVz
LT5wd21fZ3Bpb19zdGF0ZTsKPiArCQlpbmZvLT5pbnRfZ3Bpb19zdGF0ZSA9IG1pa3JvYnVzLT5p
bnRfZ3Bpb19zdGF0ZTsKPiArCX0gZWxzZSB7Cj4gKwkJaW5mby0+bnVtX2RldmljZXMgPSAxOwo+
ICsJCWluZm8tPnJzdF9ncGlvX3N0YXRlID0gTUlLUk9CVVNfR1BJT19VTlVTRUQ7Cj4gKwkJaW5m
by0+cHdtX2dwaW9fc3RhdGUgPSBNSUtST0JVU19HUElPX1VOVVNFRDsKPiArCQlpbmZvLT5pbnRf
Z3Bpb19zdGF0ZSA9IE1JS1JPQlVTX0dQSU9fVU5VU0VEOwo+ICsJfQo+ICsKPiArCWxpc3RfZm9y
X2VhY2hfZW50cnkoZGVzY3JpcHRvciwgJmluZm8tPm1hbmlmZXN0X2Rlc2NzLCBsaW5rcykgewo+
ICsJCWlmIChkZXNjcmlwdG9yLT50eXBlID09IEdSRVlCVVNfVFlQRV9JTlRFUkZBQ0UpIHsKPiAr
CQkJaW50ZXJmYWNlID0gZGVzY3JpcHRvci0+ZGF0YTsKPiArCQkJYnJlYWs7Cj4gKwkJfQo+ICsJ
fQo+ICsJaW5mby0+bmFtZSA9IG1pa3JvYnVzX3N0cmluZ19nZXQoaW5mbywgaW50ZXJmYWNlLT5w
cm9kdWN0X3N0cmluZ2lkKTsKPiArfQo+ICsKPiArc3RhdGljIHN0cnVjdCBwcm9wZXJ0eV9lbnRy
eSAqCj4gK21pa3JvYnVzX3Byb3BlcnR5X2VudHJ5X2dldChzdHJ1Y3QgYWRkb25fYm9hcmRfaW5m
byAqaW5mbywgdTggKnByb3BfbGluaywKPiArCQkJCQkJCWludCBudW1fcHJvcGVydGllcykKPiAr
ewo+ICsJc3RydWN0IGdyZXlidXNfZGVzY3JpcHRvcl9wcm9wZXJ0eSAqZGVzY19wcm9wZXJ0eTsK
PiArCXN0cnVjdCBtYW5pZmVzdF9kZXNjICpkZXNjcmlwdG9yOwo+ICsJc3RydWN0IHByb3BlcnR5
X2VudHJ5ICpwcm9wZXJ0aWVzOwo+ICsJaW50IGk7Cj4gKwljaGFyICpwcm9wX25hbWU7Cj4gKwli
b29sIGZvdW5kID0gZmFsc2U7Cj4gKwl1OCAqdmFsX3U4Owo+ICsJdTE2ICp2YWxfdTE2Owo+ICsJ
dTMyICp2YWxfdTMyOwo+ICsJdTY0ICp2YWxfdTY0Owo+ICsKPiArCXByb3BlcnRpZXMgPSBrY2Fs
bG9jKG51bV9wcm9wZXJ0aWVzLCBzaXplb2YoKnByb3BlcnRpZXMpLCBHRlBfS0VSTkVMKTsKPiAr
CWlmICghcHJvcGVydGllcykKPiArCQlyZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKPiArCWZvciAo
aSA9IDA7IGkgPCBudW1fcHJvcGVydGllczsgaSsrKSB7Cj4gKwkJbGlzdF9mb3JfZWFjaF9lbnRy
eShkZXNjcmlwdG9yLCAmaW5mby0+bWFuaWZlc3RfZGVzY3MsIGxpbmtzKSB7Cj4gKwkJCWlmIChk
ZXNjcmlwdG9yLT50eXBlICE9IEdSRVlCVVNfVFlQRV9QUk9QRVJUWSkKPiArCQkJCWNvbnRpbnVl
Owo+ICsJCQlkZXNjX3Byb3BlcnR5ID0gZGVzY3JpcHRvci0+ZGF0YTsKPiArCQkJaWYgKGRlc2Nf
cHJvcGVydHktPmlkID09IHByb3BfbGlua1tpXSkgewo+ICsJCQkJZm91bmQgPSB0cnVlOwo+ICsJ
CQkJYnJlYWs7Cj4gKwkJCX0KPiArCQl9Cj4gKwkJaWYgKCFmb3VuZCkKPiArCQkJcmV0dXJuIEVS
Ul9QVFIoLUVOT0VOVCk7Cj4gKwkJcHJvcF9uYW1lID0gbWlrcm9idXNfc3RyaW5nX2dldChpbmZv
LCBkZXNjX3Byb3BlcnR5LT5wcm9wbmFtZV9zdHJpbmdpZCk7Cj4gKwkJc3dpdGNoIChkZXNjX3By
b3BlcnR5LT50eXBlKSB7Cj4gKwkJY2FzZSBNSUtST0JVU19QUk9QRVJUWV9UWVBFX1U4Ogo+ICsJ
CXZhbF91OCA9IGttZW1kdXAoJmRlc2NfcHJvcGVydHktPnZhbHVlLAo+ICsJCQkJKGRlc2NfcHJv
cGVydHktPmxlbmd0aCkgKiBzaXplb2YodTgpLCBHRlBfS0VSTkVMKTsKPiArCQlpZiAoZGVzY19w
cm9wZXJ0eS0+bGVuZ3RoID09IDEpCj4gKwkJCXByb3BlcnRpZXNbaV0gPSBQUk9QRVJUWV9FTlRS
WV9VOChwcm9wX25hbWUsICp2YWxfdTgpOwo+ICsJCWVsc2UKPiArCQkJcHJvcGVydGllc1tpXSA9
IFBST1BFUlRZX0VOVFJZX1U4X0FSUkFZX0xFTigKPiArCQkJCXByb3BfbmFtZSwgKHZvaWQgKilk
ZXNjX3Byb3BlcnR5LT52YWx1ZSwgZGVzY19wcm9wZXJ0eS0+bGVuZ3RoKTsKPiArCQlicmVhazsK
PiArCQljYXNlIE1JS1JPQlVTX1BST1BFUlRZX1RZUEVfVTE2Ogo+ICsJCXZhbF91MTYgPSBrbWVt
ZHVwKCZkZXNjX3Byb3BlcnR5LT52YWx1ZSwKPiArCQkJCQkoZGVzY19wcm9wZXJ0eS0+bGVuZ3Ro
KSAqIHNpemVvZih1MTYpLCBHRlBfS0VSTkVMKTsKPiArCQlpZiAoZGVzY19wcm9wZXJ0eS0+bGVu
Z3RoID09IDEpCj4gKwkJCXByb3BlcnRpZXNbaV0gPSBQUk9QRVJUWV9FTlRSWV9VMTYocHJvcF9u
YW1lLCAqdmFsX3UxNik7Cj4gKwkJZWxzZQo+ICsJCQlwcm9wZXJ0aWVzW2ldID0gUFJPUEVSVFlf
RU5UUllfVTE2X0FSUkFZX0xFTigKPiArCQkJCXByb3BfbmFtZSwgKHZvaWQgKilkZXNjX3Byb3Bl
cnR5LT52YWx1ZSwgZGVzY19wcm9wZXJ0eS0+bGVuZ3RoKTsKPiArCQlicmVhazsKPiArCQljYXNl
IE1JS1JPQlVTX1BST1BFUlRZX1RZUEVfVTMyOgo+ICsJCXZhbF91MzIgPSBrbWVtZHVwKCZkZXNj
X3Byb3BlcnR5LT52YWx1ZSwKPiArCQkJCQkoZGVzY19wcm9wZXJ0eS0+bGVuZ3RoKSAqIHNpemVv
Zih1MzIpLCBHRlBfS0VSTkVMKTsKPiArCQlpZiAoZGVzY19wcm9wZXJ0eS0+bGVuZ3RoID09IDEp
Cj4gKwkJCXByb3BlcnRpZXNbaV0gPSBQUk9QRVJUWV9FTlRSWV9VMzIocHJvcF9uYW1lLCAqdmFs
X3UzMik7Cj4gKwkJZWxzZQo+ICsJCQlwcm9wZXJ0aWVzW2ldID0gUFJPUEVSVFlfRU5UUllfVTMy
X0FSUkFZX0xFTigKPiArCQkJcHJvcF9uYW1lLCAodm9pZCAqKWRlc2NfcHJvcGVydHktPnZhbHVl
LCBkZXNjX3Byb3BlcnR5LT5sZW5ndGgpOwo+ICsJCWJyZWFrOwo+ICsJCWNhc2UgTUlLUk9CVVNf
UFJPUEVSVFlfVFlQRV9VNjQ6Cj4gKwkJdmFsX3U2NCA9IGttZW1kdXAoJmRlc2NfcHJvcGVydHkt
PnZhbHVlLAo+ICsJCQkJCQkoZGVzY19wcm9wZXJ0eS0+bGVuZ3RoKSAqIHNpemVvZih1NjQpLCBH
RlBfS0VSTkVMKTsKPiArCQlpZiAoZGVzY19wcm9wZXJ0eS0+bGVuZ3RoID09IDEpCj4gKwkJCXBy
b3BlcnRpZXNbaV0gPSBQUk9QRVJUWV9FTlRSWV9VNjQocHJvcF9uYW1lLCAqdmFsX3U2NCk7Cj4g
KwkJZWxzZQo+ICsJCQlwcm9wZXJ0aWVzW2ldID0gUFJPUEVSVFlfRU5UUllfVTY0X0FSUkFZX0xF
TigKPiArCQkJCXByb3BfbmFtZSwgKHZvaWQgKilkZXNjX3Byb3BlcnR5LT52YWx1ZSwgZGVzY19w
cm9wZXJ0eS0+bGVuZ3RoKTsKPiArCQlicmVhazsKPiArCQlkZWZhdWx0Ogo+ICsJCXJldHVybiBF
UlJfUFRSKC1FSU5WQUwpOwo+ICsJCX0KPiArCX0KPiArCXJldHVybiBwcm9wZXJ0aWVzOwo+ICt9
Cj4gKwo+ICtzdGF0aWMgdTggKm1pa3JvYnVzX3Byb3BlcnR5X2xpbmtfZ2V0KHN0cnVjdCBhZGRv
bl9ib2FyZF9pbmZvICppbmZvLCB1OCBwcm9wX2lkLAo+ICsJCQkJCQkJCQkgIHU4IHByb3BfdHlw
ZSkKPiArewo+ICsJc3RydWN0IGdyZXlidXNfZGVzY3JpcHRvcl9wcm9wZXJ0eSAqZGVzY19wcm9w
ZXJ0eTsKPiArCXN0cnVjdCBtYW5pZmVzdF9kZXNjICpkZXNjcmlwdG9yOwo+ICsJYm9vbCBmb3Vu
ZCA9IGZhbHNlOwo+ICsJdTggKnZhbF91ODsKPiArCj4gKwlpZiAoIXByb3BfaWQpCj4gKwkJcmV0
dXJuIE5VTEw7Cj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5KGRlc2NyaXB0b3IsICZpbmZvLT5tYW5p
ZmVzdF9kZXNjcywgbGlua3MpIHsKPiArCQlpZiAoZGVzY3JpcHRvci0+dHlwZSAhPSBHUkVZQlVT
X1RZUEVfUFJPUEVSVFkpCj4gKwkJCWNvbnRpbnVlOwo+ICsJCWRlc2NfcHJvcGVydHkgPSBkZXNj
cmlwdG9yLT5kYXRhOwo+ICsJCWlmIChkZXNjX3Byb3BlcnR5LT5pZCA9PSBwcm9wX2lkICYmIGRl
c2NfcHJvcGVydHktPnR5cGUgPT0gcHJvcF90eXBlKSB7Cj4gKwkJCWZvdW5kID0gdHJ1ZTsKPiAr
CQkJYnJlYWs7Cj4gKwkJfQo+ICsJfQo+ICsJaWYgKCFmb3VuZCkKPiArCQlyZXR1cm4gRVJSX1BU
UigtRU5PRU5UKTsKPiArCXZhbF91OCA9IGttZW1kdXAoJmRlc2NfcHJvcGVydHktPnZhbHVlLCBk
ZXNjX3Byb3BlcnR5LT5sZW5ndGgsIEdGUF9LRVJORUwpOwo+ICsJcmV0dXJuIHZhbF91ODsKPiAr
fQo+ICsKPiArc3RhdGljIGludCBtaWtyb2J1c19tYW5pZmVzdF9hdHRhY2hfZGV2aWNlKHN0cnVj
dCBhZGRvbl9ib2FyZF9pbmZvICppbmZvLAo+ICsJCQkJCQlzdHJ1Y3QgZ3JleWJ1c19kZXNjcmlw
dG9yX2RldmljZSAqZGV2X2Rlc2MpCj4gK3sKPiArCXN0cnVjdCBib2FyZF9kZXZpY2VfaW5mbyAq
ZGV2Owo+ICsJc3RydWN0IGdwaW9kX2xvb2t1cF90YWJsZSAqbG9va3VwOwo+ICsJc3RydWN0IGdy
ZXlidXNfZGVzY3JpcHRvcl9wcm9wZXJ0eSAqZGVzY19wcm9wZXJ0eTsKPiArCXN0cnVjdCBtYW5p
ZmVzdF9kZXNjICpkZXNjcmlwdG9yOwo+ICsJaW50IGk7Cj4gKwl1OCAqcHJvcF9saW5rOwo+ICsJ
dTggKmdwaW9fZGVzY19saW5rOwo+ICsKPiArCWRldiA9IGt6YWxsb2Moc2l6ZW9mKCpkZXYpLCBH
RlBfS0VSTkVMKTsKPiArCWlmICghZGV2KQo+ICsJCXJldHVybiAtRU5PTUVNOwo+ICsJZGV2LT5p
ZCA9IGRldl9kZXNjLT5pZDsKPiArCWRldi0+ZHJ2X25hbWUgPSBtaWtyb2J1c19zdHJpbmdfZ2V0
KGluZm8sIGRldl9kZXNjLT5kcml2ZXJfc3RyaW5naWQpOwo+ICsJZGV2LT5wcm90b2NvbCA9IGRl
dl9kZXNjLT5wcm90b2NvbDsKPiArCWRldi0+cmVnID0gZGV2X2Rlc2MtPnJlZzsKPiArCWRldi0+
aXJxID0gZGV2X2Rlc2MtPmlycTsKPiArCWRldi0+aXJxX3R5cGUgPSBkZXZfZGVzYy0+aXJxX3R5
cGU7Cj4gKwlkZXYtPm1heF9zcGVlZF9oeiA9IGxlMzJfdG9fY3B1KGRldl9kZXNjLT5tYXhfc3Bl
ZWRfaHopOwo+ICsJZGV2LT5tb2RlID0gZGV2X2Rlc2MtPm1vZGU7Cj4gKwlkZXYtPmNzX2dwaW8g
PSBkZXZfZGVzYy0+Y3NfZ3BpbzsKPiArCWRldi0+bnVtX2dwaW9fcmVzb3VyY2VzID0gZGV2X2Rl
c2MtPm51bV9ncGlvX3Jlc291cmNlczsKPiArCWRldi0+bnVtX3Byb3BlcnRpZXMgPSBkZXZfZGVz
Yy0+bnVtX3Byb3BlcnRpZXM7Cj4gKwlwcl9pbmZvKCJkZXZpY2UgJWQgLCBudW1iZXIgb2YgcHJv
cGVydGllcz0lZCAsIG51bWJlciBvZiBncGlvIHJlc291cmNlcz0lZFxuIiwKPiArCWRldi0+aWQs
IGRldi0+bnVtX3Byb3BlcnRpZXMsIGRldi0+bnVtX2dwaW9fcmVzb3VyY2VzKTsKPiArCWlmIChk
ZXYtPm51bV9wcm9wZXJ0aWVzID4gMCkgewo+ICsJCXByb3BfbGluayA9IG1pa3JvYnVzX3Byb3Bl
cnR5X2xpbmtfZ2V0KGluZm8sIGRldl9kZXNjLT5wcm9wX2xpbmssCj4gKwkJCQkJCQkJTUlLUk9C
VVNfUFJPUEVSVFlfVFlQRV9MSU5LKTsKPiArCQlkZXYtPnByb3BlcnRpZXMgPSBtaWtyb2J1c19w
cm9wZXJ0eV9lbnRyeV9nZXQoaW5mbywgcHJvcF9saW5rLCBkZXYtPm51bV9wcm9wZXJ0aWVzKTsK
PiArCX0KPiArCWlmIChkZXYtPm51bV9ncGlvX3Jlc291cmNlcyA+IDApIHsKPiArCQlsb29rdXAg
PSBremFsbG9jKHN0cnVjdF9zaXplKGxvb2t1cCwgdGFibGUsIGRldi0+bnVtX2dwaW9fcmVzb3Vy
Y2VzKSwKPiArCQkJCQlHRlBfS0VSTkVMKTsKPiArCWlmICghbG9va3VwKQo+ICsJCXJldHVybiAt
RU5PTUVNOwo+ICsJZ3Bpb19kZXNjX2xpbmsgPSBtaWtyb2J1c19wcm9wZXJ0eV9saW5rX2dldChp
bmZvLCBkZXZfZGVzYy0+Z3Bpb19saW5rLAo+ICsJCQkJCQlNSUtST0JVU19QUk9QRVJUWV9UWVBF
X0dQSU8pOwo+ICsJZm9yIChpID0gMDsgaSA8IGRldi0+bnVtX2dwaW9fcmVzb3VyY2VzOyBpKysp
IHsKPiArCQlsaXN0X2Zvcl9lYWNoX2VudHJ5KGRlc2NyaXB0b3IsICZpbmZvLT5tYW5pZmVzdF9k
ZXNjcywgbGlua3MpIHsKPiArCQkJaWYgKGRlc2NyaXB0b3ItPnR5cGUgIT0gR1JFWUJVU19UWVBF
X1BST1BFUlRZKQo+ICsJCQkJY29udGludWU7Cj4gKwkJCWRlc2NfcHJvcGVydHkgPSBkZXNjcmlw
dG9yLT5kYXRhOwo+ICsJCQlpZiAoZGVzY19wcm9wZXJ0eS0+aWQgPT0gZ3Bpb19kZXNjX2xpbmtb
aV0pIHsKPiArCQkJCWxvb2t1cC0+dGFibGVbaV0uY2hpcF9od251bSA9ICpkZXNjX3Byb3BlcnR5
LT52YWx1ZTsKPiArCQkJCWxvb2t1cC0+dGFibGVbaV0uY29uX2lkID0KPiArCQkJCW1pa3JvYnVz
X3N0cmluZ19nZXQoaW5mbywgZGVzY19wcm9wZXJ0eS0+cHJvcG5hbWVfc3RyaW5naWQpOwo+ICsJ
CQkJYnJlYWs7Cj4gKwkJCQl9Cj4gKwkJfQo+ICsJfQo+ICsJZGV2LT5ncGlvX2xvb2t1cCA9IGxv
b2t1cDsKPiArCX0KPiArCWxpc3RfYWRkX3RhaWwoJmRldi0+bGlua3MsICZpbmZvLT5kZXZpY2Vz
KTsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IG1pa3JvYnVzX21hbmlmZXN0
X3BhcnNlX2RldmljZXMoc3RydWN0IGFkZG9uX2JvYXJkX2luZm8gKmluZm8pCj4gK3sKPiArCXN0
cnVjdCBncmV5YnVzX2Rlc2NyaXB0b3JfZGV2aWNlICpkZXNjX2RldmljZTsKPiArCXN0cnVjdCBt
YW5pZmVzdF9kZXNjICpkZXNjLCAqbmV4dDsKPiArCWludCBkZXZjb3VudCA9IDA7Cj4gKwo+ICsJ
aWYgKFdBUk5fT04oIWxpc3RfZW1wdHkoJmluZm8tPmRldmljZXMpKSkKPiArCQlyZXR1cm4gZmFs
c2U7Cj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUoZGVzYywgbmV4dCwgJmluZm8tPm1hbmlm
ZXN0X2Rlc2NzLCBsaW5rcykgewo+ICsJCWlmIChkZXNjLT50eXBlICE9IEdSRVlCVVNfVFlQRV9E
RVZJQ0UpCj4gKwkJCWNvbnRpbnVlOwo+ICsJCWRlc2NfZGV2aWNlID0gZGVzYy0+ZGF0YTsKPiAr
CQltaWtyb2J1c19tYW5pZmVzdF9hdHRhY2hfZGV2aWNlKGluZm8sIGRlc2NfZGV2aWNlKTsKPiAr
CQlkZXZjb3VudCsrOwo+ICsJfQo+ICsJcmV0dXJuIGRldmNvdW50Owo+ICt9Cj4gKwo+ICtib29s
IG1pa3JvYnVzX21hbmlmZXN0X3BhcnNlKHN0cnVjdCBhZGRvbl9ib2FyZF9pbmZvICppbmZvLCB2
b2lkICpkYXRhLAo+ICsJCQkJCQkJIHNpemVfdCBzaXplKQo+ICt7Cj4gKwlzdHJ1Y3QgZ3JleWJ1
c19tYW5pZmVzdCAqbWFuaWZlc3Q7Cj4gKwlzdHJ1Y3QgZ3JleWJ1c19tYW5pZmVzdF9oZWFkZXIg
KmhlYWRlcjsKPiArCXN0cnVjdCBncmV5YnVzX2Rlc2NyaXB0b3IgKmRlc2M7Cj4gKwl1MTYgbWFu
aWZlc3Rfc2l6ZTsKPiArCWludCBkZXZfY291bnQ7Cj4gKwlpbnQgZGVzY19zaXplOwo+ICsKPiAr
CWlmIChXQVJOX09OKCFsaXN0X2VtcHR5KCZpbmZvLT5tYW5pZmVzdF9kZXNjcykpKQo+ICsJCXJl
dHVybiBmYWxzZTsKPiArCWlmIChzaXplIDwgc2l6ZW9mKCpoZWFkZXIpKQo+ICsJCXJldHVybiBm
YWxzZTsKPiArCW1hbmlmZXN0ID0gZGF0YTsKPiArCWhlYWRlciA9ICZtYW5pZmVzdC0+aGVhZGVy
Owo+ICsJbWFuaWZlc3Rfc2l6ZSA9IGxlMTZfdG9fY3B1KGhlYWRlci0+c2l6ZSk7Cj4gKwlpZiAo
bWFuaWZlc3Rfc2l6ZSAhPSBzaXplKQo+ICsJCXJldHVybiBmYWxzZTsKPiArCWlmIChoZWFkZXIt
PnZlcnNpb25fbWFqb3IgPiBNSUtST0JVU19WRVJTSU9OX01BSk9SKQo+ICsJCXJldHVybiBmYWxz
ZTsKPiArCWRlc2MgPSBtYW5pZmVzdC0+ZGVzY3JpcHRvcnM7Cj4gKwlzaXplIC09IHNpemVvZigq
aGVhZGVyKTsKPiArCXdoaWxlIChzaXplKSB7Cj4gKwkJZGVzY19zaXplID0gaWRlbnRpZnlfZGVz
Y3JpcHRvcihpbmZvLCBkZXNjLCBzaXplKTsKPiArCQlpZiAoZGVzY19zaXplIDwgMCkgewo+ICsJ
CQlwcl9lcnIoImludmFsaWQgbWFuaWZlc3QgZGVzY3JpcHRvciIpOwo+ICsJCXJldHVybiAtRUlO
VkFMOwo+ICsJCX0KPiArCQlkZXNjID0gKHN0cnVjdCBncmV5YnVzX2Rlc2NyaXB0b3IgKikoKGNo
YXIgKilkZXNjICsgZGVzY19zaXplKTsKPiArCQlzaXplIC09IGRlc2Nfc2l6ZTsKPiArCX0KPiAr
CW1pa3JvYnVzX3N0YXRlX2dldChpbmZvKTsKPiArCWRldl9jb3VudCA9IG1pa3JvYnVzX21hbmlm
ZXN0X3BhcnNlX2RldmljZXMoaW5mbyk7Cj4gKwlwcl9pbmZvKCIgJXMgbWFuaWZlc3QgcGFyc2Vk
IHdpdGggJWQgZGV2aWNlKHMpXG4iLCBpbmZvLT5uYW1lLAo+ICsJCWluZm8tPm51bV9kZXZpY2Vz
KTsKPiArCXJlbGVhc2VfbWFuaWZlc3RfZGVzY3JpcHRvcnMoaW5mbyk7Cj4gKwlyZXR1cm4gdHJ1
ZTsKPiArfQo+ICsKPiArc2l6ZV90IG1pa3JvYnVzX21hbmlmZXN0X2hlYWRlcl92YWxpZGF0ZSh2
b2lkICpkYXRhLCBzaXplX3Qgc2l6ZSkKPiArewo+ICsJc3RydWN0IGdyZXlidXNfbWFuaWZlc3Rf
aGVhZGVyICpoZWFkZXI7Cj4gKwl1MTYgbWFuaWZlc3Rfc2l6ZTsKPiArCj4gKwlpZiAoc2l6ZSA8
IHNpemVvZigqaGVhZGVyKSkKPiArCQlyZXR1cm4gMDsKPiArCj4gKwloZWFkZXIgPSBkYXRhOwo+
ICsJbWFuaWZlc3Rfc2l6ZSA9IGxlMTZfdG9fY3B1KGhlYWRlci0+c2l6ZSk7Cj4gKwlpZiAoaGVh
ZGVyLT52ZXJzaW9uX21ham9yID4gTUlLUk9CVVNfVkVSU0lPTl9NQUpPUikKPiArCQlyZXR1cm4g
MDsKPiArCXJldHVybiBtYW5pZmVzdF9zaXplOwo+ICt9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
bWlzYy9taWtyb2J1cy9taWtyb2J1c19tYW5pZmVzdC5oIGIvZHJpdmVycy9taXNjL21pa3JvYnVz
L21pa3JvYnVzX21hbmlmZXN0LmgKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAw
MDAwMDAwMC4uYTE5NWQxYzI2NDkzCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvbWlz
Yy9taWtyb2J1cy9taWtyb2J1c19tYW5pZmVzdC5oCj4gQEAgLTAsMCArMSwyMSBAQAo+ICsvKiBT
UERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCAqLwo+ICsvKgo+ICsgKiBtaWtyb0JVUyBt
YW5pZmVzdCBkZWZpbml0aW9uCj4gKyAqIGV4dGVuc2lvbiB0byBHcmV5YnVzIE1hbmlmZXN0IERl
ZmluaXRpb24KPiArICoKPiArICogQ29weXJpZ2h0IDIwMTQtMjAxNSBHb29nbGUgSW5jLgo+ICsg
KiBDb3B5cmlnaHQgMjAxNC0yMDE1IExpbmFybyBMdGQuCj4gKyAqCj4gKyAqIFJlbGVhc2VkIHVu
ZGVyIHRoZSBHUEx2MiBhbmQgQlNEIGxpY2Vuc2VzLgo+ICsgKi8KPiArCj4gKyNpZm5kZWYgX19N
SUtST0JVU19NQU5JRkVTVF9ICj4gKyNkZWZpbmUgX19NSUtST0JVU19NQU5JRkVTVF9ICj4gKwo+
ICsjaW5jbHVkZSAibWlrcm9idXNfY29yZS5oIgo+ICsKPiArYm9vbCBtaWtyb2J1c19tYW5pZmVz
dF9wYXJzZShzdHJ1Y3QgYWRkb25fYm9hcmRfaW5mbyAqaW5mbywgdm9pZCAqZGF0YSwKPiArCQkJ
CQkJCSBzaXplX3Qgc2l6ZSk7Cj4gK3NpemVfdCBtaWtyb2J1c19tYW5pZmVzdF9oZWFkZXJfdmFs
aWRhdGUodm9pZCAqZGF0YSwgc2l6ZV90IHNpemUpOwo+ICsKPiArI2VuZGlmIC8qIF9fTUlLUk9C
VVNfTUFOSUZFU1RfSCAqLwo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2dyZXlidXMvZ3Jl
eWJ1c19tYW5pZmVzdC5oIGIvaW5jbHVkZS9saW51eC9ncmV5YnVzL2dyZXlidXNfbWFuaWZlc3Qu
aAo+IGluZGV4IDZlNjJmZTQ3ODcxMi4uNzljOGNhYjllZjk2IDEwMDY0NAo+IC0tLSBhL2luY2x1
ZGUvbGludXgvZ3JleWJ1cy9ncmV5YnVzX21hbmlmZXN0LmgKPiArKysgYi9pbmNsdWRlL2xpbnV4
L2dyZXlidXMvZ3JleWJ1c19tYW5pZmVzdC5oCj4gQEAgLTIzLDYgKzIzLDkgQEAgZW51bSBncmV5
YnVzX2Rlc2NyaXB0b3JfdHlwZSB7Cj4gIAlHUkVZQlVTX1RZUEVfU1RSSU5HCQk9IDB4MDIsCj4g
IAlHUkVZQlVTX1RZUEVfQlVORExFCQk9IDB4MDMsCj4gIAlHUkVZQlVTX1RZUEVfQ1BPUlQJCT0g
MHgwNCwKPiArCUdSRVlCVVNfVFlQRV9NSUtST0JVUwk9IDB4MDUsCj4gKwlHUkVZQlVTX1RZUEVf
UFJPUEVSVFkJPSAweDA2LAo+ICsJR1JFWUJVU19UWVBFX0RFVklDRQk9IDB4MDcsCj4gIH07Cj4g
IAo+ICBlbnVtIGdyZXlidXNfcHJvdG9jb2wgewo+IEBAIC0xNTEsNiArMTU0LDUzIEBAIHN0cnVj
dCBncmV5YnVzX2Rlc2NyaXB0b3JfY3BvcnQgewo+ICAJX191OAlwcm90b2NvbF9pZDsJLyogZW51
bSBncmV5YnVzX3Byb3RvY29sICovCj4gIH0gX19wYWNrZWQ7Cj4gIAo+ICsvKgo+ICsgKiBBIG1p
a3JvYnVzIGRlc2NyaXB0b3IgaXMgdXNlZCB0byBkZXNjcmliZSB0aGUgZGV0YWlscwo+ICsgKiBh
Ym91dCB0aGUgYWRkLW9uIGJvYXJkIGNvbm5lY3RlZCB0byB0aGUgbWlrcm9idXMgcG9ydC4KPiAr
ICogSXQgZGVzY3JpYmVzIHRoZSBudW1iZXIgb2YgaW5kaXZkdWFsIGRldmljZXMgb24gdGhlCj4g
KyAqIGFkZC1vbiBib2FyZCBhbmQgdGhlIGRlZmF1bHQgc3RhdGVzIG9mIHRoZSBHUElPcwo+ICsg
Ki8KPiArc3RydWN0IGdyZXlidXNfZGVzY3JpcHRvcl9taWtyb2J1cyB7Cj4gKwlfX3U4IG51bV9k
ZXZpY2VzOwo+ICsJX191OCByc3RfZ3Bpb19zdGF0ZTsKPiArCV9fdTggcHdtX2dwaW9fc3RhdGU7
Cj4gKwlfX3U4IGludF9ncGlvX3N0YXRlOwo+ICt9IF9fcGFja2VkOwo+ICsKPiArLyoKPiArICog
QSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGlzIHVzZWQgdG8gcGFzcyBuYW1lZCBwcm9wZXJ0aWVzCj4g
KyAqIHRvIGRldmljZSBkcml2ZXJzIHRocm91Z2ggdGhlIHVuaWZpZWQgZGV2aWNlIHByb3BlcnRp
ZXMKPiArICogaW50ZXJmYWNlIHVuZGVyIGxpbnV4L3Byb3BlcnR5LmgKPiArICovCj4gK3N0cnVj
dCBncmV5YnVzX2Rlc2NyaXB0b3JfcHJvcGVydHkgewo+ICsJX191OCBsZW5ndGg7Cj4gKwlfX3U4
IGlkOwo+ICsJX191OCBwcm9wbmFtZV9zdHJpbmdpZDsKPiArCV9fdTggdHlwZTsKPiArCV9fdTgg
dmFsdWVbMF07Cj4gK30gX19wYWNrZWQ7Cj4gKwo+ICsvKgo+ICsgKiBBIGRldmljZSBkZXNjcmlw
dG9yIGlzIHVzZWQgdG8gZGVzY3JpYmUgdGhlCj4gKyAqIGRldGFpbHMgcmVxdWlyZWQgYnkgYSBh
ZGQtb24gYm9hcmQgZGV2aWNlCj4gKyAqIGRyaXZlci4KPiArICovCj4gK3N0cnVjdCBncmV5YnVz
X2Rlc2NyaXB0b3JfZGV2aWNlIHsKPiArCV9fdTggaWQ7Cj4gKwlfX3U4IGRyaXZlcl9zdHJpbmdp
ZDsKPiArCV9fdTggbnVtX3Byb3BlcnRpZXM7Cj4gKwlfX3U4IHByb3RvY29sOwo+ICsJX19sZTMy
IG1heF9zcGVlZF9oejsKPiArCV9fdTggcmVnOwo+ICsJX191OCBtb2RlOwo+ICsJX191OCBudW1f
Z3Bpb19yZXNvdXJjZXM7Cj4gKwlfX3U4IGNzX2dwaW87Cj4gKwlfX3U4IGlycTsKPiArCV9fdTgg
aXJxX3R5cGU7Cj4gKwlfX3U4IHByb3BfbGluazsKPiArCV9fdTggZ3Bpb19saW5rOwo+ICt9IF9f
cGFja2VkOwo+ICsKPiAgc3RydWN0IGdyZXlidXNfZGVzY3JpcHRvcl9oZWFkZXIgewo+ICAJX19s
ZTE2CXNpemU7Cj4gIAlfX3U4CXR5cGU7CQkvKiBlbnVtIGdyZXlidXNfZGVzY3JpcHRvcl90eXBl
ICovCj4gQEAgLTE2NCw2ICsyMTQsOSBAQCBzdHJ1Y3QgZ3JleWJ1c19kZXNjcmlwdG9yIHsKPiAg
CQlzdHJ1Y3QgZ3JleWJ1c19kZXNjcmlwdG9yX2ludGVyZmFjZQlpbnRlcmZhY2U7Cj4gIAkJc3Ry
dWN0IGdyZXlidXNfZGVzY3JpcHRvcl9idW5kbGUJYnVuZGxlOwo+ICAJCXN0cnVjdCBncmV5YnVz
X2Rlc2NyaXB0b3JfY3BvcnQJCWNwb3J0Owo+ICsJCXN0cnVjdCBncmV5YnVzX2Rlc2NyaXB0b3Jf
bWlrcm9idXMJbWlrcm9idXM7Cj4gKwkJc3RydWN0IGdyZXlidXNfZGVzY3JpcHRvcl9wcm9wZXJ0
eQlwcm9wZXJ0eTsKPiArCQlzdHJ1Y3QgZ3JleWJ1c19kZXNjcmlwdG9yX2RldmljZQlkZXZpY2U7
Cj4gIAl9Owo+ICB9IF9fcGFja2VkOwo+ICAKPiAKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fCmdyZXlidXMtZGV2IG1haWxpbmcgbGlzdApncmV5YnVzLWRl
dkBsaXN0cy5saW5hcm8ub3JnCmh0dHBzOi8vbGlzdHMubGluYXJvLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2dyZXlidXMtZGV2Cg==
